(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{"+hF4":function(t,e){!function(){"use strict";PF.ProductsCatalog.Components={}}()},"/E8/":function(t,e){!function(){"use strict";PF.ProductsCatalog.Filters.SpecialOffers=Class({_prepareFilter:function(t){var e=[].concat.apply([],t.map(this._mapSpecialOffer.bind(this)));return e.filter(this.filterEmptyOrDuplicateParam.bind(this,e))},_mapSpecialOffer:function(t){var e=[];return this.getProduct(t).priceRange.bulkDiscountTiers&&e.push(dlang("global","Bulk discount")),e},filterProduct:function(t){return!this._selectedValues.length||!!this.getProduct(t).priceRange.bulkDiscountTiers}},PF.ProductsCatalog.Filters.Base)}()},"1hQZ":function(t,e){!function(){"use strict";PF.ProductsCatalog.Filters.Technique=Class({_prepareFilter:function(t){var e=[].concat.apply([],t.map(this._mapProductOrVariant.bind(this)));return e.filter(this.filterEmptyOrDuplicateParam.bind(this,e))},_mapProductOrVariant:function(t){var e=this.getProduct(t),i=[];for(var a in e.availableTechniques)e.availableTechniques[a]&&i.push(e.availableTechniques[a]);return i},filterProduct:function(t){if(!this._selectedValues.length)return!0;var e,i=t;for(var a in t instanceof PF.Items.VariantItem&&(i=t.getCachedProduct()),i.availableTechniques)if(!(this._selectedValues.indexOf(i.availableTechniques[a])<0)){e=!0;break}return e}},PF.ProductsCatalog.Filters.Base)}()},"1uTr":function(t,e){!function(){"use strict";PF.ProductsCatalog.Product.Media.Gallery=Class({images:[],videos:[],_onVideoClick:null,_onImageClick:null,currentSlide:0,productTitle:"",emptyImage:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",__construct:function(t){this._onVideoClick=t.onVideoClick,this._onImageClick=t.onImageClick,this.currentSlide=t.currentSlide,this.productTitle=t.productTitle,this.original=null,this.canClick=!1,this.node=tag("div","row catalog__slick",[this._thumbContainer=tag("div","col-sm-2 col-md-3 col-lg-2 hidden-xs",[this._nodeThumbnails=tag("div"),this._nodeVideo=tag("div")]),this._imgContainer=tag("div","col-sm-10 col-md-9 col-lg-10",[this._nodeImages=tag("div")])]),t.images.length&&this.render(t.images,t.videos),$(this._nodeThumbnails).on("mouseenter",".slick-slide",function(t){var e=$(t.currentTarget),i=$(e).data("slick-index");if(!$(e).hasClass("slick-current")){this.original=$(this._nodeImages).find(".slick-current img");var a=$(this.original).clone().attr("src",$(this._nodeImages).find("[data-slick-index="+i+"] img").attr("src"));$(a).addClass("cloned-image");var r=$(this._nodeImages).find(".slick-current div div");$(r).append(a),$(this.original).addClass("pf-d-none")}}.bind(this)),$(this._nodeThumbnails).on("mouseleave",".slick-slide",function(){$(".cloned-image").remove(),$(this.original).removeClass("pf-d-none")}.bind(this)),window.addEventListener("keyup",this._onKeyUp.bind(this))},render:function(t,e){this.imagesToLazyLoad=0,this.images=this._setFilteredImages(t),this.videos=this._setVideos(t,e),this._setThumbs(),this._setImages(),this._initSlickSliders()},_updateBackgroundColor:function(t){$(this._nodeImages).find("img").css("background","0% 0% / contain "+t),$(this._nodeThumbnails).find("img").css("background",t)},_updateBackgroundImage:function(t){$(this._nodeImages).find("img").css("background","url("+t+") 0% 0% / contain"),$(this._nodeThumbnails).find("img").css("background","url("+t+")").css("background-size","100%")},_updateImgUrl:function(t,e){$(this._nodeImages).find('img[src*="'+t+'"]').attr("src",e),$(this._nodeThumbnails).find('img[src*="'+t.replace("_l","_t")+'"]').attr("src",e.replace("_l","_t"))},_updateImgFromVideo:function(t){this._nodeImages.querySelectorAll('img[src="'+t+'"]').forEach((function(t){t.classList.remove("hidden");var e=t.previousElementSibling;e&&e.remove()}))},_updateVideoFromImg:function(t,e,i){this._nodeImages.querySelectorAll('img[src="'+t+'"]').forEach(function(a){a.classList.add("hidden");var r=a.previousElementSibling;r?r.classList.remove("hidden"):(r=this._renderVideoNode(e,t,this._onImageClick&&this._onImageClick.bind(this,i)),a.parentElement.insertBefore(r,a),r.load())}.bind(this))},_updateVideoFromVideo:function(t,e,i,a){this._nodeImages.querySelectorAll('video source[src="'+e+'"]').forEach(function(e){var r=this._renderVideoNode(t,i,this._onImageClick&&this._onImageClick.bind(this,a));e.parentElement.replaceWith(r),r.load()}.bind(this))},_setImages:function(){mkE.hasClassName(this._nodeImages,"slick-initialized")&&$(this._nodeImages).slick("destroy"),mkE.clearNode(this._nodeImages),this.images.map(this._renderImage);for(var t=0;t<this.images.length;t++)this.images[t].forceBackgroundColor&&this._updateBackgroundColor(this.images[t].forceBackgroundColor),this.images[t].forceBackgroundImage&&this._updateBackgroundImage(this.images[t].forceBackgroundImage)},_setThumbs:function(){mkE.hasClassName(this._nodeThumbnails,"slick-initialized")&&$(this._nodeThumbnails).slick("destroy"),mkE.clearNode(this._nodeThumbnails),this.images.concat(this.videos).map(this._renderThumbnail)},_initSlickSliders:function(){$(this._nodeThumbnails).off("lazyLoaded").on("lazyLoaded",(function(t,e){e.setDimensions()})).slick({slidesToShow:this._nodeVideoButton?4:5,slidesToScroll:1,asNavFor:this._nodeImages,lazyLoad:"progressive",dots:!1,vertical:!0,arrows:!0,verticalSwiping:!1,speed:300,focusOnSelect:!0,accessibility:!1,adaptiveHeight:!1,prevArrow:'<div class="catalog__slick__arrow catalog__slick__arrow--vertical catalog__slick__arrow--top"><div class="catalog__slick__arrow-bg"><span class="pf-i pf-i-chevron-up"></span></div></div>',nextArrow:'<div class="catalog__slick__arrow catalog__slick__arrow--vertical catalog__slick__arrow--bottom"><div class="catalog__slick__arrow-bg"><span class="pf-i pf-i-chevron-down"></span></div></div>'}),$(this._nodeImages).off("beforeChange").on("beforeChange",function(t,e,i,a){this.canClick=!1,this.currentSlide=a}.bind(this)).on("afterChange",function(t,e,i,a){this.canClick=!0}.bind(this)).off("lazyLoaded").on("lazyLoaded",(function(t,e){this.imagesToLazyLoad<1&&e.animateHeight(),this.imagesToLazyLoad++})).slick({slidesToShow:1,slidesToScroll:1,adaptiveHeight:!0,arrows:!0,fade:!1,asNavFor:this._nodeThumbnails,lazyLoad:"progressive",swipeToSlide:!0,speed:300,prevArrow:'<div class="catalog__slick__arrow catalog__slick__arrow--horizontal catalog__slick__arrow--left"><div class="catalog__slick__arrow-bg"><span class="pf-i pf-i-chevron-left"></span></div></div>',nextArrow:'<div class="catalog__slick__arrow catalog__slick__arrow--horizontal catalog__slick__arrow--right"><div class="catalog__slick__arrow-bg"><span class="pf-i pf-i-chevron-right"></span></div></div>',dots:!1,responsive:[{breakpoint:PF.ProductsCatalog.BREAKPOINT_DOTS,settings:{dots:!0}}]}),$(this._nodeImages).slick("slickSetOption","speed",0).slick("slickGoTo",this.currentSlide).slick("slickSetOption","speed",300),1===this.images.length&&$(this._nodeImages).addClass("one-image"),this.images.length+this.videos.length<=5&&$(this._nodeThumbnails).find(".slick-list").addClass("not-sliding")},_getThumb:function(t,e){return t.originalLink?t.originalLink:t.actualThumbLink&&!e?t.actualThumbLink:t.thumbLink},_getProductAltText:function(t){return this.productTitle+" thumbnail "+(parseInt(t)+1)},_renderVideoNode:function(t,e,i){i instanceof Function||(i=function(){});var a=tag("video",{className:"img-responsive",onclick:i,attr:{poster:e,preload:"true",playsinline:"true","webkit-playsinline":"true"}},[tag("source",{attr:{src:t,type:"video/mp4"}})]);return a.muted=!0,a.loop=!0,a.autoplay=!0,a.playsinline=!0,a.controls=!1,a.preload=!0,a},_renderImage:function(t,e){var i=!1;!t.videoLink||t.videoId||t.videoThumbnail||(i=!0),tag("div","",[i?this._renderVideoNode(t.videoLink,this._getThumb(t,!0),this._onImageClick&&this._onImageClick.bind(this,e)):"",tag("img",{className:"img-responsive "+(i?"hidden":""),onclick:this._onImageClick&&this._onImageClick.bind(this,e),attr:{"data-lazy":this._getThumb(t,!0),src:this.emptyImage,alt:this._getProductAltText(e)}})]).append(this._nodeImages)},_renderThumbnail:function(t,e){if(t.videoLink&&(t.videoId||t.videoThumbnail)){this._nodeVideoButton&&(mkE.clearNode(this._nodeVideoButton),mkE.clearNode(this._nodeVideo)),this._nodeVideoButton=tag("div","catalog__slick__video pf-d-block pf-d-sm-none",[tag("a",{className:"pf-py-12 pf-mt-16",prop:{onclick:this._onVideoClick.bind(this,t.videoLink)}},[tag("img",{className:"pf-mr-12",src:"/static/images/layout/play.svg"}),lang("Watch video")])]).append(this.node);var i=tag("img",{className:"img-responsive center-block",src:this._getThumb(t)});["mp4","webm"].indexOf(t.extension)<0||(i=tag("video",{className:"img-responsive center-block",width:"80px",height:"100px",prop:{autoplay:!0,loop:!0}},[tag("source",{attr:{src:this._getThumb(t),type:"video/"+t.extension}})])),tag("div",{className:"pf-mt-8 img-holder video-gif pf-d-none pf-d-sm-block",onclick:this._onVideoClick.bind(this,t.videoLink)},[i,tag("div")]).append(this._nodeVideo)}else tag("div","pf-mt-8 img-holder "+(this.currentSlide===e?" slick-current":""),[tag("img",{className:"img-responsive",onclick:function(){$(this._nodeImages).slick("slickGoTo",e,!0)}.bind(this),attr:{"data-lazy":this._getThumb(t),src:this.emptyImage,alt:this._getProductAltText(e)}})]).append(this._nodeThumbnails)},_setVideos:function(t,e){var i=t.filter((function(t){if(t.videoThumbnail)return!0}));return i.length>0?i:e},_setFilteredImages:function(t){return t.filter((function(t){if(!t.videoThumbnail)return!0}))},_onKeyUp:function(t){"keyup"===t.type&&(t.keyCode===$.ui.keyCode.RIGHT&&$(this._nodeImages).slick("slickNext"),t.keyCode===$.ui.keyCode.LEFT&&$(this._nodeImages).slick("slickPrev"))}},mkE.Base)}()},34:function(t,e,i){i("oi7h"),i("7R+B"),i("7z4H"),i("v/Xd"),i("mhgk"),i("kT3P"),i("xXdn"),i("ad9T"),i("khoc"),i("+hF4"),i("a3yQ"),i("ejeh"),i("DHJs"),i("9pVZ"),i("v49Q"),i("vIyE"),i("ZAuK"),i("FhGo"),i("5kcD"),i("kPVw"),i("1hQZ"),i("/E8/"),i("N6Gp"),i("6B/H"),i("nNhH"),i("6AyK"),i("Ffcv"),i("mO+9"),i("6c14"),i("qPy4"),i("8+xk"),i("5OoY"),i("zt8S"),i("1uTr"),i("j4E/"),i("zmDg"),i("cfRx"),i("qb/7"),i("AUjr"),i("Mzju"),i("SUtP"),i("unRh"),i("WOS3"),i("L9pC"),i("Op/+"),i("ji4W"),i("Rsrl"),i("g357"),i("iiV/"),i("Tt8e"),i("yHOK"),i("HzwA"),i("pg2N"),i("6SM3"),i("I6eF"),i("uX4y"),i("xH6z"),i("TkdK"),i("c2Zm"),i("B6gO"),i("E1i+"),t.exports=i("dQXU")},"4Vs6":function(t,e,i){"use strict";function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}i.r(e),i.d(e,"TechniquePickerPar",(function(){return r}));var r=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"techniques",[]),a(this,"activeValue",""),a(this,"callback",null),a(this,"isGenerator",!1),a(this,"productId",0)}},"5OoY":function(t,e,i){"use strict";i.r(e);var a=i("4Vs6");PF.ProductsCatalog.Product.Info=Class({productData:null,variant:null,_sizePicker:null,_regionPicker:null,_latestOrderNode:null,regionData:{},_colorPicker:null,_variantAvailability:null,_isRegionUnavailable:!1,_isUpdatingPickers:!1,__construct:function(t,e,i,r){this.productData=t,this.regionData=t.regions,this._onVariantChanged=e,this._variantAvailability=new PF.VariantPicker.VariantAvailability(this.productData.variants),this._sampleVariantAvailability=new PF.VariantPicker.SampleVariantAvailability(this.productData.product.availableSampleVariants,this.productData.variants);var s=null;this.productData.product.fulfillmentDays&&(s=Math.round(10*this.productData.product.fulfillmentDays)/10);var o=this.getPriceListNode();this._nodePriceList=new PF.ProductsCatalog.Product.BrandingOptionPriceList(this.productData.product),this._colorPicker=new PF.VariantPicker.ColorPicker(this.productData.variants,this._onColorPicked,this.productData.product.productId,"pf-mb-24");var n=new a.TechniquePickerPar;if(n.techniques=this._getTechniques(),n.activeValue=this._getActiveTechnique(),n.callback=this._onTechniquePicked,n.productId=this.productData.product.productId,this.node=tag("div","pf-ui-body",[tag("h1","pf-h3 pf-mt-0 pf-mb-8",[this.productData.product.getFullTitle()]),PF.Utils.Discount.createLaunchPriceDiscountAnnouncement(this.productData.product.priceRange,!0,"pf-mb-16 pf-mt-8"),tag("div","pf-mb-24",[new PF.ProductReviewList.getReviewRatingNode(new PF.ProductReview.ReviewableProductItem(this.productData.product),!1,i,r)]),tag("div","pf-mb-8",[this._regionPicker=new PF.VariantPicker.RegionPicker(this.productData.variants,this.productData.getRegionVariants(),this._onRegionChanged)]),this._getTechniques().length>1?new PF.VariantPicker.TechniquePicker(n):"",tag("div","",[this._colorPicker]),this._nodeSizePicker=tag("div","",[this._sizePicker=this._getSizePicker()]),tag("div","pf-mb-8",[tag("b","",[dlang("products","Price"),tag("b","products-pricing-info__red",["*"])]),o]),this._nodePrice=tag("div","products-pricing-info__price pf-mb-sm-16 pf-mb-24"),tag("div","row pf-mb-24 pf-p-12 pf-p-sm-0 catalog__product__buttons",[this._orderButtons=this._getOrderButtons()]),null!==s?tag("div","catalog__product__shipping-container pf-mb-24",[tag("div","text-muted",[tag("span",{innerHTML:dclang("products","fulfillment","Ready in")+" ({url})".replace("{url}",tag("a",{className:"pf-link",href:langUrl("/faq/shipping-packaging-fulfillment/192-how-long-is-fulfillment-time-"),text:dclang("products","fulfillment","avg fulfillment"),attr:{target:"_blank"}}).outerHTML)+": "}),tag("strong","",dnclang("products","fulfillment","{days} business day","{days} business days",Math.floor(s)).replace("{days}",s))])]):"",this._latestOrderNode=tag("div"),this._nodePriceList]),this.productData.activeVariant)this._setVariant(this.productData.activeVariant);else{var c=null,l=new Url;(l.query.color||l.query.size)&&(c=this._findVariant(l.query.color,l.query.size)),c||(c=this._getVariantForPreSelect()),c&&this._setVariant(c)}this._setUnavailableSizes(),this._setUnavailableColors(),this._getLatestOrderFrom(),this._onSomethingChanged(!1)},getPriceListNode:function(){return this.productData.product.priceRange.bulkDiscountTiers?tag("a",{className:"pf-link pf-d-inline-block pf-ml-8",onclick:this.openPriceList},dlang("orders","Buying in bulk?")):""},openPriceList:function(){this._nodePriceList._showModal("bulk")},getColorPicker:function(){return this._colorPicker},_setVariant:function(t){this._sizePicker.setVariant(t),this._colorPicker.setVariant(t)},_getVariantForPreSelect:function(){var t=null,e=PF.Utils.Sizes.fetchSizesFromVariants(this.productData.variants),i=PF.Utils.Colors.fetchColorsFromVariants(this.productData.variants),a=Object.keys(i).length;if(a){var r=PF.Utils.Colors.convertColorObjToArray(i);r=PF.Utils.Colors.sortColorsByLuminosity(r).reverse()}var s=-1!==e.indexOf("M")?"M":e.sort(PF.Utils.Product.sizeSortingCallback)[0];if(a)for(var o in r){var n=r[o];if(t=this._findVariant(n.name,s))break}else t=this._findVariant(!1,s);return t},_findVariant:function(t,e){var i=null;for(var a in this.productData.variants){var r=this.productData.variants[a],s=!e||r.size===e,o=!t||r.color===t;if(s&&o){i=r;break}}return i},_getTechniques:function(){return this.productData.product.hasMultipleTechniques()?this.productData.product.availableTechniques.map((function(t){return{type:t,label:PF.Items.ProductItem.LABELS[t]}})):[]},_getActiveTechnique:function(){var t=this.productData.product,e=t.availableTechniques?t.availableTechniques:[],i=PF.Utils.TechniqueMemory(t.productId).getTechniqueFromMemory();return i&&e.indexOf(i)>-1?i:e.length?e.slice().shift():t.type},_onTechniquePicked:function(t){new PF.Utils.TechniqueMemory(this.productData.product.productId).rememberLastUsedTechnique(t),this._onSomethingChanged(),this._renderPriceNode()},_getSizePicker:function(){return new PF.VariantPicker.SizePicker(this.productData.variants,this._onSizeChanged,"pf-mb-24")},_getOrderButtons:function(){var t=[tag("div",this.productData.isLogged?"col-6 pf-pr-12":"col-12",[tag("a",{className:"btn btn-danger btn-lg btn-block pf-px-0",attr:{dusk:"products-pricing-order-button"},onclick:function(){if(beginOrderTracking("catalog"),PF.Customer.isLogged())return this.orderProduct.call(this),!0;this._onProductChosen()}.bind(this)},[lang("Start designing")])])];return this.productData.isLogged&&t.push(tag("div","col-6 pf-pl-12",[this._sampleOrderButton=tag("a",{className:"btn btn-default btn-lg btn-block pf-px-0",onclick:function(){beginOrderTracking("catalog"),this.orderProduct.call(this,!0)}.bind(this)},[dlang("products","Order sample")])])),t},_onProductChosen:function(){PF.Events.emit(PF.ShoppingCart.EVENT_OPEN_DESIGNER,{productData:this.productData,variant:this.variant})},_getLatestOrderFrom:function(){RPC("product-catalog/get-latest-order",{productId:this.productData.product.productId},this._getLatestOrdersFromRe)},_getLatestOrdersFromRe:function(t){if(t&&t.length>0){var e=new PF.LatestOrders(t,!1,"col-12");mkE.clearNode(this._latestOrderNode),tag("div","product-item__latest-order",[tag("span","pf-mr-12",lang("Latest orders from:")+" "),e]).append(this._latestOrderNode)}},_renderPriceNode:function(){var t,e=this.productData.product.priceRange.getAdjustmentPrice(),i=this.productData.product.shouldShowTaxInclusion();t=this.variant?PF.Utils.Discount.createDiscountElementFromPriceData(this.variant.priceData,e,i):PF.Utils.Discount.createDiscountElementFromPriceRange(this.productData.product.priceRange,e,i),mkE.clearNode(this._nodePrice),t.append(this._nodePrice),this.productData.product.hasFreeShipping&&tag("span","product-item__detail__free-shipping",dclang("products","badge"," + free shipping")).append(this._nodePrice)},_updateShippingInfo:function(){RPC("product-catalog/get-shipping-info",{region:this._regionPicker.getRegion(),productId:this.productData.product.productId},this._updateShippingInfoRe)},_updateShippingInfoRe:function(t){mkE.clearNode(this._nodeShippingInfo),tag("div",{innerHTML:t}).append(this._nodeShippingInfo)},updatePickers:function(){mkE.clearNode(this._nodeSizePicker),this._sizePicker=this._getSizePicker(),this._sizePicker.append(this._nodeSizePicker),this._isUpdatingPickers=!0,this._setUnavailableSizes(),this._setUnavailableColors(),this._onSomethingChanged(!1,!1)},orderProduct:function(t){var e=new PF.OrderBegin.Par;e.orderType=t?PF.OrderBegin.ORDER_TYPE_SAMPLE:PF.OrderBegin.ORDER_TYPE_BASIC,e.productId=this.productData.product.productId,e.productColor=this.getSelectedColorName(),e.productTechnique=this._getActiveTechnique(),e.productRegion=this.getSelectedRegion(),this._sizePicker?e.productSize=this._sizePicker.getSize():1===this.productData.product.sizes.length&&(e.productSize=this.productData.product.sizes[0]),new PF.OrderBegin(e);for(var i=[this.productData.product.brand,this.productData.product.model],a="",r=0;r<i.length;r++)null!==i[r]&&(a+=i[r]+" ");(a=a.slice(0,-1))||(a=this.productData.product.title),ga("send","event","Button Clicks","Order "+(t?"Sample":"Product")+" Button",a)},getSelectedColorName:function(){return!!this._colorPicker&&this._colorPicker.getColor()},getSelectedRegion:function(){return!!this._regionPicker&&this._regionPicker.getRegion()},getSelectedSize:function(){return!!this._sizePicker&&this._sizePicker.getSize()},getSelectedRegionDisabledValues:function(t){return this._colorPicker.setSelectedRegionDisabledValues(this._regionPicker.getMatchingVariants(),this.productData.variants,t,this.regionData),this._colorPicker.getValueCount()>0?this._colorPicker.getSelectedRegionDisabledValues(t):[]},_onRegionChanged:function(){this._colorPicker.getValueCount()>0&&this._colorPicker.setVariantsAndDisabledRegionColors(this._regionPicker.getMatchingVariants(),this.productData.variants,this.regionData),this._setUnavailableSizes(),this._onSomethingChanged()},_onColorPicked:function(){this._setUnavailableSizes(),this._onSomethingChanged(!0,!0,!0)},_onSizeChanged:function(){this._setUnavailableColors(),this._onSomethingChanged()},_setUnavailableSizes:function(){var t=this.getSelectedColorName(),e=this.getSelectedSize(),i=this.productData.variants;if(this._sizePicker||t||0===this._colorPicker.getValueCount()){var a=this._variantAvailability.getUnavailableSizes(t||"",this._sizePicker.getSizes()),r=this._variantAvailability.getNonExistentSizes(t||"",this._sizePicker.getSizes());this._sizePicker.setSelectedRegionDisabledValues(this._regionPicker.getMatchingVariants().filter((function(e){return!t||t===e.color})),i,"size",this.regionData),this._colorPicker.setSelectedRegionDisabledValues(this._regionPicker.getMatchingVariants().filter((function(t){return!e||e===t.size})),i,"color",this.regionData);var s=this._sizePicker.getSelectedRegionDisabledValues("size"),o=this._colorPicker.getSelectedRegionDisabledValues("color"),n=!1;for(var c in o)o[c]==this._colorPicker.getColor()&&(n=!0);var l=[];if(n)for(var d in i)i[d].color==this._colorPicker.getColor()&&l.push(i[d].size);var u=s.filter((function(t){return-1!==l.indexOf(t)}));this._sizePicker.setInactiveSizes(u.length?u:s),this._sizePicker.setUnavailableSizes(a),this.productData.product.isInCatalogCategory(56)&&this._sizePicker.setHiddenSizes(r)}},_setUnavailableColors:function(){var t=this._sizePicker.getValueCount()>0&&this._sizePicker.getSize();if((0!==this._sizePicker.getValueCount()&&this._sizePicker.hasAtLeastOneValue()||this.productData.product.type===PF.Items.ProductItem.TYPE_EMBROIDERY)&&this._colorPicker.hasAtLeastOneValue()){this._colorPicker.setSelectedRegionDisabledValues(this._regionPicker.getMatchingVariants(),this.productData.variants,"color",this.regionData),this._sizePicker.setSelectedRegionDisabledValues(this._regionPicker.getMatchingVariants(),this.productData.variants,"size",this.regionData);var e=this._colorPicker.getSelectedRegionDisabledValues("color"),i=this._variantAvailability.getDiscontinuedColors(t||"").concat(this._variantAvailability.getNonExistentColors(t,this._colorPicker.getAvailableColors()));this._colorPicker.setUnavailableColors(this._variantAvailability.getUnAvailableColors(t||"")),this._colorPicker.setDiscontinuedColors(i),this._colorPicker.setDisabledRegionColors(e),this._colorPicker.render()}},_onSomethingChanged:function(t,e,i){this.variant=this._regionPicker.getMatchingVariants().filter(this._filterVariant.bind(this,this.getSelectedColorName(),this.getSelectedSize())).shift(),this._isRegionUnavailable=!1,this.variant||(this.variant=this._regionPicker.getAllVariants().filter(this._filterVariant.bind(this,this.getSelectedColorName(),this.getSelectedSize())).shift(),this._isRegionUnavailable=!0),this._toggleOrderAvailability(),this._renderPriceNode(),PF.ProductsCatalog.Product.Info.isVariantChanged=!this._isUpdatingPickers,this._isUpdatingPickers=!1,this._shouldDispatchEvent(t)&&PF.ProductsCatalog.Utils.State.createAndDispatch(PF.ProductsCatalog.EVENT_VARIANT_CHANGED,{productTechnique:this._getActiveTechnique(),productColor:this.getSelectedColorName(),productSize:this.getSelectedSize(),productRegion:this.getSelectedRegion(),activeProductId:this.productData.product.productId}),this._shouldCallback(e)&&this._onVariantChanged(this.variant,i),this._nodePriceList.variantChanged(this.variant,this._getActiveTechnique())},_isSelectedColorInactive:function(){return this.getSelectedRegionDisabledValues("color").filter(this._filterColor.bind(this,this.getSelectedColorName())).length>0},_filterColor:function(t,e){return e===t},_mapInactiveColorDisabledSizes:function(t,e){return e.color===t&&e.size},_filterVariant:function(t,e,i){return!(t&&i.color!==t||e&&i.size!==e)},_hasValidVariant:function(){return this.variant&&!this.variant.isDisabledInPush&&this.variant.hasStock},_toggleOrderAvailability:function(){if(!this.variant||this._isRegionUnavailable||this.variant&&this.variant.isDisabledInPush&&!this.variant.hasStock)return this._enableOrderButtons(!1),void(this._isOrderAvailable=!1);this._isOrderAvailable=!0,this._enableOrderButtons(!0),this.productData.isLogged&&(this._sampleVariantAvailability.isAvailableVariant(this.variant)?this._enableSampleButton(!0):this._enableSampleButton(!1))},_enableOrderButtons:function(t){this._orderButtons.map(this._addOrRemoveClass.bind(this,"disabled",t))},_enableSampleButton:function(t){this._addOrRemoveClass("disabled",t,this._sampleOrderButton)},_shouldCallback:function(t){return!(void 0!==t&&!t)&&this._onVariantChanged&&this.variant},_shouldDispatchEvent:function(t){return!(void 0!==t&&!t)&&this._isOrderAvailable&&(this.getSelectedColorName()||this.getSelectedSize())},_addOrRemoveClass:function(t,e,i){mkE[e?"removeClassName":"addClassName"](i,t)}},mkE.Base),PF.ProductsCatalog.Product.Info.isVariantChanged=!1},"5kcD":function(t,e){!function(){"use strict";PF.ProductsCatalog.Filters.SizeCm=Class({_isSizeValid:function(t){return"cm"===t.slice(-2)}},PF.ProductsCatalog.Filters.Size)}()},"6AyK":function(t,e){!function(){"use strict";PF.ProductsCatalog.Items.CategorySettings=Class({headerDropDownTitle:"",headerDropDownPosition:1,sidebarNavTitle:"",showNewSidebarSetAt:null,sidebarNavPosition:1,thumbnailTitle:"",breadcrumbName:"",secondSidebarLink:""}),PF.ProductsCatalog.Items.CategorySettings.fromArray=function(t){var e=new PF.ProductsCatalog.Items.CategorySettings;return mkE.O2O(e,t),e}}()},"6B/H":function(t,e){!function(){"use strict";PF.ProductsCatalog.Items.CategoryTabItem=Class({id:0,name:"",type:"",mainHeader:"",pageTitle:"",metaDescription:"",position:0,active:!1}),PF.ProductsCatalog.Items.CategoryTabItem.fromArray=function(t){var e=new PF.ProductsCatalog.Items.CategoryTabItem;return mkE.O2O(e,t),e}}()},"6SM3":function(t,e){!function(){"use strict";PF.ProductsCatalog.Views.ProductsSelector=Class({id:"models",filters:null,_searchKeywords:"",_products:null,_filters:null,_category:null,page:1,productsPerPage:24,url:new Url,showFulfillmentCountries:!0,isTabAlwaysVisible:!0,sortMethods:PF.ProductsPricing.SORT_METHODS,_totalProductCount:0,_maxCountPerPage:0,_minCountPerPage:0,__construct:function(){this._searchKeywords=this.url.query.search||"",this.page=this.url.query.page?parseInt(this.url.query.page):1,this.node=tag("div","",[this._filtersNode=tag("div","",[tag("div","row pf-mt-16 hidden-xs",[tag("div","col-sm-8 col-xs-12 pf-d-flex pf-align-items-center",[this._resultsPerPageNode=tag("span"),this._nodeClearFilters=tag("a",{className:"pf-link pf-d-none pf-ml-24",onclick:this._clearFilters.bind(this)},dlang("products","Clear filters"))]),tag("div","col-md-4 col-sm-4 col-xs-12",[tag("span","styled-select",[this._sortBox=tag("select",{className:"form-element",prop:{onchange:this.render.bind(this)}})])])]),tag("div","row pf-mt-16 hidden-sm hidden-md hidden-lg products-pricing",[this._nodeMobileFilters=tag("div","products-pricing__mobile-filters "+(PF.Utils.isTouch()?"touch":""),[tag("div",{className:"products-pricing__mobile-filters__filter pf-px-16 pf-py-8 pull-left",prop:{onclick:this._onMobileFilter}},[tag("div","text-muted small",[lang("Filter by")]),this._nodeMobileFilterTitle=tag("div","bold")]),tag("div","products-pricing__mobile-filters__filter pf-px-16 pf-py-8 pull-left",[tag("div","text-muted small",[lang("Sort by")]),this._nodeMobileSortTitle=tag("div","bold",[dlang("products","Most popular")]),this._mobileSortBox=tag("select",{prop:{onchange:this._changeMobileSort}}),tag("div","dropdown",[tag("div",{className:"dropdown-toggle",attr:{"data-toggle":"dropdown"}}),this._mobileSortDropdown=tag("ul","dropdown-menu pf-p-0")])]),tag("div","col-6 pf-mt-16 pf-px-8 pull-left",[this._mobileResultsPerPageNode=tag("span")]),tag("div","col-6 pf-mt-16 pf-px-8 pull-right",[this._nodeMobileClearFilters=tag("a",{className:"catalog__sidebar-filter__clear pf-link pf-d-none pull-right",onclick:this._clearFilters.bind(this)},dlang("products","Clear filters"))]),tag("div","clearfix")])])]),this._productsNode=tag("div","clearfix"),this._nodeFooter=tag("div")])},render:function(t){t&&t.products&&(this._products=t.products,this._filters=t.filters,this._renderSortOptions(this._products)),t&&t.category&&(this._category=t.category),t&&null!==t.keywords&&(this._searchKeywords=t.keywords),t&&void 0!==t.showFulfillmentCountries&&(this.showFulfillmentCountries=t.showFulfillmentCountries),t&&t.page&&(this.page=t.page);var e=this._products.filter(this._isProductMatchingKeywords).sort(this.sortProducts.bind(this,this._sortBox.value));if(t&&t.totalProductCount){var i=Object.values(t.filters).some((function(t){return t.length}));this._totalProductCount=i?e.length:t.totalProductCount,this._renderResultsPerPage()}var a=Math.ceil(Number(this._totalProductCount)/this.productsPerPage);if(a>0&&this.page>a)return this._onPaginate(a),this;if(this.renderProducts(e),this._totalProductCount>this.productsPerPage){var r=new PF.Components.Paging.Par;r.page=this.page,r.pages=a,r.callback=this._onPaginate,r.scrollNode=this.node,r.scrollOffset=-100,r.className="pf-mt-16",tag("div","clearfix",[new PF.Components.Paging(r)]).append(this._productsNode)}return this._renderFilterTitles(),this._onFilter(),this},_renderFilterTitles:function(){var t="",e=$(this._sortBox).find("option:selected").text();this._filters&&(t=Object.values(this._filters).filter((function(t){return t&&t.length>0})).join(", ")),t||(t=lang("No filters")),mkE.setNodeText(this._nodeMobileFilterTitle,t),mkE.setNodeText(this._nodeMobileSortTitle,e)},sortProducts:function(t,e,i){return this._sortBox.value=t,this.sortMethods[t](e,i)},renderProducts:function(t){mkE.clearNode(this._productsNode);var e=t.filter(this._limitProducts),i=tag("div","row row-flex pf-mt-16",[e.length<1?tag("div","alert alert-warning text-center pf-m-16 col-xs-12",[dlang("products","Sorry, couldn't find any products")]):""]);for(var a in e){this._getProductListItem(e[a]).append(i)}i.append(this._productsNode)},_getSecondaryImage:function(t){var e=this._category?this._category.getSecondaryProductImage(t.productId):null;return e?e.urlThumb:null},_getProductListItem:function(t){var e=null,i=t;return t instanceof PF.Items.VariantItem&&(e=t,i=t.getCachedProduct()),new PF.Components.ProductListItem({product:i,variant:e,overrideImage:this._getSecondaryImage(i),className:"col-6 col-md-4 col-xl-3 pf-mb-0 pf-mb-md-8 pf-mb-lg-16",showSizes:!i.isEmbroidery()||i.isApparelEmbroidery(),showFulfillmentCountries:this.showFulfillmentCountries,isUnavailable:this._isUnavailable(i),url:PF.ProductsCatalog.catalogType===PF.ProductsCatalog.TYPE_MG?i.getMockupGeneratorUrl():i.catalogPageUrl,callback:this._onClickProduct.bind(this,i,e),technique:this._getCategoryTechnique(i)})},_getCategoryTechnique:function(t){var e=this._getFirstTechnique(t);return this._category&&this._category.isEmbroideryShirts()&&t.hasTechnique(PF.Items.ProductItem.TYPE_EMBROIDERY)?PF.Items.ProductItem.TYPE_EMBROIDERY:e},_onClickProduct:function(t,e,i,a){a&&a.preventDefault(),this._isUnavailable(t)||PF.ProductsCatalog.Utils.State.createAndDispatch(PF.ProductsCatalog.EVENT_PRODUCT_CHOOSE,{skipHistory:PF.ProductsCatalog.catalogType===PF.ProductsCatalog.TYPE_MG,scrollToTop:PF.ProductsCatalog.isProductsPricing(),activeProductId:t.productId,activeVariantId:e?e.variantId:null})},_getFirstTechnique:function(t){var e=this._filters.availableTechniques;return e.length?e[0]:t.type},_isProductMatchingKeywords:function(t){if(!this._searchKeywords)return!0;var e=this._searchKeywords.toLowerCase().split(" "),i=0,a=t.colors?t.colors.map((function(t){return t.colorName})).join(" "):t.color,r=t.sizes?t.sizes.join(" "):t.size;for(var s in e){var o=t.model&&t.model.toLowerCase().indexOf(e[s])>-1,n=t.brand&&t.brand.toLowerCase().indexOf(e[s])>-1,c=t.title&&t.title.toLowerCase().indexOf(e[s])>-1,l=t.name&&t.name.toLowerCase().indexOf(e[s])>-1,d=r&&r.replace(/×/g,"x").toLowerCase().indexOf(e[s])>-1,u=a&&a.toLowerCase().indexOf(e[s])>-1;(o||n||c||l||d||u)&&i++}return i===e.length},_renderSortOptions:function(t){var e="";this._sortBox.value&&(e=this._sortBox.value),mkE.clearNode(this._sortBox),mkE.clearNode(this._mobileSortBox),mkE.clearNode(this._mobileSortDropdown);var i=this._getSortingOptions(t,!0,!1,e);for(var a in i){var r=i[a],s=r.cloneNode(!0);this._sortBox.appendChild(r),this._mobileSortBox.appendChild(s)}var o=this._getSortingOptions(t,!1,!0,e);for(var a in o)this._mobileSortDropdown.appendChild(o[a])},_renderResultsPerPage:function(){if(this._minCountPerPage=this.page*this.productsPerPage-(this.productsPerPage-1),this._maxCountPerPage=Math.min(this._minCountPerPage+this.productsPerPage-1,this._totalProductCount),mkE.clearNode(this._resultsPerPageNode),mkE.clearNode(this._mobileResultsPerPageNode),this._resultsPerPageNode.appendChild(tag("span","",dlang("products","{minPerPage} - {perPage} of {total} results").replace("{minPerPage}",this._minCountPerPage.toString()).replace("{perPage}",this._maxCountPerPage.toString()).replace("{total}",this._totalProductCount.toString()))),this._mobileResultsPerPageNode.appendChild(tag("span","",dlang("products","{minPerPage} - {perPage} of {total} results").replace("{minPerPage}",this._minCountPerPage.toString()).replace("{perPage}",this._maxCountPerPage.toString()).replace("{total}",this._totalProductCount.toString()))),this.filters&&this.filters._filters&&this.filters._filters.getAllSelectedValues().length){mkE.clearNode(this._resultsPerPageNode),mkE.clearNode(this._mobileResultsPerPageNode);var t=tag("span","");t.innerHTML=dlang("products","{minPerPage} - {perPage} of {total} {filtered} results").replace("{minPerPage}",this._minCountPerPage.toString()).replace("{perPage}",this._maxCountPerPage.toString()).replace("{total}",this._totalProductCount.toString()).replace("{filtered}",tag("b","",dlang("products","filtered")).outerHTML);var e=t.cloneNode(!0);this._resultsPerPageNode.appendChild(t),this._mobileResultsPerPageNode.appendChild(e)}},_clearFilters:function(){this.filters&&this.filters.clearAll()},_onFilter:function(){this.filters&&this.filters._filters&&(this.filters._filters.getAllSelectedValues().length?(mkE.removeClassName(this._nodeClearFilters,"pf-d-none"),mkE.removeClassName(this._nodeMobileClearFilters,"pf-d-none")):(mkE.addClassName(this._nodeClearFilters,"pf-d-none"),mkE.addClassName(this._nodeMobileClearFilters,"pf-d-none")))},_getSortingOptions:function(t,e,i,a){var r={popular:dlang("products","Most popular"),is_new:dlang("products","New"),review:dlang("products","Highest rated"),price:[dlang("products","Price"),{priceLow:dlang("products","Low - High"),priceHigh:dlang("products","High - Low")}]};if(t){var s=[];for(var o in t){var n=t[o];n instanceof PF.Items.VariantItem&&(n=n.getCachedProduct()),s.push(n)}(t=s||t).some((function(t){if(t.hasOwnProperty("isNew"))return t.isNew}))||delete r.is_new,t.some((function(t){if(t.hasOwnProperty("reviewRating"))return t.reviewRating.reviewCount>0}))||delete r.review,t.some((function(t){if(t.hasOwnProperty("isPopular"))return t.isPopular}))||delete r.popular}return this._getSortingOptionsDOM(r,e,i,a)},_getSortingOptionsDOM:function(t,e,i,a){if(e){var r=[];for(var s in t){if("string"==typeof(h=t[s]))r.push(tag("option",{value:s,prop:{selected:s===a}},[h]));else{var o=[],n=h[0],c=h[1];for(var l in c){var d=c[l];o.push(tag("option",{value:l,prop:{selected:l===a}},[d]))}r.push(tag("optgroup",{attr:{label:n}},[o]))}}return r}if(i){var u=[];for(var s in t){var h;if("string"==typeof(h=t[s]))u.push(tag("li",{className:"pf-p-12",value:s,onclick:this._changeMobileSort.bind(this,{target:{value:s}})},[h]));else{var g=[];n=h[0],c=h[1];for(var l in g.push(tag("li","pf-px-12 pf-py-4 text-muted",[n])),c){d=c[l];g.push(tag("li",{className:"pf-p-12 pf-pl-24",value:l,onclick:this._changeMobileSort.bind(this,{target:{value:l}})},[d]))}u.push(tag("ul","pf-p-0",[g]))}}return u}return t},_isUnavailable:function(t){return t.isDisabledInPush&&(PF.ProductsCatalog.isProductPush()||PF.ProductsCatalog.isGenerator())&&!(t.hasBetaAccess&&PF.ProductsCatalog.isGenerator())},_onSearch:function(){PF.ProductsCatalog.Utils.State.createAndDispatch(PF.ProductsCatalog.EVENT_PRODUCTS_FILTER,{productSearchKeywords:this._searchBox.getValue(),productsOrVariants:this._products})},_limitProducts:function(t,e){var i=(this.page-1)*this.productsPerPage,a=i+this.productsPerPage;return e>=i&&e<a},_onPaginate:function(t){this.page=t,PF.ProductsCatalog.Utils.State.createAndDispatch(PF.ProductsCatalog.EVENT_PRODUCTS_FILTER,{productsViewPage:this.page,productsOrVariants:this._products}),this._renderResultsPerPage()},_changeMobileSort:function(t){this._sortBox.value=t.target.value,$(this._sortBox).trigger("change")},_onMobileFilter:function(t){t.preventDefault(),$("html, body").css("overflow","pf-d-none"),$(document).find(".catalog__sidebar-floating").closest(".modal").scrollTop(0).css("overflow-y","pf-d-none"),$(document).find(".catalog__sidebar-floating").addClass("open")}},mkE.Base)}()},"6c14":function(t,e){!function(){"use strict";PF.ProductsCatalog.Items.ProductImageItem=Class({variantImageId:0,thumbUrl:"",useVariantColor:!1,order:0,largeUrl:"",variantMaps:[],useGeneratorColor:!0,backgroundOverride:[]}),PF.ProductsCatalog.Items.ProductImageItem.fromArray=function(t){var e=new PF.ProductsCatalog.Items.ProductImageItem;return mkE.O2O(e,t),e}}()},"7R+B":function(t,e){!function(){"use strict";PF.ProductsCatalog.Par=Class({store:null,activeCategoryId:0,activeStoreId:null,enableSidebar:!0,enableCategoriesSidebar:!0,enableProductsSidebar:!0,enableTabs:!0,enableTitle:!0,enableStickyHeader:!0,enableProductBanners:!1,customTitle:"",enableSearch:!0,searchType:PF.Components.AutoComplete.SEARCH_TYPE_PRODUCTS,enableBreadcrumbs:!0,breadcrumbsIndexCategoryTitle:dlang("products","Products"),isOrderFlow:!1,isMockupGenerator:!1,isPush:!1,isClean:!1,onProductChoose:null,onCategoryChoose:null,containerClass:"container",textBlockData:{},banners:[],bannersPerPage:null,allowedFulfillmentRegions:[],isRenderRequired:!0,pagNumber:null,isProductTemplate:!1,isEmbedded:!1,__construct:function(){this.store=new PF.ProductsCatalog.Utils.Store},isStickyHeaderEnabled:function(){return this.enableBreadcrumbs&&!this.isClean&&!this.isOrderFlow&&PF.Cookies.arePreferencesSet()},isEmbeddedView:function(){return this.isPush||this.isEmbedded}})}()},"7z4H":function(t,e){!function(){"use strict";PF.ProductsCatalog.CategoriesSelector=Class({_isTopLevel:!1,resizeTimeout:null,__construct:function(){this.node=tag("div","catalog clearfix"),window.addEventListener("resize",this._setTimeout.bind(this,this._onResize,300))},render:function(t,e){this._isTopLevel=!e,this.clear().renderCategories(t).show()},renderCategories:function(t){return tag("div","row row-flex pf-mt-16",this._getCategories(t)).append(this.node),this},clear:function(){return mkE.clearNode(this.node),this},hide:function(){return mkE.addClassName(this.node,"hidden"),this},show:function(){return mkE.removeClassName(this.node,"hidden"),setTimeout(this._afterAppend.bind(this),0),this},_afterAppend:function(){},_setTimeout:function(t,e){clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(t.bind(this),e)},_onResize:function(){},_getCategories:function(t){return[].concat.apply([],t.map(this._renderCategory)).filter(Boolean).sort(this._sort)},_renderCategory:function(t){var e=[];return PF.ProductsCatalog.CategoriesSelector.filterCategories(t)&&e.push(new PF.ProductsCatalog.Category(t,this._onClick)),t.children.length&&!this._isTopLevel?e.concat(t.children.map(this._renderCategory)):e.shift()},_sort:function(t,e){return t.getCategoryItem().catalogPosition-e.getCategoryItem().catalogPosition},_onClick:function(t,e){2==e.which||4==e.button||e.metaKey||e.ctrlKey||(e.preventDefault(),PF.ProductsCatalog.Utils.State.createAndDispatch(PF.ProductsCatalog.EVENT_NAME,{scrollToTop:!0,category:t}))}},mkE.Base),PF.ProductsCatalog.CategoriesSelector.filterCategories=function(t){return!t.isClone&&!t.hiddenInCatalog}}()},"8+xk":function(t,e){!function(){"use strict";PF.ProductsCatalog.Product.Data=Class({product:null,activeVariant:null,variants:[],descriptionTitle:"",isLogged:!1,printCareInstructionsHtml:"",productDescription:"",productsPricingInfoHtml:"",printInfo:{},guidelines:"",templates:{},guidelinesAndTemplates:null,regions:null,insideLabel:"",shippingReturns:"",tabSizing:"",tabUsingTips:"",images:[],setActiveVariantById:function(t){this.activeVariant=t?this.variants.filter((function(e){return e.variantId===t})).shift():null},hasPriceEstimator:function(){return this.product.type===PF.Items.ProductItem.TYPE_T_SHIRT},getRegionVariants:function(){var t=new PF.VariantPicker.VariantRegions;return t.availableRegions=this.regions.availableRegions,t.variantsByRegion=this.regions.variantsByRegion,t},getPrintInfo:function(t,e){return this.printInfo[t]?e?this.printInfo[t][e]?this.printInfo[t][e]:"":this.printInfo[t]:""}}),PF.ProductsCatalog.Product.Data.fromArray=function(t){var e=new PF.ProductsCatalog.Product.Data;return mkE.O2O(e,t),e.product=PF.Items.ProductItem.fromArray(t.product),e.variants=t.variants.map(PF.Items.VariantItem.fromArray),e}}()},"9pVZ":function(t,e){!function(){"use strict";PF.ProductsCatalog.Components.ProductsBanner.Par=Class({bannerId:"",buttonText:"",imgSrc:"",imgSrcMobile:"",url:"",title:"",columns:[]})}()},AUjr:function(t,e){!function(){"use strict";PF.ProductsCatalog.Product.BrandingOptionPriceList=Class({_product:null,_variant:null,_priceListItems:null,_asteriskNode:null,displayAsterisk:!0,__construct:function(t,e){this._product=t,this.node=tag("span"),e?this._render(e):(new PF.Repositories.Products).getBrandingOptionsPriceList(this._product,this._render)},_render:function(t){mkE.clearNode(this.node),this._priceListItems=t,tag("div","products-pricing-info__muted text-muted",[tag("span","products-pricing-info__red",["* "]),tag("span","text-muted",[dlang("products","Price varies depending on the production technique, print placement, product color and size, taxes, and shipping. See")," "]),tag("a",{className:"pf-link",onclick:this._showModal.bind(this)},[dlang("products","detailed info")])]).append(this.node)},_showModal:function(t){t=t||"";var e=new PF.Modal.Par;e.title=dlang("products","Product extras and costs"),e.modalDialogClass="modal-lg",e.useScrollableModal=!0,e.onClose=function(){this.modal.remove()}.bind(this),this.modal=new PF.Modal(e),this.modal.setContent(this.getContent(t)),this.modal.show()},_getBrandingItem:function(t){var e=this._getBrandingItemId(t.brandingOption);return tag("div","branding-options__category pf-px-12 pf-py-16",[tag("a",{className:"category",href:"#"+e,data:{toggle:"collapse"},attr:{role:"button","aria-expanded":!1,"aria-controls":e}},[tag("div","",[tag("span","arrow"),tag("span","branding-options__category__item-title",[t.title])]),tag("div","branding-options__category__price-wrapper",[tag("p","branding-options__category__item-price",[PF.Utils.Discount.createDiscountElementFromPrices(t.price,t.discountedPrice,t.currency)]),tag("span","text-muted text-right",[t.unit?" / "+t.unit:""])]),tag("div",{className:"collapse info-text",id:e},[tag("p","branding-options__category__item-content margin-bottom-20",[t.content])])])])},variantChanged:function(t,e){this._variant=t,this._technique=e,this._priceListItems?this._render(this._priceListItems):(new PF.Repositories.Products).getBrandingOptionsPriceList(this._product,this._render)},getContent:function(t){var e=new PF.Components.Tabs("secondary"),i=[],a=this._getTabCaptions();for(var r in a){var s=new PF.Components.Tabs.Item,o=a[r];s.caption=o.title,t&&a.some((function(e){return e.id==t}))?s.isActive=o.id==t:s.isActive=0==r;var n=tag("div",s.isActive?"":"hidden");"technique"===o.id&&this._getTechniqueContent().append(n),"location"===o.id&&this._getFulfillmentLocationContent().append(n),"bulk"===o.id&&this._getBulkDiscountContent().append(n),i.push(n),s.onclick=function(t,e){for(var a in i)if(i.hasOwnProperty(a)){var r=i[a];a===e?mkE.removeClassName(r,"hidden"):mkE.addClassName(r,"hidden")}}.bind(this,o,r),e.add(s)}mkE.addClassName(e.node,"pf-mb-24");var c=dlang("products","The product <b>price depends on</b> factors like production <b>technique, print placement, product color, size</b> and <b>fulfillment location.</b> You also have to take into account that shipping and taxes are extra.")+" ";return tag("div","branding-options",[tag("div","",[tag("p",{className:"pf-m-0 pf-pb-16 text-muted",innerHTML:c}),e,tag("div","",i)])])},_getTabCaptions:function(){var t=[];return Object.keys(this._priceListItems).length&&t.push({id:"technique",title:clang("printing","Technique")}),t.push({id:"location",title:lang("Fulfillment location")}),this._product.priceRange.bulkDiscountTiers&&this._product.priceRange.bulkDiscountTiers.tierLevels&&t.push({id:"bulk",title:dlang("billing","Bulk discounts")}),t},_getTechniqueContent:function(){var t=this._product.availableTechniques||[this._product.type],e={};e[PF.Items.ProductItem.TYPE_EMBROIDERY]=dlang("products","Your design will be machine-embroidered on the product. <b>Embroidery costs more than printed clothing because it takes more time and has higher production costs.</b> <br/><br/>Embroidery also comes with <b>digitization</b> and <b>adjustment costs</b>. We don't accept files that have been digitized elsewhere and we only charge files that are part of an order."),e[PF.Items.ProductItem.TYPE_T_SHIRT]=dlang("products","Your design will be printed directly on the product with the DTG (direct-to-garment) technique that yields bold and vibrant prints. Our base price <b>includes one print</b>, these are the extras you can get.");var i=tag("div",""),a=0;for(var r in t)if(t.hasOwnProperty(r)){a++;var s=t[r],o=PF.Items.ProductItem.LABELS[s],n=tag("div","pf-mt-32",[tag("div","pf-h4 pf-mb-12",[a+". "+o])]);tag("p",{className:"pf-mt-0 pf-mb-32 text-muted",innerHTML:e.hasOwnProperty(s)?e[s]:""}).append(n);var c=this._priceListItems[s];for(var l in c)this._getBrandingItem(c[l]).append(n);n.append(i)}return i},_getFulfillmentLocationContent:function(){var t=dlang("products","Our product prices can change depending on where an order is fulfilled and which currency you use to pay for it."),e=dlang("products","Each product has a <b>fixed price</b> for each location. Our North American products have a fixed USD price, and our products in Europe have a fixed EUR price."),i=dlang("products","Products fulfilled in one location but charged in a different currency have a <b>floating price</b>."),a=dlang("products","For example, let's say you're ordering a t-shirt that we only fulfill in the US and you're paying for it in EUR. The price you pay would be our USD price converted to EUR. The end price would also depend on that month's exchange rate, which is what makes it a floating price."),r=dlang("products","If you're ordering a product that we fulfill in Europe and you're paying for it in EUR, you would pay our fixed EUR price.");return tag("div","pf-text-muted",[tag("p","",t),tag("p",{innerHTML:e}),tag("p",{innerHTML:i}),tag("p","",a),tag("p","",r)])},_getBulkDiscountContent:function(){var t=tag("table","table");this._getBulkDiscountTableHead().append(t),this._getBulkDiscountTableBody().append(t);var e=tag("div");return this._getBulkCaption().append(e),t.append(e),e},_getBulkCaption:function(){var t=this._product.priceRange.bulkDiscountTiers.getFirstTier(),e=dlang("orders","If you're ordering more than {unitCount} units, you can get a discount on your order! You can mix colors, sizes and designs and still get the discount. If you have another discount active, like volume discounts, we'll apply whichever is higher so you don’t miss out.").replace("{unitCount}",t);return tag("p","pf-mt-0 pf-mb-32 text-muted",e)},_getBulkDiscountTableHead:function(){return tag("thead","",[tag("tr","pf-border-bottom",[tag("th","",dclang("orders","item count column","Item Amount")),tag("th","",dlang("orders","Discount")),tag("th","",dlang("orders","Discounted price"))])])},_getBulkDiscountTableBody:function(){var t=this._getPrice(),e=this._product.priceRange.bulkDiscountTiers.tierLevels,i=tag("tbody");for(var a in e){var r=e[a],s=t-t*r.percent,o="",n=this._product.priceRange.bulkDiscountTiers.getNextTierForItemCount(r.itemQuantity);n?(n-=1,o=r.itemQuantity+"-"+n):o=r.itemQuantity+"+",tag("tr","pf-border-bottom",[tag("td","",o),tag("td","",Math.round(100*r.percent)+"%"),tag("td","",prettyMoney(s,this._product.priceRange.currency))]).append(i)}return i},_getPrice:function(){var t=this._variant?this._variant.priceData.originalPrice:this._product.priceRange.minOriginalPrice;return this._technique&&this._product.priceRange.additionalPrices[this._technique]?t+this._product.priceRange.additionalPrices[this._technique]:t},setAsterisk:function(t){this._asteriskNode=t},_getBrandingItemId:function(t){return"sub_"+ ++PF.ProductsCatalog.Product.BrandingOptionPriceList._brandingItemId+"_"+t}},mkE.Base),PF.ProductsCatalog.Product.BrandingOptionPriceList._brandingItemId=0}()},B6gO:function(t,e){!function(){"use strict";PF.ProductsCatalog.Views.Faq=Class({id:"faq",apend:function(t){return this.node.append(t),this},render:function(){return mkE.clearNode(this.node),this._renderFaq().append(this.node),this},_renderFaq:function(){var t=[{question:"What are the fabric textures of the baby bodysuits?",answer:"They are made from either smooth or ribbed fabric."},{question:"What color are the baby bodysuits?",answer:"Depending on the model, our baby bodysuits are available in white, black, pastels, and heather colors."},{question:"Do the garments come with long or short sleeves?",answer:"There are both short sleeve and long sleeve options available."},{question:"Are they easy to take on and off?",answer:"Yes, all baby onesies have a three snap leg closure and lap shoulders."},{question:"Are you planning on adding dance leotards for kids?",answer:'While there\'s no timeline yet, you can submit a <a href="/feature-request">Feature Request!</a>'}];return PF.Utils.FaqSchema.createSchema(t).append(document.body),tag("div",null,[tag("h2","pf-h3 pf-mt-0","Frequently Asked Questions"),tag("hr","pf-m-0"),t.map(function(t,e){return this._renderAccordion(t,e)}.bind(this))]).append(this.node)},_renderAccordion:function(t,e){return tag("div","pf-border-bottom",[tag("div",{className:"accordion__header",attr:{"data-toggle":"collapse","data-target":".accordion__header:hover + .accordion__content"},onclick:this._onAccordionClicked},[tag("p","pf-py-16 pf-m-0 pf-h5 pf-text-dark",[tag("i","pf-i pf-i-chevron-down pf-text-gray pf-i-24 accordion__icon"+(0===e?" opened":"")),t.question])]),tag("p",{className:"accordion__content pf-text-muted pf-ml-24 collapse"+(0===e?" in":""),innerHTML:t.answer})])},_onAccordionClicked:function(t){$(t.target.children[0]).hasClass("opened")?$(t.target.children[0]).removeClass("opened"):$(t.target.children[0]).addClass("opened")}},PF.ProductsCatalog.Views.Base)}()},DHJs:function(t,e){!function(){"use strict";PF.ProductsCatalog.Components.ProductsBanner=Class({__construct:function(t){this._par=t,this.node=tag("a",{className:"pf-px-16 pf-mb-sm-24 bubble",onclick:this._onBannerClicked.bind(this)},[tag("div","pf-product-banner-block",[tag("picture","pf-product-banner-block__item",[tag("source",{attr:{srcset:this._par.imgSrc,media:"(min-width: 767px)"}}),tag("source",{attr:{srcset:this._par.imgSrcMobile}}),tag("img",{src:this._par.imgSrc})]),tag("div","pf-product-banner-block__overlay"),tag("div",this._getColumns()+" pf-p-16 pf-p-lg-24 pf-product-banner-block__info",[tag("h2","pf-h3 pf-m-0",this._par.title),this._par.buttonText?tag("span","pf-mt-16 pf-btn pf-btn-primary",this._par.buttonText):""])])])},_getColumns:function(){return this._par.columns.join(" ")},_onBannerClicked:function(){location.href=this._par.url,ga("send","event","Banner Clicks","PnP Banner",this._par.bannerId+" clicked")}},mkE.Base)}()},"E1i+":function(t,e){!function(){"use strict";PF.ProductsCatalog.Product.Tabs.Base=Class({__construct:function(){this.node=tag("div")},render:function(){mkE.clearNode(this.node)}},mkE.Base)}()},Ffcv:function(t,e){!function(){"use strict";PF.ProductsCatalog.Items.GetProductParams=Class({categoryId:null,actionBefore:null,forMockupGenerator:!1,forProductPush:!1,forOrderFlow:!1,storeId:null,productTotalCount:null})}()},FhGo:function(t,e){!function(){"use strict";PF.ProductsCatalog.Filters.Size=Class({_prepareFilter:function(t){var e=[].concat.apply([],t.map(this._mapProductOrVariant.bind(this)));return e.filter(this.filterEmptyOrDuplicateParam.bind(this,e)).sort(PF.Utils.Product.sizeSortingCallback)},_mapProductOrVariant:function(t){var e=this.getProduct(t),i=[];for(var a in e.allSizes)this._isSizeValid(a)&&e.allSizes[a]&&i.push(a);return i},_isSizeValid:function(t){return!!t},filterProduct:function(t){if(!this._selectedValues.length)return!0;var e=t,i=null;if(t instanceof PF.Items.VariantItem&&(e=t.getCachedProduct(),i=t),i)return this._selectedValues.indexOf(i.size)>-1;var a,r={};for(var s in e.allSizes)e.allSizes[s]&&(r[s]=e.allSizes[s]);for(var o in r)if(!(this._selectedValues.indexOf(o)<0)){a=!0;break}return a}},PF.ProductsCatalog.Filters.Base)}()},HzwA:function(t,e){!function(){"use strict";PF.ProductsCatalog.Views={},PF.ProductsCatalog.Views.Wrap=Class({defaultCaption:"",caption:"",content:null,isActive:!1,isDisabled:!1,tooltipText:"",__construct:function(t,e,i){this.defaultCaption=t,this.content=e,this.isDisabled=!e,this.isActive=void 0!==i&&i},getTabItem:function(t){var e=new PF.Components.Tabs.Item;return e.caption=this.getCaption(),e.onclick=t.bind(this,this,!0),e.isActive=this.isActive,e.isDisabled=this.isDisabled,e.tooltipTitle=this.tooltipText,e},render:function(t){return"function"!=typeof this.content.render?this:this.content.render(t)},setCaption:function(t){this.caption=t},getCaption:function(){return this.caption?this.caption:this.defaultCaption},isTabAlwaysVisible:function(){return this.content&&this.content.isTabAlwaysVisible||this.isDisabled},append:function(t){this.content.append(t)}})}()},I6eF:function(t,e){!function(){"use strict";PF.ProductsCatalog.Views.Shipping=Class({id:"shipping",rpcUrl:"product-catalog/shipping"},PF.ProductsCatalog.Views.Base)}()},L9pC:function(t,e){!function(){"use strict";PF.ProductsCatalog.Sidebar.Filter=Class({_productItems:[],_filters:null,_nodeClearAll:null,__construct:function(){this.node=tag("div")},render:function(t,e,i,a){mkE.clearNode(this.node),t&&t.length&&(this._productItems=t,this._filters=new PF.ProductsCatalog.Filters(this._productItems,this._onFilter,e||[],i,a),t.length<2||!this._filters._filters.length||(tag("div","catalog__sidebar-filter",[tag("div","catalog__sidebar-filter__title clearfix hidden-xs",[tag("span","clearfix catalog__sidebar-filter__title__toggle",[tag("strong","hidden-xs",[lang("Filter by"),":"]),this._getCollapseNode()]),this._nodeClearAll=tag("a",{className:"catalog__sidebar-filter__clear pf-link hidden",onclick:this.clearAll},[lang("Clear all")])]),tag("div",{className:"navbar-collapse collapse filters-wrap pf-p-0",style:{maxHeight:"none"}},[this._filters])]).append(this.node),this._onFilter()))},clearAll:function(){PF.ProductsCatalog.Utils.State.createAndDispatch(PF.ProductsCatalog.EVENT_PRODUCTS_FILTER,{filter:null,productsOrVariants:this._productItems,isOnPopstate:!0})},_getCollapseNode:function(){return mkE({tag:"a",className:"navbar-toggle collapsed clearfix visible-xs",style:{padding:0,margin:0,display:"block",float:"none",width:"100%"},data:{toggle:"collapse",target:".filters-wrap"},els:[{tag:"strong",text:lang("Filter by")},{tag:"img",className:"pull-right",src:"/static/images/products-catalog/filter.svg",style:{width:"20px",height:"20px"}}]})},_onFilter:function(){this._filters&&(this._filters.getAllSelectedValues().length?mkE.removeClassName(this._nodeClearAll,"hidden"):mkE.addClassName(this._nodeClearAll,"hidden"))}},mkE.Base)}()},Mzju:function(t,e){!function(){"use strict";PF.ProductsCatalog.Sidebar=Class({_store:null,_isCategoriesMenuEnabled:!0,filters:null,__construct:function(t,e){this._store=t,this._isCategoriesMenuEnabled=e,this.node=tag("div","catalog__sidebar-content"),this._renderCategoriesMenu()._renderFilters()},_renderCategoriesMenu:function(){if(!this._isCategoriesMenuEnabled)return this;var t=new PF.ProductsCatalog.Sidebar.Menu.Par;return t.categories=this._store.categories.getAll(),t.activeTopLevelCategory=this._store.categories.getTopLevelCategory(),t.activeCategoryId=this._store.categories.getActiveCategoryId(),t.isTopLevel=!0,new PF.ProductsCatalog.Sidebar.Menu(t).append(this.node),this},_renderFilters:function(){return this.filters=new PF.ProductsCatalog.Sidebar.Filter,this.filters.append(this.node),this}},mkE.Base)}()},N6Gp:function(t,e){!function(){"use strict";PF.ProductsCatalog.Items={},PF.ProductsCatalog.Items.CategoryItem=Class({id:null,key:"",title:"",parentId:0,slug:"",search:"",urlImage:"",children:[],tabs:[],seo:{},settings:null,thumbSize:4,hiddenInCatalog:0,hiddenInOrderFlow:0,catalogPosition:1,orderFlowPosition:1,description:"",isActive:!1,isBeta:!1,isClone:!1,temporaryFileKey:"",textBlock:{title:{value:""},columns:[]},editShippingUrl:"",editGalleryUrl:"",hasSecondSidebarLink:!1,secondaryProductImages:{},isNew:!1,isNewSetAt:"",getParent:function(){return(new PF.ProductsCatalog.Utils.Store).categories.getById(this.parentId)},getUrl:function(t){t||(t=PF.ProductsCatalog.urlPrefix);var e=new Url;return e.path=t+"/"+this.slug,e.toString()},getBreadcrumbName:function(){return this.settings&&""!==this.settings.breadcrumbName?this.settings.breadcrumbName:this.title},getSidebarTitle:function(){return this.settings&&this.settings.sidebarNavTitle?this.settings.sidebarNavTitle:this.title},getSecondaryProductImage:function(t,e){var i=(new PF.ProductsCatalog.Utils.Store).categories.getPath(this.id).reverse();for(var a in i){if(i[a].secondaryProductImages[t])return i[a].secondaryProductImages[t];if(e)return!1}},isEmbroideryShirts:function(){return this.id===PF.ProductsCatalog.Items.CategoryItem.ID_EMBROIDERY_SHIRTS}}),PF.ProductsCatalog.Items.CategoryItem.fromArray=function(t){var e=new PF.ProductsCatalog.Items.CategoryItem;if(mkE.O2O(e,t),e.children=PF.ProductsCatalog.Utils.Helpers.convertToArray(t.children).map(PF.ProductsCatalog.Items.CategoryItem.fromArray),t.tabs&&(e.tabs=PF.ProductsCatalog.Utils.Helpers.convertToArray(t.tabs).map(PF.ProductsCatalog.Items.CategoryTabItem.fromArray)),t.seo)for(var i in t.seo)for(var a in t.seo[i])e.seo[i][a]=PF.ProductsCatalog.Items.CategorySeoItem.fromArray(t.seo[i][a]);return t.settings?e.settings=PF.ProductsCatalog.Items.CategorySettings.fromArray(t.settings):e.settings=new PF.ProductsCatalog.Items.CategorySettings,e},PF.ProductsCatalog.Items.CategoryItem.ID_EMBROIDERY_SHIRTS=85}()},"Op/+":function(t,e){!function(){"use strict";PF.ProductsCatalog.Utils={},PF.ProductsCatalog.Utils.Store=Class({products:null,categories:null,__construct:function(){this.categories=new PF.ProductsCatalog.Utils.Store.Categories,this.products=new PF.ProductsCatalog.Utils.Store.Products(this.categories)},cacheCategories:function(t){return this.categories.cache(t),this},setActiveCategoryId:function(t){return void 0===t?this:(this.categories.setActiveCategoryId(t),this)},setActiveProductId:function(t){return null!==t&&this.products.setActiveId(t),this},setCurrency:function(t){return this.products.setCurrency(t),this},setActiveFilters:function(t){return t.length?(PF.ProductsCatalog.Utils.Store.activeFiltersCache=t.map((function(t){return{type:t.type,title:t.title,orderIndex:t.orderIndex}})),this):this},getActiveFilters:function(){return PF.ProductsCatalog.Utils.Store.activeFiltersCache},cacheProductFromArray:function(t,e){if(!t)return this;var i=PF.Items.ProductItem.fromArray(t);return this.products.cacheById(i),e&&this.products.cacheData(i.productId,null,e),this},isRootCategory:function(){return 0===this.categories.getActiveCategoryId()}}),PF.ProductsCatalog.Utils.Store.activeFiltersCache=[]}()},Rsrl:function(t,e){!function(){"use strict";PF.ProductsCatalog.Utils.Store.Products=Class({_categoryProducts:{},_repo:null,_currency:"",__construct:function(t){this.categories=t,this._repo=new PF.Repositories.Products},getByParams:function(t){"function"==typeof t.actionBefore&&t.actionBefore(),PF.ProductsCatalog.toggleLock(!0);var e=this.getCachedProducts(t.categoryId);if(e.products)return this._dispatchEvents(e.products,e.totalCount);this._params=t,this._requestProductsData(t,1)},getAllProductsList:function(t){var e=this.getCachedProducts(this._params.categoryId);e.products&&e.products.length===Number(e.totalCount)||this._requestProductsData(this._params,!1,t)},_requestProductsData:function(t,e,i){RPC("product-catalog/get-category-product-data",{categoryIds:this.categories.getCategoryChildIds(this.categories.getById(t.categoryId)),forMockupGenerator:t.forMockupGenerator?1:0,forProductPush:t.forProductPush?1:0,forOrderFlow:t.forOrderFlow?1:0,currency:this._currency,storeId:t.storeId,limitUsingDefaultCount:e?1:0},this._cacheProducts.bind(this,{categoryId:this._params.categoryId,initialLoad:e,callBackFunction:i}))},getDataByProductId:function(t,e){var i=this._getCachedProductData(t);$.isEmptyObject(i)?RPC("product-catalog/get-product-data",{productId:t,currency:this._currency},this.cacheData.bind(this,t,e)):e(i)},getActive:function(){var t=PF.ProductsCatalog.Utils.Store.Products.activeProductId;return t?PF.ProductsCatalog.Utils.Store.Products.cacheById[t]:null},setActiveId:function(t){PF.ProductsCatalog.Utils.Store.Products.activeProductId=t},setCurrency:function(t){this._currency=t},cacheById:function(t){return t instanceof PF.Items.ProductItem||(t=PF.Items.ProductItem.fromArray(t)),this._repo.cacheProduct(t),PF.ProductsCatalog.Utils.Store.Products.cacheById[t.productId]=t,t},getCachedProducts:function(t){return this._categoryProducts[t]||[]},_cacheProducts:function(t,e){var i=t.categoryId,a=t.initialLoad,r=t.callBackFunction;for(var s in e.products=PF.ProductsCatalog.Utils.Helpers.convertToArray(e.products).map(this._getProductItem.bind(this)),e.products.map(this.cacheById),this._categoryProducts[i]=e,e.products)if(e.products[s].variantRegions){var o=e.products[s].variants;for(var n in this._repo.cacheProductVariantRegions(e.products[s].product.productId,e.products[s].variantRegions),o)this._repo.cacheVariant(PF.Items.VariantItem.fromArray(o[n]))}if(a)return this._dispatchEvents(e.products,e.totalCount);r&&r(!a)},_getCachedProductData:function(t){return PF.ProductsCatalog.Utils.Store.Products.cachedData[t]?PF.ProductsCatalog.Utils.Store.Products.cachedData[t]:[]},cacheData:function(t,e,i){PF.ProductsCatalog.Utils.Store.Products.cachedData[t]=PF.ProductsCatalog.Product.Data.fromArray(i);var a=this._getCachedProductData(t);a.variants.map(function(t){this._repo.cacheVariant(t)}.bind(this)),a.similarProducts=i.similarProducts.map((function(t){return PF.Items.ProductItem.fromArray(t)})),a.images=i.images.map((function(t){return PF.ProductsCatalog.Items.ProductImageItem.fromArray(t)})),e&&e(a)},_getProductItem:function(t){return t.variants.map(function(t){this._repo.cacheVariant(PF.Items.VariantItem.fromArray(t))}.bind(this)),PF.Items.ProductItem.fromArray(t.product)},_dispatchEvents:function(t,e){PF.ProductsCatalog.toggleLock(!1),PF.ProductsCatalog.Utils.State.createAndDispatch(PF.ProductsCatalog.EVENT_PRODUCTS_LOADED,{productsOrVariants:t,totalCount:e})}}),PF.ProductsCatalog.Utils.Store.Products.cacheById={},PF.ProductsCatalog.Utils.Store.Products.cachedData={},PF.ProductsCatalog.Utils.Store.Products.activeProductId=0}()},SUtP:function(t,e){!function(){"use strict";PF.ProductsCatalog.Sidebar.Menu=Class({_params:null,_focus:null,_items:[],_activeItem:null,_nodeActiveSubItem:null,__construct:function(t){this._params=t,this._items=this._getCategories().sort(this._sort).map(this._renderItem),this.node=tag("ul",this._getClassName(),[this._items]),this._nodeActiveSubItem=tag("div","catalog__sidebar-menu__current-item").append(this.node),setTimeout(function(){!this._params.isTopLevel&&this._params.activeCategoryId&&(this.setHeight(),window.onresize=function(){this.setHeight()}.bind(this)),this._params.isTopLevel&&!this._params.activeCategoryId&&this._items[0]&&this._toggleActive(this._items[0])}.bind(this),this._getMenuTimeout())},_renderItem:function(t){return new PF.ProductsCatalog.Sidebar.Menu.Item(t,this._params.activeCategoryId,this._isActiveTopLevel(),this._onclick,this._params.shouldShowNew)},_getClassName:function(){var t="catalog__sidebar-menu";return this._params.isTopLevel&&!this._params.activeCategoryId&&(t+=" catalog__sidebar-menu--hide-children"),this._params.isTopLevel&&(t+=" catalog__sidebar-menu--top-level hidden-xs"),t},_onclick:function(t,e){e.preventDefault(),this._params.isTopLevel?this._toggleActive(t):this._setActiveItem(t)},_setActiveItem:function(t){PF.ProductsCatalog.Utils.State.createAndDispatch(PF.ProductsCatalog.EVENT_NAME,{category:t.getCategory(),activeTab:(new Url).hash})},_getCategories:function(){return this._isActiveTopLevel()?(this._focus=this._params.activeTopLevelCategory.id,[this._params.activeTopLevelCategory]):this._params.categories},_toggleActive:function(t){this._focus=t.getCategoryId()!==this._focus?t.getCategoryId():null;var e=!0;for(var i in this._items){var a=this._items[i];a.getCategoryId()!==this._focus?a.removeActive():(a.setAsActive(),e=!1)}var r=t.getActiveCategory();e&&r?mkE({tag:"span",text:r.getSidebarTitle()}).append(this._nodeActiveSubItem):mkE.clearNode(this._nodeActiveSubItem)},_isActiveTopLevel:function(){return this._params.isTopLevel&&this._params.activeTopLevelCategory},_sort:function(t,e){return t.settings.sidebarNavPosition-e.settings.sidebarNavPosition},_getMenuTimeout:function(){var t=0;return(PF.ProductsCatalog.isProductPush()||PF.ProductsCatalog.is(PF.ProductsCatalog.TYPE_OF))&&(t=300),t},setHeight:function(t){void 0===t&&(mkE.addClassName(this.node,"for-height"),t=this.node.offsetHeight,mkE.removeClassName(this.node,"for-height")),setTimeout(function(){this.node.style.height=t>0?"auto":0}.bind(this),0)}},mkE.Base)}()},TkdK:function(t,e){!function(){"use strict";PF.ProductsCatalog.Views.OtherProducts=Class({_type:"",_productItems:null,_productsNode:null,__construct:function(t,e){if(this._type=t,this._productItems=e,this._shouldNotDisplayBlock())return this.node=tag("div");this.node=tag("div","row",[tag("div",this._isTypeSimilar()?"col-12":"offset-xs-12 offset-sm-4 offset-md-3 offset-lg-3 offset-xl-2 col-12 col-sm-8 col-md-9 col-lg-9 col-xl-10",[tag("h3","pf-h3 pf-mt-24 pf-mb-16",[this._getHeaderText()]),this._productsNode=tag("div","row pf-mb-40 products-pricing-other")])]),this._isTypeSimilar()&&this._render(e),this._isTypeRecentlyViewed()&&(new PF.Repositories.Products).getRecentlyViewedProducts(this._render)},_render:function(t){for(var e=0,i=t.length;e<i;e++){var a=t[e];new PF.Components.ProductListItem({product:a,className:(this._isTypeSimilar()?"col-6 col-md-4 col-lg-3":"col-6 col-md-4 col-xl-3")+" pf-mt-2 pf-mb-24",showSizes:!a.isEmbroidery()||a.isApparelEmbroidery(),showFulfillmentCountries:!0,url:a.catalogPageUrl}).append(this._productsNode)}setTimeout(function(){$(window).on("resize",this._initSlickr.bind(this)),this._initSlickr()}.bind(this),50)},_initSlickr:function(){var t=$(".products-pricing-other");t.hasClass(".slick-initialized")&&t.unslick(),t.not(".slick-initialized").on("init reInit breakpoint",(function(t,e){e.slideCount<=e.getOption("slidesToShow")&&e.unslick()})).slick({arrows:!1,infinite:!1,dots:!0,slidesToShow:4,slidesToScroll:4,rows:0,responsive:[{breakpoint:1600,settings:{slidesToShow:this._isTypeSimilar()?4:3,slidesToScroll:this._isTypeSimilar()?4:3}},{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:2}}]})},_getHeaderText:function(){return this._isTypeSimilar()?dlang("products","You might also like"):this._isTypeRecentlyViewed()?dlang("products","Recently viewed"):void 0},_isTypeSimilar:function(){return this._type===PF.ProductsCatalog.Views.OtherProducts.TYPE_SIMILAR},_isTypeRecentlyViewed:function(){return this._type===PF.ProductsCatalog.Views.OtherProducts.TYPE_RECENTLY_VIEWED},_shouldNotDisplayBlock:function(){return!(!this._isTypeSimilar()||this._productItems&&0!==this._productItems.length)||this._isTypeRecentlyViewed()&&0===(new PF.Repositories.Products).getRecentlyViewedProductIds().length}},mkE.Base),PF.ProductsCatalog.Views.OtherProducts.TYPE_SIMILAR="SIMILAR_PRODUCTS",PF.ProductsCatalog.Views.OtherProducts.TYPE_RECENTLY_VIEWED="RECENTLY_VIEWED"}()},Tt8e:function(t,e){!function(){"use strict";PF.ProductsCatalog.Utils.Helpers={},PF.ProductsCatalog.Utils.Helpers.convertToArray=function(t){var e=[];for(var i in t)e.push(t[i]);return e},PF.ProductsCatalog.Utils.Helpers.convertToBreak=function(t){return t.split("\r\n").join("<br />")}}()},WOS3:function(t,e){!function(){"use strict";PF.ProductsCatalog.Sidebar.Menu.Item=Class({_category:null,_classActive:"catalog__sidebar-menu__item--active",_menuNode:null,__construct:function(t,e,i,a,r){this._category=t,this._activeCategoryId=e,this._forceActive=i,this._callback=a;var s=new PF.ProductsCatalog.Sidebar.Menu.Par;s.categories=t.children,s.activeCategoryId=e,s.shouldShowNew=r,this._menuNode=this.hasChildren()&&new PF.ProductsCatalog.Sidebar.Menu(s),this.node=mkE({tag:"li",className:this._getClassName(),els:[{tag:"a",onclick:this._callback.bind(this,this),href:this._category.getUrl(),els:[this.getTitle(),!!r&&this._category.isNew&&tag("span","pf-ml-4 pf-py-2 pf-badge pf-badge-small pf-badge--primary",clang("Badge","New in Sidebar")),!!r&&this.shouldShowNewSidebar()&&tag("span","pf-ml-4 pf-py-2 pf-badge pf-badge-small pf-badge--primary",clang("Badge","New in Sidebar")),!r&&this.shouldShowNewSidebar()&&tag("span","pf-ml-4 pf-py-2 pf-badge pf-badge-small pf-badge--primary",clang("Badge","New")),this.isTopLevel()&&tag("span","catalog__sidebar-menu__item__arrow")]},this._menuNode]})},isTopLevel:function(){return 0===this._category.parentId},hasChildren:function(){return this._category.children.length>0},shouldShowNewSidebar:function(){var t=moment(this._category.settings.showNewSidebarSetAt),e=t?t.clone().add(30,"days"):null;return t<e},setAsActive:function(){mkE.addClassName(this.node,this._classActive),this._menuNode&&(this._menuNode.setHeight(),setTimeout(function(){this._menuNode.setHeight()}.bind(this),500))},removeActive:function(){this._menuNode&&this._menuNode.setHeight(0),mkE.removeClassName(this.node,this._classActive)},getCategory:function(){return this._category.isClone?this._category.getParent():this._category},getCategoryId:function(){return this._category?this._category.id:0},getTitle:function(){return this._category.settings.sidebarNavTitle?this._category.settings.sidebarNavTitle:this._category.title},getActiveCategory:function(){return this._category.id===this._activeCategoryId?this._category:!!this._menuNode&&this._menuNode._items.map(function(t){return t.getActiveCategory()}.bind(this)).filter(Boolean).shift()},_getClassName:function(){var t="catalog__sidebar-menu__item pf-py-4";return this._isActive()?t+" catalog__sidebar-menu__item--active":t},_isActive:function(){return this._category[this._category.isClone?"parentId":"id"]===this._activeCategoryId||this._forceActive}},mkE.Base)}()},ZAuK:function(t,e){!function(){"use strict";PF.ProductsCatalog.Filters.Color=Class({_prepareFilter:function(t){var e={},i=[];return t.map(function(t){this.getProduct(t).colors.map(function(t){i.indexOf(t.colorName)>-1?e[t.colorName].times++:(i.push(t.colorName),e[t.colorName]={name:t.colorName,times:1})}.bind(this))}.bind(this)),PF.ProductsCatalog.Utils.Helpers.convertToArray(e).sort(this._sortColors).map((function(t){return t.name}))},_sortColors:function(t,e){return e.times-t.times},filterProduct:function(t){if(!this._selectedValues.length)return!0;var e;for(var i in t.colors)this._selectedValues.indexOf(t.colors[i].colorName)<0||(e=!0);return this._isVariantAndHasColor(t)&&(e=!0),e},_isVariantAndHasColor:function(t){return t.color&&-1!==this._selectedValues.indexOf(t.color)},isEnabled:function(t){if(!this._filter)return!1;if(this._filter.items.length>1)return!0;var e=this._filter.items.map((function(t){return t.value})),i=t.filter((function(t){var i=!1;for(var a in t.colors)e.indexOf(t.colors[a].colorName)<0||(i=!0);return i}));return t.length!==i.length}},PF.ProductsCatalog.Filters.Base)}()},a3yQ:function(t,e){!function(){"use strict";PF.ProductsCatalog.Components.SizingTable=Class({dataRows:[],allowedColumns:["description","type","size","printArea","printFileSize","recommendedSize","downloadUrl"],activeColumns:[],columnTitles:{},columnTypes:{description:"title",type:"value",size:"value",printArea:"value",printFileSize:"value",recommendedSize:"value",downloadUrl:"link"},disclaimers:{},__construct:function(t,e){this.dataRows=t.sort(this._sortRows).map(this._filterData),this.columnTitles=this._getColumnTitles(e),this.node=tag("div",{className:this.dataRows.length<1?"hidden":"",id:"guidelines"},[tag("div","table-responsive",[tag("table","table table-bordered catalog__guidelines__table",[tag("thead","",[tag("tr","",this.allowedColumns.filter(this._filterColumn).map(this._getHeader))]),tag("tbody","",this.dataRows.map(this._getBodyRow))])])]),this._getDisclaimers()},_filterColumn:function(t){return this.activeColumns.indexOf("string"==typeof t?t:t.key)>-1},_sortRows:function(t,e){return t.isBrandingTemplate>e.isBrandingTemplate},_getColumnTitles:function(t){var e=t===PF.Items.ProductItem.TYPE_EMBROIDERY,i=t===PF.Items.ProductItem.TECHNIQUE_ENGRAVING?dlang("products","Engraving file template"):dclang("products","Image to product processing technique's - print or embroidery - recommended file size","Recommended {technique} file size").replace("{technique}",this._getPrintOrEmbroidery(e));return{description:dlang("products","Placement"),type:dlang("products","Type"),size:dlang("products","Sizes"),printArea:dclang("products","Image to product processing technique's - print or embroidery - max area","Max {technique} area").replace("{technique}",this._getPrintOrEmbroidery(e)),printFileSize:dclang("products","Image to product processing technique's - print or embroidery - file size","{technique} file size").replace("{technique}",this._getPrintOrEmbroidery(e,!0)),recommendedSize:i,downloadUrl:dclang("products","Image to product processing technique's - print or embroidery - file template","{technique} file template").replace("{technique}",this._getPrintOrEmbroidery(e,!0))}},_getPrintOrEmbroidery:function(t,e){var i=t?dclang("products","Technique","embroidery"):dclang("products","Technique","print");return e?i.charAt(0).toUpperCase()+i.slice(1):i},_getHeader:function(t){var e=this.columnTitles[t];return this.disclaimers[t]&&(e+=Array(Object.keys(this.disclaimers).indexOf(t)+2).join("*")),tag("th","",[e])},_getBodyRow:function(t){return t.map(function(e,i){return new PF.ProductsCatalog.Components.SizingTable.Row(e,this._getRowSpanValues(e,t,i),this.activeColumns)}.bind(this))},_getDisclaimers:function(){var t=[];for(var e in this.disclaimers){var i=Array(Object.keys(this.disclaimers).indexOf(e)+2).join("*")+" "+this.disclaimers[e];t.push(tag("div","",[i]))}t.length&&tag("div",{className:"margin-bottom-25 padding-bottom-15 disclaimer-text",style:{fontStyle:"italic",borderBottom:"1px solid #ddd"}},t).append(this.node)},_getRowSpanValues:function(t,e,i){var a={},r={};for(var s in t)for(var o in e)parseInt(o)<=i||(e[o][s].value?r[s]=!0:r[s]||(a[s]||(a[s]=1),a[s]+=1));return a},_filterData:function(t){var e=[];for(var i in this.allowedColumns){var a=this.allowedColumns[i];t[a]&&this.activeColumns.indexOf(a)<0&&this.activeColumns.push(a);var r=t[a]?t[a]:"";e.push({key:a,type:this.columnTypes[a],value:this._hasNewline(r)?r.split("\n"):r}),t.disclaimers[a]&&!this.disclaimers[a]&&(this.disclaimers[a]=t.disclaimers[a])}return this._parseRows(e)},_parseRows:function(t){for(var e=this._getLongestArray(t),i=[],a=0;a<e;a++)i.push(t.map(this._normalize.bind(this,e,a)));return i},_normalize:function(t,e,i){var a="string"==typeof i.value?0===e?i.value:null:i.value[e]?i.value[e]:null;return{key:i.key,type:i.type,value:a}},_getLongestArray:function(t){var e=1;for(var i in t)t[i].value instanceof Array&&t[i].value.length>e&&(e=t[i].value.length);return e},_hasNewline:function(t){return t.indexOf("\n")>-1}},mkE.Base)}()},ad9T:function(t,e){!function(){"use strict";PF.ProductsCatalog.SellingPoints=Class({__construct:function(t){this.node=mkE({tag:"div",className:"row",els:[{tag:"div",className:"col-md-12 catalog__selling-points padding-bottom-15",els:t.map(this._renderColumn)}]})},_renderColumn:function(t){return mkE({tag:"div",className:"margin-bottom-25 catalog__selling-points__column catalog__selling-points__column-"+t.key,els:[{tag:"div",className:"catalog__selling-points__column__inner",els:[{tag:"span",className:"catalog__selling-points__image catalog__selling-points__image--"+t.key},{tag:"span",className:"catalog__selling-points__label",text:t.label}]}]})}},mkE.Base)}()},c2Zm:function(t,e){!function(){"use strict";PF.ProductsCatalog.Views.TextBlock=Class({_maximumColumnCount:12,_slideHeight:0,_columnTitleHeight:0,_categoryId:0,_activeData:null,_columns:[],_columnSwitcher:[],_slickOptions:{arrows:!1,dots:!0,fade:!1,lazyLoad:"ondemand",infinite:!1,swipeToSlide:!0,responsive:[{breakpoint:PF.ProductsCatalog.BREAKPOINT_DOTS,settings:{dots:!0}}]},__construct:function(t,e){this._categoryId=e,this._data=t,this.node=tag("div"),this._getCachedData()?this._render():this._getData()},_getCachedData:function(){return this._data[this._categoryId]||null},_render:function(){this._activeData=this._getCachedData(),this._columns=this._activeData.columns.map(this._setColumns),mkE.clearNode(this.node),this.contentNode=tag("div","pf-pt-24 pf-pb-64",[tag("hr","pf-my-0 pf-mb-64"),this._getTitle(),this.columnsNode=tag("div","row",[this._columns])]),this._renderTextSwitcher(),this.contentNode.append(this.node)},_renderTextSwitcher:function(){1!==this._columns.length&&setTimeout(function(){this._initSlider(),window.addEventListener("resize",this._reInitColumns,!0)}.bind(this))},removeResizeEvent:function(){window.removeEventListener("resize",this._reInitColumns,!0)},_filterEmptyColumns:function(t){return!!t.column.value.length&&t},_cacheData:function(t,e){e.columns=e.columns.filter(this._filterEmptyColumns),(e.title.value.length||e.columns.length)&&(this._data[this._categoryId]=e,t())},_getData:function(){RPC("product-catalog/get-category-text-block-info",{categoryId:null!==this._categoryId?this._categoryId:null},this._cacheData.bind(this,this._render))},_getColumnClass:function(t){return" col-sm-"+(1===t?6:this._maximumColumnCount/t)},_reInitColumns:function(){mkE.hasClassName(this.node,"text-block-initialized")&&(this._resetHeightValues(),mkE.removeClassName(this.node,"text-block-initialized"),this._initSlider())},_resetHeightValues:function(){this._slideHeight=0,this._columnTitleHeight=0},_initSlider:function(){if(this._columns.map(this._setTitleHeightValues),this._columns=this._columns.map(this._mapColumnTitles),this._columns.map(this._setColumnHeightValues),this._columns=this._columns.map(this._mapColumns),mkE.addClassName(this.node,"text-block-initialized"),window.innerWidth>PF.ProductsCatalog.BREAKPOINT_DOTS&&mkE.hasClassName(this.columnsNode,"slick-initialized"))return $(this.columnsNode).slick("destroy");window.innerWidth<=PF.ProductsCatalog.BREAKPOINT_DOTS&&!mkE.hasClassName(this.columnsNode,"slick-initialized")&&$(this.columnsNode).slick(this._slickOptions)},_setTitleHeightValues:function(t){var e=t.querySelector(".pf-h3");return e.style.minHeight="",this._columnTitleHeight=this._columnTitleHeight<e.offsetHeight?e.offsetHeight:this._columnTitleHeight,t},_setColumnHeightValues:function(t){return t.style.minHeight="",this._slideHeight=this._slideHeight<t.offsetHeight?t.offsetHeight:this._slideHeight,t},_mapColumnTitles:function(t){return t.querySelector(".pf-h3").style.minHeight=this._columnTitleHeight+"px",t},_mapColumns:function(t,e){return t.style.minHeight=this._slideHeight+"px",t},_setColumns:function(t,e){return mkE({tag:"div",className:this._getColumnClass(this._activeData.columns.length),els:[tag("h3",{className:this._getColumnTitleClass(t),innerHTML:t.title.value}),tag("div",{className:"pf-ui-body",innerHTML:t.column.value})],data:{columnId:"column-"+e}})},_getColumnTitleClass:function(t){return"pf-h3 "+(this._activeData.title.value.length?"":"pf-mt-0 pf-mb-8")+(1!==this._activeData.columns.length||t.title.value.length?"":" pf-my-0")},_getTitle:function(){return this._activeData.title.value.length?tag("div",{className:"col-md-12 pf-my-0 pf-h2 pf-mb-16",innerHTML:this._activeData.title.value}):""}},mkE.Base)}()},cfRx:function(t,e){!function(){"use strict";PF.ProductsCatalog.Product.Tabs=Class({_tabItems:[],productData:null,_onVariantPicked:null,isTabEventDispatching:!0,_availability:null,__construct:function(t,e){if(this._tabItems=[{id:"description",title:lang("Description"),callback:this._renderDescription},{id:"guidelines",title:lang("File guidelines"),callback:this._renderGuidelines.bind(this)}],t.insideLabel&&this._tabItems.push({id:"inside-label",title:lang("Inside label"),callback:this._renderInsideLabel}),t.product.shouldShowAvailabilityTab()){this._tabItems.push({id:"availability",title:lang("Availability"),callback:this._renderAvailability}),PF.Events.on("showProductAvailability",function(){this.setActive("availability"),$("html, body").animate({scrollTop:$(this.node).offset().top},1e3)}.bind(this))}t.product.type===PF.Items.ProductItem.TYPE_SHOES&&(this._tabItems.push({id:"sizing",title:lang("Sizing"),callback:this._renderSizing}),this._tabItems.push({id:"using-tips",title:lang("Using tips"),callback:this._renderUsingTips})),this.productData=t,this._isTestingProduct()&&this._tabItems.push({id:"faq",title:lang("FAQ"),callback:this._renderFaq}),this._onVariantPicked=e,this.node=tag("div","catalog__product__tabs pf-pt-48 pf-mb-64",[this._tabs=new PF.Components.Tabs("primary center-fixed",!0),this._tabContent=tag("div",{style:{color:"#646464"}})]),this._renderTabs()},setActive:function(t){this._tabs.setActiveTab(this.getTab(t))},getActiveTab:function(){return this.getTab((new Url).hash)},getTab:function(t){var e=this._tabs;if(t){var i=e.items.filter((function(e){return e.customId===t}));if(i.length)return i.shift()}return e.items.shift()},_renderTabs:function(){this._tabs.items=this._tabItems.map(this._renderTab),this._tabs.render(),this.isTabEventDispatching=!1,this._tabs.setActiveTab(this.getActiveTab())},_renderTab:function(t){var e=new PF.Components.Tabs.Item;return e.caption=t.title,e.customId=t.id,this._isTestingProduct()?(this._renderTabContentTest(this._getContent(t),t.id),e.onclick=this._showTabContent.bind(this,t.id)):e.onclick=this._renderTabContent.bind(this,this._getContent.bind(this,t),t.id),e},_getContent:function(t){return tag("div","clearfix row",[t.key?tag("div",{className:"availability"===t.id?"col-md-12":"col-md-9 col-xl-7",innerHTML:t.key.split(":").map(this._getProductDataValue.bind(this)).join("")}):"",t.callback?tag("div","availability"===t.id?"col-md-12":"col-md-9 col-xl-7",[t.callback()]):""])},_getProductDataValue:function(t){return this.productData[t]?this.productData[t]:""},_renderTabContent:function(t,e){mkE.clearNode(this._tabContent),tag("div","pf-pt-24",[t()]).append(this._tabContent),this._shouldDispatchTabEvent()&&PF.ProductsCatalog.Utils.State.createAndDispatch(PF.ProductsCatalog.EVENT_TAB_CHOOSE,{activeTab:"description"!==e?e:"",activeProductId:this.productData.product.productId}),null!==this._availability&&this._availability.adjustScrollButtons()},_isTestingProduct:function(){return 308===this.productData.product.productId},_renderTabContentTest:function(t,e){tag("div",{className:"pf-pt-24 hidden",id:e},[t]).append(this._tabContent),null!==this._availability&&this._availability.adjustScrollButtons()},_showTabContent:function(t){this._shouldDispatchTabEvent()&&PF.ProductsCatalog.Utils.State.createAndDispatch(PF.ProductsCatalog.EVENT_TAB_CHOOSE,{activeTab:"description"!==t?t:"",activeProductId:this.productData.product.productId}),$(this._tabContent).find("#"+this.activeTab).addClass("hidden"),$(this._tabContent).find("#"+t).removeClass("hidden"),this.activeTab=t},_renderDescription:function(){var t=tag("div",{className:"pf-mb-24",innerHTML:this._getProductDataValue("productDescription")});return this.productData.product.careInstructions.length&&tag("div",{className:"pf-mb-24",innerHTML:this._getProductDataValue("printCareInstructionsHtml")}).append(t),this.productData.warnings&&this.productData.warnings.length&&tag("div",null,this.productData.warnings.map(this._renderWarning)).append(t),$(t).find('a[href="#care-instructions"]').on("click",function(t){t.preventDefault(),new PF.ProductsCatalog.Product.PrintCare(this.productData.product)}.bind(this)),t},_renderWarning:function(t){return tag("div","pf-mb-24 pf-alert pf-alert--warning-gray",[tag("span","pf-text-brown pf-alert__icon icon-warning-triangle"),tag("div",{innerHTML:t.htmlDescription})])},_renderGuidelines:function(){return this.productData.guidelines.length?new PF.ProductsCatalog.Product.Tabs.Guidelines(this.productData):""},_renderFaq:function(){var t=[{question:"Can you print an inside/outside label on the Bella + Canvas baby one piece?",answer:"No, it doesn't come with labelling options."},{question:"What sizes does the garment come in?",answer:"The sizes available are 3-6M, 6-12M, 12-18M, 18-25M."},{question:"What's the fit of the Bella + Canvas baby one piece?",answer:"It runs true to size."},{question:"What's the baby one piece made from?",answer:"It's made from 100% combed and ring-spun cotton (except for heather colors)."},{question:"Will you be adding all-over print baby one pieces?",answer:'There\'s no ETA, but in the meantime feel free to add a <a href="/feature-request">Feature Request!</a>'}];return PF.Utils.FaqSchema.createSchema(t).append(document.body),tag("div",null,[tag("h2","pf-h3 pf-mt-0","Frequently Asked Questions"),tag("hr","pf-m-0"),t.map(function(t,e){return this._renderAccordion(t,e)}.bind(this))])},_renderAccordion:function(t,e){return tag("div","pf-border-bottom",[tag("div",{className:"accordion__header",attr:{"data-toggle":"collapse","data-target":".accordion__header:hover + .accordion__content"},onclick:this._onAccordionClicked},[tag("p","pf-py-16 pf-m-0 pf-h5 pf-text-dark",[tag("i","pf-i pf-i-chevron-down pf-text-gray pf-i-24 accordion__icon"+(0===e?" opened":"")),t.question])]),tag("p",{className:"accordion__content pf-text-muted pf-ml-24 collapse"+(0===e?" in":""),innerHTML:t.answer})])},_onAccordionClicked:function(t){$(t.target.children[0]).hasClass("opened")?$(t.target.children[0]).removeClass("opened"):$(t.target.children[0]).addClass("opened")},_renderInsideLabel:function(){var t=tag("div",{innerHTML:this._getProductDataValue("insideLabel")});return setTimeout((function(){PF.Gallery.gallery_items=[],PF.Gallery.init()}),0),t},_renderAvailability:function(){return this._availability=new PF.ProductsPricing.Availability,this._availability.initAndGetContainerNode(this.productData)},_renderSizing:function(){return tag("div",{innerHTML:this._getProductDataValue("tabSizing")})},_renderUsingTips:function(){return tag("div",{innerHTML:this._getProductDataValue("tabUsingTips")})},_shouldDispatchTabEvent:function(){return!!this.isTabEventDispatching||(this.isTabEventDispatching=!0,!1)}},mkE.Base)}()},dQXU:function(t,e){!function(){"use strict";PF.ProductsCatalog.Product.Tabs.Guidelines=Class({__construct:function(t){if(t.guidelinesAndTemplates&&Object.keys(t.guidelinesAndTemplates).length>0){var e=new PF.Components.Tabs("secondary"),i=[],a=Object.keys(t.guidelinesAndTemplates),r=PF.Utils.TechniqueMemory(t.product.productId).getTechniqueFromMemory()||a[0];for(var s in t.guidelinesAndTemplates)if(t.guidelinesAndTemplates.hasOwnProperty(s)){var o=t.guidelinesAndTemplates[s],n=new PF.Components.Tabs.Item;n.caption=PF.Items.ProductItem.LABELS[s],n.isActive=s===r;var c=tag("div",n.isActive?"":"hidden",[new PF.ProductsCatalog.Components.SizingTable(o.templates,s),tag("div",{style:{wordWrap:"break-word"},innerHTML:o.guidelines})]);i.push(c),n.onclick=function(e){for(var a=Object.keys(t.guidelinesAndTemplates).indexOf(e),r=0,s=i.length;r<s;r++)if(i.hasOwnProperty(r)){var o=i[r];r===a?mkE.removeClassName(o,"hidden"):mkE.addClassName(o,"hidden")}}.bind(this,s),e.add(n)}a.length<2&&mkE.addClassName(e.node,"hidden"),this.node=tag("div","",[e,tag("div","pf-mt-24",i)])}else{var l=PF.Utils.TechniqueMemory(t.product.productId).getTechniqueFromMemory()||t.product.type;this.node=tag("div","",[new PF.ProductsCatalog.Components.SizingTable(t.templates,l),tag("div",{style:{wordWrap:"break-word"},innerHTML:t.guidelines})])}}},mkE.Base)}()},ejeh:function(t,e){!function(){"use strict";PF.ProductsCatalog.Components.SizingTable.Row=Class({rowspans:{},__construct:function(t,e,i){for(var a in this.rowspans=e,this.activeColumns=i,this.node=mkE({tag:"tr"}),t){var r=t[a];null!==r.value&&this._isCellVisible(r.key)&&this._renderCell(r,parseInt(a)).append(this.node)}},_isCellVisible:function(t){return this.activeColumns.indexOf(t)>-1},_renderCell:function(t,e){var i=this.rowspans[e]?this.rowspans[e]:1,a=mkE({tag:"td",attr:{rowspan:i}});return"title"===t.type?(mkE({tag:"strong",innerHTML:t.value}).append(a),a):"link"===t.type?(mkE({tag:"a",className:"pf-link",text:lang("Download"),href:t.value}).append(a),a):(a.innerHTML=t.value,a)}},mkE.Base)}()},g357:function(t,e){!function(){"use strict";PF.ProductsCatalog.Utils.State=Class({prefix:"",category:null,products:[],totalProductCount:null,variantIds:[],activeProductId:null,activeVariantId:null,filter:null,skipHistory:!1,openedFirstTime:!1,productSearchKeywords:null,activeTab:"",customMainHeader:"",documentTitle:"",action:PF.ProductsCatalog.EVENT_NAME,catalogType:"",productsViewPage:1,productColor:null,productSize:null,productRegion:null,isOnPopstate:!1,scrollToTop:!1,__construct:function(){this.catalogType=PF.ProductsCatalog.catalogType||PF.ProductsCatalog.TYPE_PP},getCategoryId:function(){return this.category?this.category.id:0},getObject:function(){return{action:this.action,activeProductId:this.activeProductId,category:this.category?JSON.stringify(this.category):null,products:this.products?JSON.stringify(this.products):null,activeTab:this.activeTab,filter:this.filter?JSON.stringify(this.filter):null}},getTitle:function(){if(this.customMainHeader)return this.customMainHeader;if(!this.category||!this.category.id)return PF.ProductsCatalog.PAGE_TITLES[this.catalogType];if(this.category.seo[this.catalogType]){var t=this.category.seo[this.catalogType],e=Object.values(t).pop();if(e&&e.mainHeading)return e.mainHeading}return this.category.settings&&this.category.settings.thumbnailTitle?this.category.settings.thumbnailTitle:this.category.title},getSubtitle:function(){return this.category&&this.category.id?"":PF.ProductsCatalog.PAGE_SUBTITLES[this.catalogType]?PF.ProductsCatalog.PAGE_SUBTITLES[this.catalogType]:""},getDocumentTitle:function(){var t=PF.ProductsCatalog.TITLES[this.catalogType];if(this.documentTitle)return this.documentTitle;if(this.activeProductId){t=this.catalogType===PF.ProductsCatalog.TYPE_PP?" | Printful":" | "+t;var e=this.getActiveProduct().getFullTitle();return this.getActiveProduct().customTitle&&(e=this.getActiveProduct().customTitle),e+t}if(!this.category||!this.category.id)return PF.ProductsCatalog.BASE_TITLES[this.catalogType]||t;if(this.category.seo[this.catalogType]){var i=this.category.seo[this.catalogType],a=Object.values(i).pop();if(a&&a.pageTitle)return a.pageTitle}return t},getUrl:function(){var t=new Url;if(t.path=this.prefix+"/",t.query.clear(),!this.category)return t.toString();if(t.path+=this.category.slug,t.hash=this.activeTab?this.activeTab:"",this.activeProductId)return t.path+="/"+this.getActiveProduct().slug,this.productColor&&(t.query.color=this.productColor),this.productTechnique&&(t.query.technique=this.productTechnique),this.productSize&&(t.query.size=this.productSize),this.productRegion&&(t.query.region=this.productRegion),this.activeVariantId&&(t.query.variant=this.activeVariantId),t.toString();if(!this._hasUrlParams())return t.hash="",t.toString();for(var e in this.filter){var i=this.filter[e].join("!");i&&(t.query[e]=i)}return this.productSearchKeywords&&(t.query.search=this.productSearchKeywords),this.productsViewPage>1&&(t.query.page=this.productsViewPage),t.toString()},getProducts:function(){var t=new PF.Repositories.Products,e=this.products?this.products.map(t.getCachedProductById.bind(t)):[],i=this.variantIds?this.variantIds.map(t.getCachedVariantById.bind(t)):[];return[].concat.apply(i,e.map((function(e){return-1===PF.ProductsPricing.expandTypes.indexOf(e.type)?e:t.getCachedVariantsByProductId(e.productId)})))},getActiveProduct:function(){return this.activeProductId?(new PF.Repositories.Products).getCachedProductById(this.activeProductId):null},pushToHistory:function(){if(this.getDocumentTitle()&&(document.title=this.getDocumentTitle()),this._shouldPushToHistory()){var t=this.getObject(),e=this.getTitle(),i=this.getUrl();this.openedFirstTime||PF.ProductsCatalog.Product.Info.isVariantChanged&&!PF.Components.BreadCrumbs.isClicked?(PF.ProductsCatalog.Product.Info.isVariantChanged&&(t.action=PF.ProductsCatalog.EVENT_PRODUCT_CHOOSE),window.history.replaceState(t,e,i)):window.history.pushState(t,e,i)}PF.ProductsCatalog.Product.Info.isVariantChanged=!1,PF.Components.BreadCrumbs.isClicked=!1},_shouldPushToHistory:function(){var t=[PF.ProductsCatalog.EVENT_PRODUCTS_LOADED,PF.ProductsCatalog.EVENT_TOGGLE_LOCK];return!this.skipHistory&&-1===t.indexOf(this.action)},_hasUrlParams:function(){return this._hasFilter()||this.productSearchKeywords||this.activeTab||this.productsViewPage>1},_hasFilter:function(){return this.filter||!$.isEmptyObject(this.filter)}}),PF.ProductsCatalog.Utils.State.createFromObject=function(t,e){var i=new PF.ProductsCatalog.Utils.State;if(!t)return i;for(var a in t)i[a]=t[a];var r=t.category?JSON.parse(t.category):null;return i.products=t.products?JSON.parse(t.products):[],i.category=r?(new PF.ProductsCatalog.Utils.Store).categories.getById(r.id):null,i.filter=t.filter?JSON.parse(t.filter):{},i.isOnPopstate=void 0!==e&&e,i},PF.ProductsCatalog.Utils.State.clone=function(t,e){!t instanceof PF.ProductsCatalog.Utils.State&&(t=PF.ProductsCatalog.Utils.State.createFromObject(t));var i=new PF.ProductsCatalog.Utils.State;for(var a in t)if("function"!=typeof t[a]){var r=t[a];r&&!$.isEmptyObject(r)||!e[a]||(r=e[a]),i[a]=r}return i},PF.ProductsCatalog.Utils.State.createAndDispatch=function(t,e){var i=new PF.ProductsCatalog.Utils.State;for(var a in i.action=t,e)"productsOrVariants"!==a&&(i[a]=e[a]);if(e.productsOrVariants)for(var r in i.totalProductCount=e.totalCount||null,e.productsOrVariants){var s=e.productsOrVariants[r];s instanceof PF.Items.VariantItem?i.variantIds.push(s.variantId):i.products.push(s.productId)}var o=document.createEvent("CustomEvent");o.initCustomEvent(t,!1,!0,i),document.dispatchEvent(o)}}()},"iiV/":function(t,e){!function(){"use strict";PF.ProductsCatalog.Utils.Router=Class({events:[PF.ProductsCatalog.EVENT_NAME,PF.ProductsCatalog.EVENT_ALL_LOADED,PF.ProductsCatalog.EVENT_PRODUCTS_FILTER,PF.ProductsCatalog.EVENT_PRODUCTS_LOADED,PF.ProductsCatalog.EVENT_PRODUCT_CHOOSE,PF.ProductsCatalog.EVENT_TAB_CHOOSE,PF.ProductsCatalog.EVENT_VARIANT_CHANGED,PF.ProductsCatalog.EVENT_TOGGLE_LOCK],params:null,state:null,middleware:null,__construct:function(t){this.params=t,this.state=new PF.ProductsCatalog.Utils.State,this.middleware=new PF.ProductsCatalog.Utils.Middleware,this._initEventHandler(),this._initEventListeners()},goTo:function(t,e){var i={category:t&&t,activeProductId:e&&e.productId,productSearchKeywords:this._getFromUrl("search"),activeTab:(new Url).hash,filter:PF.ProductsCatalog.Utils.Router.getFiltersFromUrl(),productColor:this._getFromUrl("color"),productSize:this._getFromUrl("size"),activeVariantId:parseInt(this._getFromUrl("variant")),skipHistory:!t,openedFirstTime:!0,productsViewPage:parseInt(this._getFromUrl("page"))};PF.ProductsCatalog.Utils.State.createAndDispatch(e?PF.ProductsCatalog.EVENT_PRODUCT_CHOOSE:PF.ProductsCatalog.EVENT_NAME,i)},goToIndex:function(){PF.ProductsCatalog.Utils.State.createAndDispatch(PF.ProductsCatalog.EVENT_NAME,{category:new PF.ProductsCatalog.Items.CategoryItem})},getCatalogType:function(){return this.params.catalogType},popState:function(t){this.state=PF.ProductsCatalog.Utils.State.createFromObject(t.state,!0),this.update()},addState:function(t){this.state=t,!this.params.skipHistory&&t.pushToHistory()},update:function(){this.params.onUpdate&&this.middleware.apply(this.state).continue(this.params.onUpdate)},updateParams:function(t){this._destroyEventListeners(),this.params=t,this._initEventHandler(),this._initEventListeners()},_getFromUrl:function(t){var e=new Url;return e.query[t]?e.query[t]:null},_initEventHandler:function(){this._changeHandlerObject={handleEvent:PF.ProductsCatalog.Utils.Router.onChange.bind(this,this.params)}},_initEventListeners:function(){window.onpopstate=this.popState,this.events.map(this._addListener)},_destroyEventListeners:function(){this.events.map(this._removeListener)},_addListener:function(t){document.addEventListener(t,this._changeHandlerObject,!0)},_removeListener:function(t){document.removeEventListener(t,this._changeHandlerObject,!0)}}),PF.ProductsCatalog.Utils.Router.instance=null,PF.ProductsCatalog.Utils.Router.getInstance=function(t){return PF.ProductsCatalog.Utils.Router.instance||(PF.ProductsCatalog.Utils.Router.instance=new PF.ProductsCatalog.Utils.Router(t)),PF.ProductsCatalog.Utils.Router.instance},PF.ProductsCatalog.Utils.Router.onChange=function(t,e){var i=PF.ProductsCatalog.Utils.Router.getInstance(t),a=PF.ProductsCatalog.Utils.State.clone(e.detail,{category:i.state.category,prefix:i.params.prefix});a.catalogType=i.getCatalogType(),i.addState(a),i.update()},PF.ProductsCatalog.Utils.Router.getFiltersFromUrl=function(){var t=new Url,e={};for(var i in PF.ProductsCatalog.Filters.TYPES){var a=(t.query[i]||"").split("!")||[];a=a.filter((function(t){return!!t})),e[PF.ProductsCatalog.Filters.TYPES[i]]=a}return e},PF.ProductsCatalog.Utils.Router.Par=Class({productsCatalog:null,prefix:"",onUpdate:null,skipHistory:!1,catalogType:PF.ProductsCatalog.TYPE_PP})}()},"j4E/":function(t,e){!function(){"use strict";PF.ProductsCatalog.Product.Media.Gallery.Par=Class({images:[],videos:[],productTitle:"",onVideoClick:null,onImageClick:null,currentSlide:0})}()},ji4W:function(t,e){!function(){"use strict";PF.ProductsCatalog.Utils.Store.Categories=Class({_categories:[],getAll:function(t){return this._getSubCategories(t)},getAllWithInactive:function(t){return this._getSubCategories(t,!0)},getById:function(t,e,i){e||(e=PF.ProductsCatalog.Utils.Store.Categories.cache[PF.ProductsCatalog.catalogType]),void 0===i&&(i=!0);var a=this._findCategoryById(t,e);if(a||!i)return a;for(var r in e){var s=this.getById(t,e[r].children);if(s){a=s;break}}return a},getPath:function(t){void 0===t&&(t=this.getActiveCategoryId());var e=[],i=this.getById(t);if(!i)return[];for(e.push(i);i.parentId&&(i=this.getById(i.parentId));)e.push(i);return e.reverse()},getTopLevelCategory:function(){var t=this.getPath();return t.length?t[0]:this.getActiveCategory()},setActiveCategoryId:function(t){PF.ProductsCatalog.Utils.Store.Categories.activeCategoryId=t},getActiveCategoryId:function(){return PF.ProductsCatalog.Utils.Store.Categories.activeCategoryId},getActiveCategory:function(){return this.getById(this.getActiveCategoryId())},getCategoryChildIds:function(t){var e=[t.id];for(var i in t.children)e.push(t.children[i].id);return e},cache:function(t){"Array"!=typeof t&&(t=PF.ProductsCatalog.Utils.Helpers.convertToArray(t)),PF.ProductsCatalog.Utils.Store.Categories.cache[PF.ProductsCatalog.catalogType]=t.map(this._getCategoryItem)},_getSubCategories:function(t,e,i){var a=PF.ProductsCatalog.Utils.Store.Categories.cache[PF.ProductsCatalog.catalogType];if(!a.length)return console.log("Categories not found"),[];t||(t=0);var r=i&&i.length?i:a;return r=r.filter(this._filterCategoryByParentId.bind(this,t)),e||(r=r.filter(this._filterActiveCategory.bind(this))),r.length?r:(!i&&a&&(i=a),i.map(function(i){r=r.concat(this._getSubCategories(t,e,i.children))}.bind(this)),r)},_findCategoryById:function(t,e){var i=null;return e.map(function(e){if(e.id===t)return i=e,!1}.bind(this)),i},_filterCategoryByParentId:function(t,e){return e.parentId===t},_filterActiveCategory:function(t){return t.isActive},_getCategoryItem:function(t){return PF.ProductsCatalog.Items.CategoryItem.fromArray(t)}}),PF.ProductsCatalog.Utils.Store.Categories.cache={},PF.ProductsCatalog.Utils.Store.Categories.activeCategoryId=0}()},kPVw:function(t,e){!function(){"use strict";PF.ProductsCatalog.Filters.SizeIn=Class({_isSizeValid:function(t){return"cm"!==t.slice(-2)}},PF.ProductsCatalog.Filters.Size)}()},kT3P:function(t,e){!function(){"use strict";PF.ProductsCatalog.Initializer=Class({params:null,catalogParams:null,productsCatalog:null,router:null,__construct:function(t){this.params=t,this._initCatalogParams(),this.catalogParams.isRenderRequired=!1,this.productsCatalog=new PF.ProductsCatalog(this.catalogParams),this.catalogParams.isRenderRequired=!0,this._initRouter(this.getActiveCategory(),this.getActiveProduct())},updateParams:function(t){this.params.activeCategoryId=t.activeCategoryId||null},_initCatalogParams:function(){var t=new PF.ProductsCatalog.Par;this.params.store&&(t.store=this.params.store),t.store.setActiveCategoryId(this.params.activeCategoryId),t.activeStoreId=this.params.storeId,t.store.setCurrency(this.params.currency),t.allowedFulfillmentRegions=this.params.allowedFulfillmentRegions,t.onProductChoose=this.params.onProductChoose,t.onCategoryChoose=this.params.onCategoryChoose,t.isOrderFlow=this.params.isOrderFlow,t.isPush=this.params.isPush,t.customTitle=this.params.title,t.isClean=this.params.isClean,t.storeProductLimitations=this.params.storeProductLimitations,t.isProductTemplate=this.params.isProductTemplate,t.isEmbedded=this.params.isEmbedded,t.banners=this.params.banners,t.bannersPerPage=this.params.bannersPerPage,this.params.isOrderFlow&&(t.enableTabs=!1,t.enableCategoriesSidebar=!0,t.enableTitle=!1,t.enableSearch=!1,t.breadcrumbsIndexCategoryTitle=dclang("products","Root category name","All departments"),this.params.isAnonymousOrderFlow?t.enableBreadcrumbs=!1:t.containerClass=""),this.params.isMockupGenerator&&(t.isMockupGenerator=this.params.isMockupGenerator,t.enableSearch=!0,t.enableTabs=!1,t.searchType=PF.Components.AutoComplete.SEARCH_TYPE_PRODUCTS_GENERATOR,t.breadcrumbsIndexCategoryTitle=dclang("products","Root category name","All departments")),this.params.isOrderFlow||this.params.isMockupGenerator||(t.enableProductBanners=!0),this.params.isClean&&(t.enableCategoriesSidebar=!1,t.enableProductsSidebar=!1,t.enableTabs=!1,t.enableSearch=!1,t.enableTitle=!1,t.containerClass=""),this.params.isProductTemplate&&(t.enableTitle=!1,t.enableProductBanners=!1,t.enableTabs=!1),t.enableSearch=!1,this.catalogParams=t,PF.ProductsCatalog.urlPrefix=this.params.urlPrefix},_initRouter:function(t,e){var i=new PF.ProductsCatalog.Utils.Router.Par;i.productsCatalog=this.productsCatalog,i.onUpdate=this.productsCatalog.updateFromState,i.skipHistory=this.params.shouldSkipHistory(),i.prefix=this.params.urlPrefix,this.params.isMockupGenerator?i.catalogType=PF.ProductsCatalog.TYPE_MG:this.params.isPush||this.params.isProductTemplate?i.catalogType=PF.ProductsCatalog.TYPE_PUSH:this.params.isOrderFlow?i.catalogType=PF.ProductsCatalog.TYPE_OF:i.catalogType=PF.ProductsCatalog.TYPE_PP;var a=!!PF.ProductsCatalog.Utils.Router.instance;this.router=PF.ProductsCatalog.Utils.Router.getInstance(i),a&&(this.router.updateParams(i),this.router.state=new PF.ProductsCatalog.Utils.State),this.router.goTo(t,e)},getActiveCategory:function(){return this.catalogParams.store.categories.getActiveCategory()},getActiveProduct:function(){return this.catalogParams.store.products.getActive()},append:function(t){this.productsCatalog.node.append(t)}}),PF.ProductsCatalog.Initializer.instance=null,PF.ProductsCatalog.Initializer.getInstance=function(t,e){if(!PF.ProductsCatalog.Initializer.instance||e){var i=PF.ProductsCatalog.Initializer.instance;!t.store&&i&&i.catalogParams.store&&(t.store=i.catalogParams.store),PF.ProductsCatalog.Initializer.instance=new PF.ProductsCatalog.Initializer(t)}else if(t.activeCategoryId){var a=(new PF.ProductsCatalog.Utils.Store).categories.getById(t.activeCategoryId);PF.ProductsCatalog.Initializer.instance.router.goTo(a)}else PF.ProductsCatalog.Initializer.instance.router.goToIndex();return PF.ProductsCatalog.Initializer.instance}}()},khoc:function(t,e){!function(){"use strict";PF.ProductsCatalog.Banner=Class({bannerId:null,categoryId:null,gaEventId:null,locale:null,imageLink:null,mobileImageLink:null,title:null,buttonText:null,url:null,columns:[],isActive:!1,createdAt:null,updatedAt:null},mkE.Base)}()},"mO+9":function(t,e){!function(){"use strict";PF.ProductsCatalog.Items.FilterItem=Class({id:0,type:"",title:"",hiddenInCatalog:!1,hiddenInMockup:!1,hiddenInOrderflow:!1,hiddenInPush:!1,orderIndex:1},PF.Items.Item),PF.ProductsCatalog.Items.FilterItem.fromArray=function(t){var e=new PF.ProductsCatalog.Items.FilterItem;return mkE.O2O(e,t),e}}()},mhgk:function(t,e){!function(){"use strict";PF.ProductsCatalog.ProductsView=Class({filters:null,views:{},_tabs:null,_tabItems:{},_products:[],_category:null,isTabEventDispatching:!0,__construct:function(){this.views={models:new PF.ProductsCatalog.Views.Wrap(dclang("products","Product models","Models"),new PF.ProductsCatalog.Views.ProductsSelector,!0),retail_prices:new PF.ProductsCatalog.Views.Wrap(dlang("products","Retail prices"),new PF.ProductsCatalog.Views.RetailPrices)},this.node=tag("div","catalog__products-selector",[this._nodeTabsRow=tag("div","row pf-mt-16 pf-mt-sm-8 pf-mt-md-0 pf-mb-16",[tag("div","col-md-12",[this._tabs=new PF.Components.Tabs("primary center-fixed",!0)])]),this._contentNode=tag("div")]),mkE.addClassName(this._nodeTabsRow,"hidden")},renderModelsView:function(t){this.views.models.render({showFulfillmentCountries:t.catalogType!==PF.ProductsCatalog.TYPE_MG}).append(this._contentNode)},renderProducts:function(t,e){this.views.models.content.filters=this.filters,this._products=t.getProducts(),this._category=t.category;var i=new Url,a={products:this._products,category:this._category,keywords:t.productSearchKeywords,totalProductCount:t.totalProductCount,page:this._resolvePageNumber(t.productsViewPage,i.query.page,e),showFulfillmentCountries:t.catalogType!==PF.ProductsCatalog.TYPE_MG,filters:$.extend({},PF.ProductsCatalog.Utils.Router.getFiltersFromUrl(),t.filter)};this.views.models.render(a),this.views.retail_prices.render(a);var r=t.activeTab?t.activeTab:(new Url).hash;r&&this.setActiveTab(r)},renderTabs:function(t){mkE.removeClassName(this._nodeTabsRow,"hidden"),this._setTabItems(t),this._tabs.render()},hideTabs:function(){mkE.addClassName(this._nodeTabsRow,"hidden")},setActiveTab:function(t){mkE.removeClassName(this._nodeTabsRow,"hidden");var e=this._findViewById(t),i=this._tabItems[t];e&&i&&this._tabs.setActiveTab(i)},_setTabItems:function(t){if(this._isTestingCategory()){this.views.faq=new PF.ProductsCatalog.Views.Wrap(dlang("products","FAQ"),new PF.ProductsCatalog.Views.Faq);var e=new PF.ProductsCatalog.Items.CategoryTabItem;e={id:187,active:1,name:"FAQ",position:7,type:"faq"},t.push(e)}for(var i in this.views){var a=this.views[i],r=a.content?this._findTab(t,i):null,s=a.content?a.content.id:i;(r&&r.active||a.isTabAlwaysVisible())&&(this._isTestingCategory()?this._tabItems[s]=this._renderTabTest(r,a):this._tabItems[s]=this._renderTab(r,a))}var o=[];for(var n in this._tabItems)o.push(this._tabItems[n]);this._tabs.items=PF.ProductsCatalog.Utils.Helpers.convertToArray(this._tabItems)},_isTestingCategory:function(){return 14===this._category.id},_findViewById:function(t){for(var e in this.views){var i=this.views[e];if(i.content&&i.content.id===t)return i}return null},_renderTab:function(t,e){var i={mainHeader:"",documentTitle:""};return e.setCaption(""),t&&(e.setCaption(t.name),i.mainHeader=t.mainHeader,i.documentTitle=t.pageTitle),e.isActive&&(mkE.clearNode(this._contentNode),this.renderContent(i,e)),e.getTabItem(this.renderContent.bind(this,i))},_renderTabTest:function(t,e){var i={mainHeader:"",documentTitle:""};return e.setCaption(""),t&&(e.setCaption(t.name),i.mainHeader=t.mainHeader,i.documentTitle=t.pageTitle),e.isActive?this.activeTabId=this._tabItems[e.content.id]?e.content.id:"models":mkE.addClassName(e.content.node,"hidden"),this.renderContentTest(e),e.getTabItem(this.showTabContent.bind(this,e,i))},renderContentTest:function(t){if(!t||!t instanceof PF.ProductsCatalog.Views.Wrap||t.isDisabled)return!1;t.render().append(this._contentNode)},showTabContent:function(t,e,i){var a=this._findViewById(this.activeTabId);mkE.addClassName(a.content.node,"hidden"),mkE.removeClassName(t.content.node,"hidden"),this.activeTabId=t.content.id,this._shouldDispatchTabEvent(i)&&PF.ProductsCatalog.Utils.State.createAndDispatch(PF.ProductsCatalog.EVENT_TAB_CHOOSE,{activeTab:"models"!==this.activeTabId?this.activeTabId:"",productsOrVariants:this._products,filter:PF.ProductsCatalog.Utils.Router.getFiltersFromUrl(),customMainHeader:e.mainHeader,documentTitle:e.documentTitle})},_findTab:function(t,e){for(var i in t){var a=t[i];if(a.type===e)return a}return null},_resolvePageNumber:function(t,e,i){if(t>1)return t;if(i)return 1;if(!e)return 1;var a=parseInt(e);return a>1?a:1},renderContent:function(t,e,i){if(!e||!e instanceof PF.ProductsCatalog.Views.Wrap)return!1;if(e.isDisabled)return!1;var a=this._tabItems[e.content.id]&&"models"!==e.content.id?e.content.id:"";mkE.clearNode(this._contentNode),e.render().append(this._contentNode),this._shouldDispatchTabEvent(i)&&PF.ProductsCatalog.Utils.State.createAndDispatch(PF.ProductsCatalog.EVENT_TAB_CHOOSE,{activeTab:a,productsOrVariants:this._products,filter:PF.ProductsCatalog.Utils.Router.getFiltersFromUrl(),customMainHeader:t.mainHeader,documentTitle:t.documentTitle})},_shouldDispatchTabEvent:function(t){return!!t&&(!!this.isTabEventDispatching||(this.isTabEventDispatching=!0,!1))},clear:function(){return mkE.clearNode(this._contentNode),this},hide:function(){return mkE.addClassName(this.node,"hidden"),this},show:function(){return mkE.removeClassName(this.node,"hidden"),this}},mkE.Base)}()},nNhH:function(t,e){!function(){"use strict";PF.ProductsCatalog.Items.CategorySeoItem=Class({page:"",name:"",mainHeading:"",pageTitle:"",metaDescription:"",markupItemName:""}),PF.ProductsCatalog.Items.CategorySeoItem.fromArray=function(t){var e=new PF.ProductsCatalog.Items.CategorySeoItem;return mkE.O2O(e,t),e}}()},oi7h:function(t,e){!function(){"use strict";PF.ProductsCatalog=Class({_params:null,_state:null,_productView:null,__construct:function(t){this._params=t,this._params.pageNumber=(t.isEmbeddedView()?this._params.pageNumber:(new Url).query.page)||1,this._state=new PF.ProductsCatalog.Utils.State,this.node=tag("div","catalog__wrap",[tag("div",this._params.containerClass,[this._nodeSticky=tag("div","catalog__header "+(this._params.enableSearch?"pf-mb-24":""),[this.container=tag("div",this._params.isStickyHeaderEnabled()?"container pf-px-0":"",[tag("div","row",[tag("div","text-left pf-py-16 col-sm-12 "+(this._params.enableSearch?"col-md-8 pf-pt-16":""),[this._breadcrumbs=this._renderBreadcrumbs()]),this._params.enableSearch?tag("div","col-sm-12 col-md-4 hidden-xs",[tag("div","catalog__header__search pf-mt-16",[this._inputSearch=this._renderSearch()])]):""])])]),this._titleWrapNode=this._params.enableTitle?tag("div","row pf-mb-40",[tag("div","col-md-12",[this._titleNode=tag("h1","pf-h2 text-center pf-my-8 pf-my-sm-0"),this._subtitleNode=tag("h3","pf-ui-subheading-lg text-muted text-center pf-mt-8 pf-mb-0 pf-d-none")])]):"",this._titleWrapNodeWithImage=this._params.enableTitle?tag("div","row pf-mb-64 pf-flex-md-row-reverse align-items-center pf-d-none",[tag("div","text-center col-md-6 text-md-left",[this._renderTitleImage()]),tag("div","col-md-6",[this._titleNodeWithImage=tag("h2","text-center text-md-left pf-mb-0 pf-mt-24 pf-mt-md-0 pf-h1 pf-pt-md-96"),this._subtitleNodeWithImage=tag("h3","pf-ui-subheading-lg text-muted text-center text-md-left pf-mt-8 pf-mb-0 pf-d-none")])]):"",this._productBannerNode=tag("div","row slick-slider slick-dotted product-banner-slider"),this._titleSearchNode=this._params.enableSearch?tag("div","hidden-sm hidden-md hidden-lg",[tag("div","catalog__header__search pf-mt-16",[this._inputSearch=this._renderSearch()])]):tag("span"),this._mainContentNode=tag("div")]),this._productNode=tag("div")]),this._renderMainContent(),this._params.isStickyHeaderEnabled()&&this._attachStickyHeader(),window.addEventListener("resize",this._closeMobileSidebar.bind(this,null))},updateFromState:function(t){if(this._params.enableTitle&&t.catalogType===PF.ProductsCatalog.TYPE_MG){var e=!(t.category&&t.category.id>0);this.updateVisualHeader(e)}this._state=t,PF.ProductsCatalog.catalogType=t.catalogType,this._params.store.setActiveCategoryId(t.getCategoryId()),this._state.scrollToTop&&setTimeout(function(){this._scrollViewToTop()}.bind(this),100),this[t.action]&&this[t.action]()},updateVisualHeader:function(t){t?(mkE.removeClassName(this._titleWrapNodeWithImage,"pf-d-none"),mkE.addClassName(this._titleWrapNode,"pf-d-none")):(mkE.removeClassName(this._titleWrapNode,"pf-d-none"),mkE.addClassName(this._titleWrapNodeWithImage,"pf-d-none"))},_renderTitleImage:function(){var t=!1;return this._params.enableTitle&&this._state.catalogType===PF.ProductsCatalog.TYPE_MG&&(t=!(this._state.category&&this._state.category.id>0)),t?tag("img",{className:"catalog__header-img pf-h-auto",src:PF.ASSETS_URL+"images/landing/mockup-generator-img.png"}):""},productCatalogProductsLoaded:function(){this._renderMainContent(),this._params.enableTabs?this._productsSelector.renderTabs(this._state.category.tabs):this._productsSelector.hideTabs(),this._productsSelector.renderProducts(this._state,this._params.isEmbeddedView()),!this._params.enableTabs&&this._productsSelector.renderModelsView(this._state),this.productCatalogLoadAllProductData(this.reRenderSideBar)},reRenderSideBar:function(t){if(this._sidebar){var e=this._params.store.products.getCachedProducts(this._state.getCategoryId());this._sidebar.filters.render(e.products,this._params.allowedFulfillmentRegions,e.products?e.products.length:0,t)}},productCatalogLock:function(){this._state.isLocked?PF.LoadingOverlay.show(this._mainContentNode):PF.LoadingOverlay.hide(this._mainContentNode)},productCatalogNavigate:function(){var t=this._state.getCategoryId();if(this._renderMainContent(),this._updateBreadcrumbs(),this._clearBannerNode(),this._renderProductBanner(),this._initSlider(),this._params.onCategoryChoose&&t&&this._params.onCategoryChoose(t),this._shouldShowCategories())this._categoriesSelector.render(this._params.store.categories.getAll(t),t);else{var e=new PF.ProductsCatalog.Items.GetProductParams;e.categoryId=t,e.actionBefore=this._productsSelector.show,e.forMockupGenerator=this._params.isMockupGenerator,e.forProductPush=PF.ProductsCatalog.isProductPush(),e.forOrderFlow=PF.ProductsCatalog.isOrderFlow(),e.storeId=this._params.activeStoreId,e.pageNumber=this._params.pageNumber,setTimeout(function(){this._params.store.products.getByParams(e)}.bind(this),1)}this._trackProductPageView()},productCatalogLoadAllProductData:function(t){this._params.store.products.getAllProductsList(t)},productCatalogProductsFiltered:function(t){this._hasSelectedFilters()?mkE.removeClassName(this._nodeClearFilters,"hidden"):this._nodeClearFilters&&mkE.addClassName(this._nodeClearFilters,"hidden"),this._buttonTitle&&mkE.setNodeText(this._buttonTitle,dlang("products","See {productCount} products").replace("{productCount}",this._state.getProducts().length)),mkE.hasClassName(this._mainContentNode,"hidden")||this._state.isOnPopstate?t||this.productCatalogNavigate():this._productsSelector.renderProducts(this._state,this._params.isEmbeddedView())},productCatalogAllLoaded:function(){this.productCatalogProductsFiltered(!0)},_hasSelectedFilters:function(){return Object.values($.extend({},PF.ProductsCatalog.Utils.Router.getFiltersFromUrl(),this._state.filter)).filter((function(t){return t&&t.length>0})).length>0},productCatalogProductChosen:function(){if(this._params.onProductChoose)return this._params.onProductChoose(this._state.getActiveProduct()),void this._trackProductPageView();this._updateTitle(!1),this._updateBreadcrumbs(this._state.getActiveProduct()),this.hideMainContent(),PF.LoadingOverlay.show(this._productNode,{minHeight:300}),this._params.store.products.getDataByProductId(this._state.activeProductId,this._renderProduct),this._trackProductPageView()},productCatalogVariantChanged:function(){this._productView.productInfo.updatePickers()},hideMainContent:function(){mkE.addClassName(this._mainContentNode,"hidden")},isMainContentHidden:function(){return mkE.hasClassName(this._mainContentNode,"hidden")},productCatalogTabChosen:function(){this._state.activeProductId?this._state.isOnPopstate&&this._productView.setActiveTab(this._state.activeTab,!1):this.isMainContentHidden()||this._state.isOnPopstate?this.isMainContentHidden()?this.productCatalogNavigate():(this._productsSelector.isTabEventDispatching=!1,this._productsSelector.setActiveTab(this._state.activeTab),this._trackProductPageView()):this._updateTitle(this._state.getTitle())},_renderBreadcrumbs:function(){if(!this._params.enableBreadcrumbs)return"";var t=new PF.Components.BreadCrumbs;return t.addIndex(this._params.breadcrumbsIndexCategoryTitle),t},_updateBreadcrumbs:function(t){this._breadcrumbs&&(this._breadcrumbs.set(this._params.store.categories.getPath()),t&&this._breadcrumbs.add(t))},_updateTitle:function(t){if(this._params.enableTitle)if(t){this._titleNode.innerHTML=t,this._titleNodeWithImage.innerHTML=t;var e=this._state.getSubtitle();e?(this._subtitleNode.innerHTML=e,this._subtitleNodeWithImage.innerHTML=e,mkE.removeClassName(this._subtitleNode,"pf-d-none"),mkE.removeClassName(this._subtitleNodeWithImage,"pf-d-none")):(mkE.addClassName(this._subtitleNode,"pf-d-none"),mkE.addClassName(this._subtitleNodeWithImage,"pf-d-none")),mkE.removeClassName(this._titleSearchNode,"pf-d-none"),mkE.insertBefore(this._titleWrapNode,this._productBannerNode),mkE.insertBefore(this._titleWrapNodeWithImage,this._productBannerNode)}else mkE.addClassName(this._titleSearchNode,"pf-d-none"),mkE.removeNode(this._titleWrapNode),mkE.removeNode(this._titleWrapNodeWithImage)},_clearBannerNode:function(){this._productBannerNode.classList.contains("slick-initialized")&&this._productBannerNode.slick.destroy(),mkE.clearNode(this._productBannerNode)},_renderMainContent:function(){if(!1!==this._params.isRenderRequired){mkE.clearNode(this._mainContentNode),mkE.clearNode(this._productNode),mkE.removeClassName(this._mainContentNode,"hidden"),this._clearBannerNode(),this._updateTitle(this._state.getTitle());var t=this._state.getProducts(),e=this._params.enableCategoriesSidebar||t.length&&this._params.enableProductsSidebar,i=this._params.store.categories.getActiveCategory();this._params.store.allowedFulfillmentRegions=this._params.allowedFulfillmentRegions,tag("div","row",[e?tag("div","col-xs-12 col-sm-4 col-md-3 col-lg-3 col-xl-2 hidden-xs catalog__sidebar-floating",[tag("div","catalog__sidebar-header row hidden-sm hidden-md hidden-lg",[tag("div","pf-p-16",[tag("h5","pf-ui-subheading text-center pf-m-0",[dlang("products","Filters")]),tag("a",{className:"close",prop:{onclick:this._closeMobileSidebar}})]),tag("div","pf-px-16 pf-py-8 bordered",[tag("img",{className:"category-thumb pf-mr-16",prop:{src:i?i.urlImage:""}}),tag("h6","pf-h6 category-title",[i?i.getSidebarTitle():""]),this._nodeClearFilters=tag("a",{className:"pf-link pull-right pf-mt-8 hidden",onclick:this._clearFilters},[dlang("products","Clear filters")])])]),this._sidebar=new PF.ProductsCatalog.Sidebar(this._params.store,this._params.enableCategoriesSidebar),tag("div","catalog__sidebar-footer row pf-p-16 hidden-sm hidden-md hidden-lg",[tag("a",{className:"button red cwhite btn-block",prop:{onclick:this._closeMobileSidebar}},[this._buttonTitle=tag("span","",[dlang("products","See {productCount} products").replace("{productCount}",t.length)])])])]):"",tag("div",e?"col-xs-12 col-sm-8 col-md-9 col-lg-9 col-xl-10":"col-xs-12",[this._categoriesSelector=new PF.ProductsCatalog.CategoriesSelector,this._productsSelector=new PF.ProductsCatalog.ProductsView])]).append(this._mainContentNode),this._sidebar&&(this._productsSelector.filters=this._sidebar.filters),PF.ProductsCatalog.isProductsPricing()&&new PF.ProductsCatalog.Views.OtherProducts(PF.ProductsCatalog.Views.OtherProducts.TYPE_RECENTLY_VIEWED).append(this._mainContentNode),this._isTextBlockVisible()&&(void 0!==this._params.textBlockData.currentActiveBlock&&this._params.textBlockData.currentActiveBlock.removeResizeEvent(),this._params.textBlockData.currentActiveBlock=new PF.ProductsCatalog.Views.TextBlock(this._params.textBlockData,this._params.store.categories.getActiveCategoryId()),this._params.textBlockData.currentActiveBlock.append(this._mainContentNode));var a=this._state.totalProductCount||null;e&&t.length&&a&&this._sidebar.filters.render(t,this._params.allowedFulfillmentRegions,a,!0)}},_clearFilters:function(t){PF.ProductsCatalog.Utils.State.createAndDispatch(PF.ProductsCatalog.EVENT_PRODUCTS_FILTER,{filter:null,productsOrVariants:this._productItems,isOnPopstate:!0}),this._openMobileSidebar(t)},_closeMobileSidebar:function(t){t&&t.preventDefault(),$("html, body").css("overflow",""),$(document).find(".catalog__sidebar-floating").closest(".modal").scrollTop(0).css("overflow-y","auto"),$(document).find(".catalog__sidebar-floating").removeClass("open")},_openMobileSidebar:function(t){t.preventDefault(),$("html, body").css("overflow","hidden"),$(document).find(".catalog__sidebar-floating").closest(".modal").scrollTop(0).css("overflow-y","hidden"),$(document).find(".catalog__sidebar-floating").addClass("open")},_renderSearch:function(){return new PF.Components.AutoComplete({placeholder:dlang("products","Search products..."),type:this._params.searchType,onEnterPressed:function(){$(this.nodeInput).parent().find(".tt-selectable:first").addClass("tt-cursor").click()},onSelected:function(t){this._params.isProductTemplate?this._params.onProductChoose(PF.Items.ProductItem.fromArray(t)):location.href=t.autoCompleteUrl}.bind(this)})},_renderProduct:function(t){this._clearBannerNode(),mkE.clearNode(this._productNode),PF.LoadingOverlay.hide(this._productNode),this._state.activeVariantId&&t.setActiveVariantById(this._state.activeVariantId),this._productView=new PF.ProductsCatalog.Product(t),this._productView.append(this._productNode)},_attachStickyHeader:function(){var t=0,e=0;window.addEventListener("scroll",function(){t||(t=$(this._nodeSticky).offset().top),t+100<=window.pageYOffset?(mkE.addClassName(this.node,"catalog__sticky"),mkE.removeClassName(this.container,"pf-px-0"),mkE.removeClassName(this._nodeSticky,"catalog__header--visible"),this._nodeSticky.style.top=""):t>=window.pageYOffset&&(mkE.removeClassName(this.node,"catalog__sticky"),mkE.addClassName(this.container,"pf-px-0"),mkE.removeClassName(this._nodeSticky,"catalog__header--visible"),this._nodeSticky.style.top=""),window.pageYOffset>e&&this._inputSearch&&!this._inputSearch.getValue()?mkE.removeClassName(this._nodeSticky,"catalog__header--visible"):mkE.addClassName(this._nodeSticky,"catalog__header--visible"),e=window.pageYOffset}.bind(this))},_scrollViewToTop:function(){var t=this.isMainContentHidden()?this._productNode:this._mainContentNode;$(t).offset().top>window.pageYOffset||$("html, body").animate({scrollTop:$(t).offset().top-100},300)},_shouldShowCategories:function(){return!this._state.category||0===this._state.category.parentId},_isTextBlockVisible:function(){return PF.ProductsCatalog.isProductsPricing()&&(this._params.store.isRootCategory()||this._isProductListCategory()||this._isCategoryListCategory())},_isCategoryListCategory:function(){return null!==this._state.category&&0===this._state.category.parentId},_isProductListCategory:function(){return this._state.products.length},_trackProductPageView:function(){PF.ProductsCatalog.TRACKED_PAGE_VIEWS++,PF.ProductsCatalog.TRACKED_PAGE_VIEWS<=1||(new PF.Marketing.GoogleAnalytics).trackPageView()},_renderProductBanner:function(){var t=this._params.banners,e=this._params.bannersPerPage,i=this._params.store.categories.getActiveCategoryId(),a=[];if(Array.isArray(t)&&t.length&&(a=t.sort((function(t,e){return t.position-e.position}))),this._params.enableProductBanners&&a.length)for(var r in a=a.filter((function(t){return t.categoryId===i})),e&&(t=a.slice(0,e)),a){var s=a[r],o=new PF.ProductsCatalog.Components.ProductsBanner.Par;o.bannerId=s.gaEventId?s.gaEventId:s.bannerId,o.buttonText=s.buttonText,o.imgSrc=s.imageLink,o.imgSrcMobile=s.mobileImageLink,o.url=langUrl(s.url),o.title=s.title,o.columns=s.columns,new PF.ProductsCatalog.Components.ProductsBanner(o).append(this._productBannerNode)}},_initSlider:function(){if(this._productBannerNode.children.length){var t=$(this._productBannerNode);t.slick({autoplay:!1,slidesToShow:2,lazyLoad:"ondemand",slidesToScroll:1,infinite:!0,arrows:!1,adaptiveHeight:!1,focusOnSelect:!1,dots:!1,rows:0,responsive:[{breakpoint:767,settings:{autoplay:!0,slidesToShow:1,dots:!0}}]}).on("click",(function(){t.slick("slickSetOption",{autoplay:!1},!1)})).on("touchend touchcancel touchmove",(function(){t.slick("slickPlay")}))}}},mkE.Base),PF.ProductsCatalog.EVENT_NAME="productCatalogNavigate",PF.ProductsCatalog.EVENT_ALL_LOADED="productCatalogAllLoaded",PF.ProductsCatalog.EVENT_PRODUCTS_LOADED="productCatalogProductsLoaded",PF.ProductsCatalog.EVENT_PRODUCTS_FILTER="productCatalogProductsFiltered",PF.ProductsCatalog.EVENT_TOGGLE_LOCK="productCatalogLock",PF.ProductsCatalog.EVENT_PRODUCT_CHOOSE="productCatalogProductChosen",PF.ProductsCatalog.EVENT_CATEGORY_CHOOSE="productCatalogCategoryChosen",PF.ProductsCatalog.EVENT_TAB_CHOOSE="productCatalogTabChosen",PF.ProductsCatalog.EVENT_VARIANT_CHANGED="productCatalogVariantChanged",PF.ProductsCatalog.TYPE_PP="products_pricing",PF.ProductsCatalog.TYPE_MG="mockup_generator",PF.ProductsCatalog.TYPE_OF="order_flow",PF.ProductsCatalog.TYPE_PUSH="product_push",PF.ProductsCatalog.BASE_TITLES=[],PF.ProductsCatalog.TITLES=[],PF.ProductsCatalog.TITLES[PF.ProductsCatalog.TYPE_PP]=dlang("site","Product catalog"),PF.ProductsCatalog.TITLES[PF.ProductsCatalog.TYPE_MG]=dlang("products","Mockup and print file generator"),PF.ProductsCatalog.TITLES[PF.ProductsCatalog.TYPE_OF]=dlang("products","Create an order | Printful"),PF.ProductsCatalog.PAGE_TITLES=[],PF.ProductsCatalog.PAGE_TITLES[PF.ProductsCatalog.TYPE_PP]=dlang("products","We print on these products"),PF.ProductsCatalog.PAGE_TITLES[PF.ProductsCatalog.TYPE_MG]=dlang("products","Mockup and print file generator"),PF.ProductsCatalog.PAGE_SUBTITLES=[],PF.ProductsCatalog.PAGE_SUBTITLES[PF.ProductsCatalog.TYPE_PP]=dlang("products","Here you'll find details about all the products we print on"),PF.ProductsCatalog.PAGE_SUBTITLES[PF.ProductsCatalog.TYPE_MG]=dlang("products","Create print files and mockup photos for your store, all in one go"),PF.ProductsCatalog.BREAKPOINT=564,PF.ProductsCatalog.BREAKPOINT_DOTS=767,PF.ProductsCatalog.TRACKED_PAGE_VIEWS=0,PF.ProductsCatalog.toggleLock=function(t){PF.ProductsCatalog.Utils.State.createAndDispatch(PF.ProductsCatalog.EVENT_TOGGLE_LOCK,{isLocked:t})},PF.ProductsCatalog.is=function(t){return PF.ProductsCatalog.catalogType===t},PF.ProductsCatalog.isProductsPricing=function(){return PF.ProductsCatalog.is(PF.ProductsCatalog.TYPE_PP)},PF.ProductsCatalog.isProductPush=function(){return PF.ProductsCatalog.is(PF.ProductsCatalog.TYPE_PUSH)},PF.ProductsCatalog.isOrderFlow=function(){return PF.ProductsCatalog.is(PF.ProductsCatalog.TYPE_OF)},PF.ProductsCatalog.isGenerator=function(){return PF.ProductsCatalog.is(PF.ProductsCatalog.TYPE_MG)},PF.ProductsCatalog.catalogType="",PF.ProductsCatalog.urlPrefix="",PF.ProductsCatalog.hasAccess=!1}()},pg2N:function(t,e){!function(){"use strict";PF.ProductsCatalog.Views.Base=Class({id:"base",category:null,data:{},rpcUrl:"",isTabAlwaysVisible:!1,__construct:function(){this.node=mkE({tag:"div",style:{position:"relative"}})},render:function(){return PF.LoadingOverlay.show(this.node,{minHeight:300}),this.getCachedData()?this.renderData():this.getData(),this},setCategory:function(t){this.category=t},getData:function(){if(!this.rpcUrl)return console.error("View not implemented"),!1;this.getCachedData()?this.render():RPC(this.rpcUrl,{categoryId:this.category?this.category.id:null},this.cacheData.bind(this,this.renderData))},cacheData:function(t,e){this.data[this.category.id]=e,t()},getCachedData:function(){return this.data[this.category.id]?this.data[this.category.id]:null},renderData:function(){mkE.clearNode(this.node),mkE({tag:"div",innerHTML:this.getCachedData()}).append(this.node)}},mkE.Base)}()},qPy4:function(t,e){!function(){"use strict";PF.ProductsCatalog.Product=Class({productData:null,_tabs:null,__construct:function(t){this.productData=t,this.node=tag("div"),(new PF.Repositories.Products).saveRecentlyViewedProduct(this.productData.product.productId),this.render()},render:function(){mkE.clearNode(this.node),this.reviewsList=new PF.ProductReviewList(new PF.ProductReview.ReviewableProductItem(this.productData.product),0,!1),this.productInfo=new PF.ProductsCatalog.Product.Info(this.productData,this.onVariantChanged,this.onReviewsOpen,this.reviewsList.load.bind(this.reviewsList)),this.productMedia=new PF.ProductsCatalog.Product.Media(this.productData,this.productInfo.getColorPicker()),this.productMedia.setVariantImage(this.productData.activeVariant),tag("div","",[tag("div","container",[tag("div","row",[tag("div","col-md-6 col-lg-7 offset-xl-1 col-xl-5 pf-mb-32",[this.productMedia]),tag("div","col-md-6 col-lg-5 offset-xl-1 col-xl-4 pf-mb-24",[this.productInfo])])]),new PF.ProductsCatalog.Product.PrintInfo(this.productData,this.onOpenTemplatesTab),tag("div","container",[this._tabs=new PF.ProductsCatalog.Product.Tabs(this.productData,this.onVariantChanged)]),tag("div","container pf-ui-body pf-mb-48",[tag("div",{className:"row",id:"reviews"},[this.reviewsList])]),tag("div","container",[tag("div","row",[tag("div","col-sm-12",[new PF.ProductsCatalog.Views.OtherProducts(PF.ProductsCatalog.Views.OtherProducts.TYPE_SIMILAR,this.productData.similarProducts)])])])]).append(this.node)},setActiveTab:function(t,e){this._tabs.isTabEventDispatching=e,this._tabs.setActive(t)},onOpenTemplatesTab:function(){this._tabs.setActive("guidelines"),$("html, body").animate({scrollTop:$(this._tabs.node).offset().top},1e3)},onVariantChanged:function(t){this.productData.activeVariant=t,this.productMedia&&this.productMedia.setVariantImage(t)},onReviewsOpen:function(){history.pushState(null,null,"#reviews"),this.reviewsList.scrollToNode()}},mkE.Base)}()},"qb/7":function(t,e){!function(){"use strict";PF.ProductsCatalog.Product.PrintCare=Class({__construct:function(t){var e=new PF.Modal.Par,i=new PF.Modal(e);i.setTitle("Print care instructions"),i.setContent(this._getContent(t)),i.show()},_getContent:function(t){return tag("div","",[tag("div","pf-d-flex pf-mb-12",[tag("img",{src:"/static/images/icons/01-wash-cold.svg",className:"pf-mr-12",style:{height:"45px"}}),tag("p","pf-m-0",t.careInstructions[0])]),tag("div","pf-d-flex pf-mb-12",[tag("img",{src:"/static/images/icons/02-thubmle-low.svg",className:"pf-mr-12",style:{height:"45px"}}),tag("p","pf-m-0",t.careInstructions[1])]),tag("div","pf-d-flex pf-mb-12",[tag("img",{src:"/static/images/icons/03-iron-cool.svg",className:"pf-mr-12",style:{height:"45px"}}),tag("p","pf-m-0",t.careInstructions[2])]),tag("div","pf-d-flex",[tag("img",{src:"/static/images/icons/04-no-dry-clean.svg",className:"pf-mr-12",style:{height:"45px"}}),tag("p","pf-m-0",t.careInstructions[3])])])}})}()},uX4y:function(t,e){!function(){"use strict";PF.ProductsCatalog.Views.RetailPrices=Class({id:"retail-prices",_products:[],renderProducts:function(t){if(!t)return this;var e=t.filter(this._limitProducts);return this.retailPriceView?this.retailPriceView.setItems(e):this.retailPriceView=new PF.ProductsPricing.RetailPriceView(e),mkE.clearNode(this._productsNode),mkE({tag:"div",className:"table-responsive",els:[this.retailPriceView]}).append(this._productsNode),mkE.clearNode(this._nodeFooter),mkE({tag:"div",className:"margin-bottom-40",els:[this._hasLargeSize()?{tag:"p",els:[{tag:"span",className:"pf-mr-4 pf-text-red",text:"*"},dlang("products","Sizes 2XL and larger can be up to $1.50 extra per item.")]}:"",{tag:"p",els:[{tag:"span",className:"pf-mr-4 pf-text-red",text:"**"},dlang("products","The price you sell at is up to you. Want more profit? Sell at a higher price!")]}]}).append(this._nodeFooter),this},_getSortingOptions:function(t,e){var i={popular:dlang("products","Popular"),price:[dlang("products","Price"),{priceLow:dlang("products","Low - High"),priceHigh:dlang("products","High - Low")}],retailPrice:[dlang("products","Retail price"),{retailPriceLow:dlang("products","Low - High"),retailPriceHigh:dlang("products","High - Low")}],profit:[dlang("products","Profit"),{profitLow:dlang("products","Low - High"),profitHigh:dlang("products","High - Low")}]};return this._getSortingOptionsDOM(i,t,e)},_hasLargeSize:function(){var t=!1;for(var e in this._products){var i=this._products[e];for(var a in i.sizes){"2XL"===i.sizes[a]&&(t=!0)}}return t},sortProducts:function(t,e,i){if(!PF.ProductsPricing.RETAIL_SORT_METHODS[t])return this.sortMethods[t](e,i);var a=this.retailPriceView.getProductOrVariantProfit(e),r=this.retailPriceView.getProductOrVariantProfit(i);return PF.ProductsPricing.RETAIL_SORT_METHODS[t](e,i,a,r)}},PF.ProductsCatalog.Views.ProductsSelector)}()},unRh:function(t,e){!function(){"use strict";PF.ProductsCatalog.Sidebar.Menu.Par=Class({categories:[],activeTopLevelCategory:null,activeCategoryId:null,shouldShowNew:!1,isTopLevel:!1})}()},"v/Xd":function(t,e){!function(){"use strict";PF.ProductsCatalog.Category=Class({_categoryItem:null,isActive:!1,hiddenInOrderFlow:0,hiddenInCatalog:0,__construct:function(t,e){this._categoryItem=t,this.isActive=t.isActive,this.hiddenInOrderFlow=t.hiddenInOrderFlow,this.hiddenInCatalog=t.hiddenInCatalog,this.node=tag("a",{className:this.getSize()+" catalog__category pf-mb-16 pf-mb-md-24 pf-mb-lg-32",href:this._categoryItem.getUrl(),onclick:e.bind(this,this._categoryItem)},[tag("div","catalog__category__inner",[this._categoryItem.isNew&&tag("span","pf-badge pf-badge-rect pf-badge--new",dclang("products","Category badge title","New")),tag("img",{className:"catalog__category__thumbnail",src:this._categoryItem.urlImage}),tag("h3","pf-h5 pf-p-12 pf-m-0 pf-py-0",[this.getTitle()])])])},getSize:function(){return{3:"col-xl-3 col-md-3 col-6",4:"col-xl-3 col-md-4 col-6",6:"col-xl-4 col-md-6 col-12",8:"col-xl-6 col-md-8 col-12"}[this._categoryItem.thumbSize]},getTitle:function(){return this._categoryItem.settings.thumbnailTitle?this._categoryItem.settings.thumbnailTitle:this._categoryItem.title},getCategoryItem:function(){return this._categoryItem}},mkE.Base)}()},v49Q:function(t,e){!function(){"use strict";PF.ProductsCatalog.Filters=Class({_productOrVariantItems:[],_onFilterCallback:null,_totalCount:null,_filters:[],_filterClasses:{},_params:[],_finalLoad:!0,__construct:function(t,e,i,a,r){this._productOrVariantItems=t,this._onFilterCallback=e,this._totalCount=a,this._allowedFulfillmentRegions=i||[],this._finalLoad=r,PF.ProductsCatalog.Filters.TYPES||(PF.ProductsCatalog.Filters.TYPES={}),this._filterClasses[PF.ProductsCatalog.Filters.TYPES.color]="Color",this._filterClasses[PF.ProductsCatalog.Filters.TYPES.availableTechniques]="Technique",this._filterClasses[PF.ProductsCatalog.Filters.TYPES.specialOffers]="SpecialOffers",t.filter((function(t){return t.sizes?t.sizes.join(", ").indexOf("cm")>-1:t.size.indexOf("cm")>-1})).length>0?(this._filterClasses[PF.ProductsCatalog.Filters.TYPES.cmSizes]="SizeCm",this._filterClasses[PF.ProductsCatalog.Filters.TYPES.inSizes]="SizeIn"):this._filterClasses[PF.ProductsCatalog.Filters.TYPES.allSizes]="Size",this._params=(new PF.ProductsCatalog.Utils.Store).getActiveFilters(),this.node=tag("div","catalog__sidebar-filter__body pf-mr-40 pf-mr-sm-0"),this._setFilterLabels(),this.render(this._productOrVariantItems)},render:function(t){this._filters=this._params.map(this._initFilter.bind(this,t)).filter(function(e){return e._params.type===PF.ProductsCatalog.Filters.TYPES.brandingOptions?e.isEnabled(t):e._params.type===PF.ProductsCatalog.Filters.TYPES.specialOffers?e.isEnabled(t):e.isEnabled(t)&&e.getItems().length>1}.bind(this)),this._applyAdditionalConditions(),this._onSomethingChanged(null,!0),mkE.clearNode(this.node),tag("div","",this._filters).append(this.node)},getAllSelectedValues:function(){return this._filters.map((function(t){return t.getSelected()})).filter((function(t){return t.length>0}))},_initFilter:function(t,e){var i=new PF.ProductsCatalog.Filters.Base.Par;return i.type=e.type,i.title=e.title,i.productItems=t,i.selectedItems=this._getSelectedFromUrl(e.type),i.onSomethingChanged=this._onSomethingChanged,new(PF.ProductsCatalog.Filters[this._getFilterClass(e.type)])(i)},_getFilterClass:function(t){return this._filterClasses[t]?this._filterClasses[t]:"Base"},_getFilterByType:function(t){return this._filters.filter(function(e){return t===e.getType()}.bind(this)).shift()},_onSomethingChanged:function(t,e){var i=this._productOrVariantItems,a=this.updateFilters(this._filters,t,i);this.updateFilters(a.filters,t,a.productItems,this._totalCount),this._pushToHistory(a.productItems,e,this._totalCount),this._onFilterCallback&&this._onFilterCallback(i)},updateFilters:function(t,e,i,a){var r=[];for(var s in t){var o=t[s];0===o.getSelected().length&&r.push(o),e&&e.getType()===o.getType()||o.render(i),o.getSelected().length&&(i=o.getMatchingProducts(i))}return{productItems:i,filters:r,totalCount:a}},_applyAdditionalConditions:function(){var t=this._getFilterByType(PF.ProductsCatalog.Filters.TYPES.cmSizes),e=this._getFilterByType(PF.ProductsCatalog.Filters.TYPES.inSizes),i=this._getFilterByType(PF.ProductsCatalog.Filters.TYPES.allSizes),a=this._getFilterByType(PF.ProductsCatalog.Filters.TYPES.fulfillmentCountries);t&&t.getItems().length&&e&&e.getItems().length?i&&i.remove():(t&&t.remove(),e&&e.remove()),a&&a.getSelected().length<1&&this._allowedFulfillmentRegions.length<a.getItems().length&&(a._selectedValues=this._allowedFulfillmentRegions)},_getSelectedFromUrl:function(t){var e=new Url;return e.query[t]?e.query[t].split("!"):[]},_setFilterLabels:function(){var t={};t[PF.Items.ProductItem.TYPE_EMBROIDERY]=dlang("products","Embroidery"),t[PF.Items.ProductItem.TYPE_MUG]=dlang("products","Mug"),t[PF.Items.ProductItem.TYPE_POSTER]=dlang("products","Poster"),t[PF.Items.ProductItem.TYPE_FRAMED_POSTER]=dlang("products","Framed Poster"),t[PF.Items.ProductItem.TYPE_CANVAS]=dlang("products","Canvas"),t[PF.Items.ProductItem.TYPE_T_SHIRT]=dlang("products","Direct to garment (DTG)"),t[PF.Items.ProductItem.TYPE_SUBLIMATION]=dlang("products","Sublimation"),t[PF.Items.ProductItem.TYPE_PHONE_CASE]=dlang("products","Phone case"),t[PF.Items.ProductItem.TYPE_CUT_SEW]=dlang("products","Cut & sew"),t[PF.Items.ProductItem.TECHNIQUE_ENGRAVING]=dlang("products","Engraving"),t[PF.Items.ProductItem.TYPE_TOTE]=dlang("products","Tote"),t[PF.Items.ProductItem.TECHNIQUE_HANG_TAG]=dlang("products","Hang tag"),t["FRAMED-PRINT"]=dlang("products","Framed canvas"),PF.ProductsCatalog.Filters.labelOverrides[PF.ProductsCatalog.Filters.TYPES.availableTechniques]=t;var e={};e[PF.VariantPicker.BasePicker.USA]=PF.VariantPicker.BasePicker.translateRegion(PF.VariantPicker.BasePicker.USA),e[PF.VariantPicker.BasePicker.MX]=PF.VariantPicker.BasePicker.translateRegion(PF.VariantPicker.BasePicker.MX),e[PF.VariantPicker.BasePicker.EU]=PF.VariantPicker.BasePicker.translateRegion(PF.VariantPicker.BasePicker.EU),e[PF.VariantPicker.BasePicker.JP]=PF.VariantPicker.BasePicker.translateRegion(PF.VariantPicker.BasePicker.JP),PF.ProductsCatalog.Filters.labelOverrides[PF.ProductsCatalog.Filters.TYPES.fulfillmentCountries]=e},_pushToHistory:function(t,e,i){var a={};this._filters.map((function(t){t.getSelected().length&&(a[t.getType()]=t.getSelected())})),PF.ProductsCatalog.Utils.State.createAndDispatch(this._finalLoad?PF.ProductsCatalog.EVENT_ALL_LOADED:PF.ProductsCatalog.EVENT_PRODUCTS_FILTER,{filter:a,productsOrVariants:t,skipHistory:!!e,totalCount:i})}},mkE.Base),PF.ProductsCatalog.Filters.labelOverrides={}}()},vIyE:function(t,e){!function(){"use strict";PF.ProductsCatalog.Filters.Base=Class({_filter:null,_params:null,_selectedValues:[],__construct:function(t){this._params=t,this.node=mkE({tag:"div"}),this._params.type&&(this._selectedValues=t.selectedItems,this.render(this._params.productItems))},getType:function(){return this._params.type},render:function(t){var e=this._prepareFilter(this._params.productItems),i=this._prepareFilter(t);e.length&&(e=e.map(this._formatItem.bind(this,i)),i.length>=6&&(e=e.sort(this._sortSelected)),mkE.clearNode(this.node),this._filter=new PF.Components.CheckboxList({header:this._params.title,items:e,selectedValues:this._selectedValues,enableSearchAt:10,searchItemBuffer:0,onChange:this._onChange}),this._filter.append(this.node))},_formatItem:function(t,e){var i=!1;return t.map((function(t){t===e&&(i=!0)})),{text:this._getLabel(e,this._params.type),value:e,isActive:i}},_getLabel:function(t,e){return PF.ProductsCatalog.Filters.labelOverrides[e]&&PF.ProductsCatalog.Filters.labelOverrides[e][t]?PF.ProductsCatalog.Filters.labelOverrides[e][t]:t},getSelected:function(){return this._filter?this._filter.getSelected():[]},getMatchingProducts:function(t){return t.filter(this.filterProduct)},_prepareFilter:function(t){var e=[].concat.apply([],t.map(this.filterParam.bind(this)));return e.filter(this.filterEmptyOrDuplicateParam.bind(this,e))},_sortSelected:function(t,e){var i=t.isActive===e.isActive?0:t.isActive?-1:1;return this._selectedValues.indexOf(t.value)>-1?i=-2:this._selectedValues.indexOf(e.value)>-1&&(i=2),i},_onChange:function(t,e){this._selectedValues=t,t.length,this._params.onSomethingChanged(this,e)},getItems:function(){return this._filter?this._filter.items:[]},getProduct:function(t){return t instanceof PF.Items.VariantItem?t.getCachedProduct():t},filterProduct:function(t){if(!this._selectedValues.length)return!0;var e=t[this._params.type];if(e instanceof Array){var i;for(var a in e)if(!(this._selectedValues.indexOf(e[a])<0)){i=!0;break}return i}return this._selectedValues.indexOf(e)>-1},isEnabled:function(t){if(!this._filter)return!1;if(this._filter.items.length>1)return!0;var e=this._filter.items.map((function(t){return t.value})),i=t.filter(function(t){var i=t[this._params.type];if(i instanceof Array){var a;for(var r in i)if(!(e.indexOf(i[r])<0)){a=!0;break}return a}return e.indexOf(i)>-1}.bind(this));return t.length!==i.length},isParamBlacklisted:function(t){return["STOCK-PRODUCT"].indexOf(t)>-1},filterParam:function(t){var e=t[this._params.type];if(e instanceof Array){var i=[];for(var a in e){var r=e[a];i.indexOf(r)>-1||i.push(r)}if(i.length)return i}if(e)return e},filterEmptyOrDuplicateParam:function(t,e,i){return!(!e||!e.length)&&(!this.isParamBlacklisted(e)&&t.indexOf(e)===i)}},mkE.Base),PF.ProductsCatalog.Filters.Base.Par=Class({type:"",title:"",productItems:[],selectedItems:[],onSomethingChanged:null})}()},xH6z:function(t,e){!function(){"use strict";PF.ProductsCatalog.Views.Mockups=Class({id:"mockups",rpcUrl:"product-catalog/mockups"},PF.ProductsCatalog.Views.Base)}()},xXdn:function(t,e){!function(){"use strict";PF.ProductsCatalog.Initializer.Par=Class({onProductChoose:null,onCategoryChoose:null,isOrderFlow:!1,isAnonymousOrderFlow:!1,isMockupGenerator:!1,isPush:!1,isClean:!1,title:"",urlPrefix:"/products-catalog",activeCategoryId:null,currency:"",store:null,isEmbedded:!1,isProductTemplate:!1,banners:null,bannersPerPage:null,shouldSkipHistory:function(){return this.isOrderFlow&&!this.isAnonymousOrderFlow||this.isClean||this.isProductTemplate}})}()},yHOK:function(t,e){!function(){"use strict";PF.ProductsCatalog.Utils.Middleware=Class({_state:null,_categoriesStore:null,__construct:function(){this._categoriesStore=new PF.ProductsCatalog.Utils.Store.Categories},apply:function(t){return this._state=t,this[t.action]&&this[t.action](),this},continue:function(t){return t&&t(this._state),this},productCatalogProductChosen:function(){this._categoriesStore.getPath().filter((function(t){return t.isEmbroideryShirts()})).length>0&&PF.Utils.TechniqueMemory(this._state.activeProductId).rememberLastUsedTechnique(PF.Items.ProductItem.TYPE_EMBROIDERY)}})}()},zmDg:function(t,e){!function(){"use strict";PF.ProductsCatalog.Product.PrintInfo=Class({_productData:null,columnTypes:["technique","printArea","branding","features"],__construct:function(t,e){this._productData=t;var i=!!this._productData.getPrintInfo("branding"),a=this._productData.getPrintInfo("features").length>0,r=[lang("Branding options")];i&&this._isDTGAndMultiTechnique()&&r.push(lang("(DTG only)")),this.node=tag("div","whitesmoke pf-pt-32 pf-pb-4",[tag("div","container catalog__product__print-techniques__container",[this._productData.getPrintInfo("printArea").length>0&&this._getColumn("printArea",tag("div","",[tag("p","",[lang("File size")]),tag("div","",this._productData.getPrintInfo("printArea").map(function(t){return tag("div","pf-mb-16",[tag("h3","",[t.label+this._getTechniqueLabel(t)]),t.downloadUrl?tag("a",{className:"pf-link",href:t.downloadUrl},[dlang("products","Get print file template")]):""])}.bind(this)))])),i&&this._getColumn("branding",tag("div","",[tag("p","",r.join(" ")),tag("h3",{innerHTML:this._productData.getPrintInfo("branding")}),tag("a",{className:"pf-link",onclick:e},[dlang("products","See guidelines")])])),this._productData.getPrintInfo("technique")&&this._getColumn("technique",tag("div","",[tag("p","",[dlang("products","Technique")]),tag("div","",this._productData.getPrintInfo("technique").map((function(t,e,i){return tag("span","",[tag("h3",{innerHTML:t}),e<i.length-1?tag("div","text-muted",[lang("or")]):""])}))),this._productData.isLogged?"":tag("span",{innerHTML:"&nbsp;"})])),a&&this._getColumn("features",tag("div","",[tag("p","",[dlang("products","Features")]),tag("div","",this._productData.getPrintInfo("features").map((function(t){return tag("span","",[tag("h3",{innerHTML:t})])})))]))])])},_getTechniqueLabel:function(t){var e="";return t.techniqueLabel&&(e=" ("+t.techniqueLabel+")"),e},_getColumn:function(t,e){var i="catalog__product__print-techniques";return tag("div",i,[tag("div",i+"__image "+i+"__"+t+"__image"),tag("div",i+"__text",[e])])},_isDTGAndMultiTechnique:function(){var t=this._productData.product.availableTechniques;return-1!==t.indexOf(PF.Items.ProductItem.TYPE_T_SHIRT)&&t.length>1}},mkE.Base)}()},zt8S:function(t,e){!function(){"use strict";PF.ProductsCatalog.Product.Media=Class({product:null,images:[],_tempImages:[],activeSlideIndex:0,__construct:function(t,e){this.productData=t,this._colorPicker=e,this._colorPickerNode=e.node.parentNode,this.product=t.product;var i=new PF.ProductsCatalog.Product.Media.Gallery.Par;i.onVideoClick=this._openVideoModal,i.productTitle=this.product.getFullTitle(),i.onImageClick=this._openImageModal,this._tempImages=t.images,this.node=tag("div","",[this.gallery=new PF.ProductsCatalog.Product.Media.Gallery(i)]),window.addEventListener("keyup",this._onCloseModal.bind(this))},_getMatchingImages:function(t){return this._tempImages.filter(function(e){if(!e.variantMaps.length)return e.active;if(!e.active)return!1;var i=(new PF.ProductsCatalog.Utils.Store).categories.getPath();for(var a in e.variantMaps)if(this._doesMapMatchVariant(e.variantMaps[a],t,i))return!0;return!1}.bind(this)).sort((function(t,e){return t.order-e.order}))},_doesMapMatchVariant:function(t,e,i){var a=i.some((function(e){return t.categoryId==e.id}));if(t.categoryId&&!a)return!1;var r=!t.color||t.color==e.color,s=!t.size||t.size==e.size;return r&&s},setVariantImage:function(t){var e=[{thumbLink:t.urlImage}].concat(this.product.productThumbnailPictures),i=this._getMatchingImages(t);if(i.length){var a=i.map((function(e){var i;for(var a in e.backgroundOverride)a==t.color&&(i=e.backgroundOverride[a]);var r=null,s=null,o=null;return e.useGeneratorColor&&i?(r=i.colorCode,s=i.image,o=i.type):e.useVariantColor&&(r=e.useVariantColor?t.colorCode:null),{thumbLink:e.largeUrl,actualThumbLink:e.thumbUrl,originalLink:e.originalUrl,forceBackgroundImage:s,forceBackgroundColor:r,videoLink:e.videoUrl,videoThumbnail:e.videoThumbnail,type:o,extension:e.extension}})),r=!1,s=a.filter((function(t){return!!t.videoThumbnail||(r=!0,!1)}));e=!r&&s.length>0?e.concat(s):a}this._updateGallery(e)},_updateGallery:function(t){if(0===this.images.length)return this.images=t,void this.gallery.render(this.images,this.product.productVideoData);var e=this.images.map((function(t){return t.thumbLink})),i=t.map((function(t){return t.thumbLink}));if(e.length!==i.length)return this.images=t,void this.gallery.render(this.images,this.product.productVideoData);for(var a=0;a<t.length;a++)this.images[a].thumbLink!==t[a].thumbLink&&this.gallery._updateImgUrl(this.images[a].thumbLink,t[a].thumbLink),this.images[a].forceBackgroundColor!==t[a].forceBackgroundColor&&this.gallery._updateBackgroundColor(t[a].forceBackgroundColor),this.images[a].forceBackgroundImage!==t[a].forceBackgroundImage&&t[a].forceBackgroundImage&&this.gallery._updateBackgroundImage(t[a].forceBackgroundImage),!this.images[a].videoLink&&t[a].videoLink&&this.gallery._updateVideoFromImg(t[a].thumbLink,t[a].videoLink,a),this.images[a].videoLink&&!t[a].videoLink&&this.gallery._updateImgFromVideo(t[a].thumbLink),this.images[a].videoLink&&t[a].videoLink&&this.images[a].videoLink!==t[a].videoLink&&this.gallery._updateVideoFromVideo(t[a].videoLink,this.images[a].videoLink,t[a].thumbLink,a);this.images=t},_openVideoModal:function(t){var e,i=new PF.Modal.Par;i.title=this.product.getFullTitle(),i.modalDialogClass="modal-lg",i.onClose=function(){e.remove()},(e=new PF.Modal(i)).setContent(tag("iframe",{src:t,attr:{width:"100%",height:"480px",frameborder:"0"}})),e.show()},_openImageModal:function(t){if(window.innerWidth<PF.ProductsCatalog.BREAKPOINT_DOTS||!this.gallery.canClick)return!1;this.gallery.isModal?this._onCloseModal():($(this.gallery._thumbContainer).removeClass("col-md-3 col-lg-2").addClass("col-md-2 col-lg-1"),$(this.gallery._imgContainer).removeClass("col-md-9 col-lg-10").addClass("col-md-10 col-lg-11"),$(document.body).addClass("modal-open"),this._galleryModal=tag("div","catalog__slick__modal",[tag("div","container",[tag("div","modal-header",[tag("button",{className:"close",onclick:function(t,e){this._onCloseModal(e)}.bind(this),innerHTML:"&times;"})]),this.gallery,tag("div","modal-footer catalog__color-picker",[this._colorPicker])])]).append(this.node),$(this.gallery._nodeImages).slick("setPosition"),$(this.gallery._nodeThumbnails).slick("setPosition"),$(this.gallery.node).css("padding-bottom",$(".catalog__color-picker").outerHeight()),this.gallery.isModal=!0)},_onCloseModal:function(t){t&&"keyup"===t.type&&27!==t.keyCode||this._galleryModal&&($(this.gallery._thumbContainer).addClass("col-md-3 col-lg-2").removeClass("col-md-2 col-lg-1"),$(this.gallery._imgContainer).addClass("col-md-9 col-lg-10").removeClass("col-md-10 col-lg-11"),$(document.body).removeClass("modal-open"),this._galleryModal.remove(),this._colorPicker.append(this._colorPickerNode),this.gallery.append(this.node),$(this.gallery._nodeImages).slick("setPosition"),$(this.gallery._nodeThumbnails).slick("setPosition"),this.gallery.isModal=!1)}},mkE.Base)}()}},[[34,0]]]);