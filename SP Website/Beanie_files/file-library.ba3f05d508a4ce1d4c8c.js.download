(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{"++v9":function(e,i){!function(){"use strict";PF.FileLibrary.Preview.ThumbList=function(e,i,t){for(var a in this.node=tag("div","col-12"),e){var r=e[a],o=r.fileId===i.fileId;tag("div",{className:"pf-mr-16 library-preview__thumb",onclick:function(e){t(e)}.bind(this,r)},[tag("a","preview-navigation-link vertical-center "+(o?"border-red":""),[tag("img",{src:r.urlThumb})])]).append(this.node)}},PF.FileLibrary.Preview.ThumbList.prototype=new mkE.Base}()},"+1Z2":function(e,i){!function(){"use strict";PF.FileLibrary.FileTags=function(){},PF.FileLibrary.FileTags.prototype.getFileTagName=function(e,i,t){var a=i+"_"+e;(new PF.Repositories.LibraryRepository).getTags($.proxy((function(e){e[a]?t(e[a]):t("")}),this))},PF.FileLibrary.FileTags.getFileTagName=function(e,i,t){PF.FileLibrary.FileTags._instance||(PF.FileLibrary.FileTags._instance=new PF.FileLibrary.FileTags),PF.FileLibrary.FileTags._instance.getFileTagName(e,i,t)}}()},"/Amp":function(e,i){!function(){"use strict";PF.FileLibrary.Preview.Menu=function(e,i){this._fileItem=e,this.node=tag("div","row"),i&&e.isSelectable(!0)&&tag("div","col-xs-12 col-sm-4 pf-mb-12 col-md-9 pf-pr-sm-4 pf-pr-md-12",[tag("a",{className:"pf-btn pf-btn-danger pf-w-100",onclick:i},lang("Choose file"))]).append(this.node),e.isDownloadable()&&tag("div","col-xs-12 col-sm-4 pf-mb-12 col-md-9 pf-pr-sm-4 pf-pr-md-12",[tag("a",{href:e.urlDownload,className:"pf-btn pf-btn-secondary pf-w-100"},lang("Download file"))]).append(this.node),e.canViewInBrowser()&&tag("div","col-xs-12 col-sm-4 pf-mb-12 col-md-9 pf-pr-sm-4 pf-pr-md-12",[tag("a",{href:e.urlFullSize,className:"pf-btn pf-btn-secondary pf-w-100",attr:{target:"_blank"}},dclang("library","View print file in full size","View full size"))]).append(this.node),e.isRemovable()&&tag("div","col-xs-12 col-sm-4 col-md-9 pf-pr-md-12",[tag("a",{className:"pf-btn pf-btn-secondary pf-w-100",onclick:this._deleteFile.bind(this)},lang("Delete file"))]).append(this.node),this._showDeletePopup=function(){var e=new PF.Modal.Par;e.title=lang("Are you sure?"),e.modalDialogClass="modal-md file-delete-modal";var i=tag("div","",[tag("p","pf-m-0 pf-text-muted pf-ui-subheading",[dlang("library","Really delete this image from your library?")]),tag("p","pf-m-0 pf-text-muted pf-ui-subheading",[dlang("library","This cannot be undone!")])]),t=tag("div","text-left",[tag("a",{className:"pf-btn pf-btn-primary pf-mr-12",text:lang("Delete file"),onclick:this._onDelete.bind(this)}),tag("a",{className:"pf-btn pf-btn-secondary",text:lang("Cancel"),onclick:this._onCancel.bind(this)})]);this.modal=new PF.Modal(e),this.modal.setContent(i),this.modal.setFooterContent(t),this.modal.show()},this._onDelete=function(){(new PF.Repositories.LibraryRepository).deleteFile(this._fileItem,this._onCancel.bind(this))},this._onCancel=function(){this.modal.hide()}},PF.FileLibrary.Preview.Menu.prototype=new mkE.Base,PF.FileLibrary.Preview.Menu.prototype._deleteFile=function(){this._showDeletePopup()}}()},"6puH":function(e,i){!function(){"use strict";PF.FileLibrary.FileMover=function(e,i){for(var t in this.onFilesMovedCallback=i,this._moveButtonTitle=dlang("library","Please select at least one file"),this.node=mkE({tag:"div",className:"alert alert-warning",els:[{tag:"div",className:"row",els:[{tag:"div",className:"col-md-6 margin-top-10",text:dlang("library","Selected store is removed. You can move files to another store:")},{tag:"div",className:"col-md-4",els:[{tag:"span",className:"styled-select",style:{paddingRight:"45px"},els:[this.storeSelect=mkE({tag:"select"})]}]},{tag:"div",className:"col-md-2",els:[this.nodeButton=mkE({tag:"a",className:"btn btn-default btn-sm btn-block",text:lang("Move"),onclick:$.proxy(this.moveFiles,this),attr:{"data-toggle":"tooltip","data-placement":"top","data-container":"body","data-trigger":"hover","data-original-title":this._moveButtonTitle}})]}]}]}),$("button",this.node).tooltip(),e){var a=e[t];"active"==a.status&&mkE({tag:"option",value:a.storeId,text:a.name,attr:{"data-status":a.status}}).append(this.storeSelect)}},PF.FileLibrary.FileMover.prototype=new mkE.Base,PF.FileLibrary.FileMover.prototype.moveFiles=function(){if(this.fileItems&&this.fileItems.length){if(confirm(dlang("library","Really move selected files?"))){var e=[],i=this.storeSelect.value;for(var t in this.fileItems)e.push(this.fileItems[t].fileId);(new PF.Repositories.LibraryRepository).moveFiles(e,i,$.proxy(this.moveFilesRe,this))}}else alert(this._moveButtonTitle)},PF.FileLibrary.FileMover.prototype.moveFilesRe=function(){this.onFilesMovedCallback&&this.onFilesMovedCallback()},PF.FileLibrary.FileMover.prototype.setFiles=function(e){this.fileItems=e,$(this.nodeButton).text(lang("Move"));var i=this.fileItems.length;i?(this.nodeButton.disabled=!1,$(this.nodeButton).text(dnlang("library","Move {count} file","Move {count} files",i).replace("{count}",i)),$(this.nodeButton).tooltip("destroy")):$(this.nodeButton).tooltip()},PF.FileLibrary.FileMover.prototype.fileItems=null,PF.FileLibrary.FileMover.prototype.onFilesMovedCallback=null}()},"7NwP":function(e,i){!function(){"use strict";PF.FileLibrary.Preview.DesignServices=function(e){this.node=mkE({tag:"div"});var i,t=e.employee.name;i=t?mkE({tag:"span",className:"designerName",text:t+" / ",style:{fontWeight:"bold"}}):mkE({}),null!=e.employee&&mkE({tag:"div",className:"pf-mt-6",els:[{tag:"span",className:"text-muted pf-mb-2",text:dlang("library","Made by:")+" "},{tag:"span",className:"text-muted",els:[i,{tag:"span",text:dlang("library","Printful design services")}]},{tag:"div",className:"pf-link pf-mb-24",text:e.employee.email}]}).append(this.node)},PF.FileLibrary.Preview.DesignServices.prototype=new mkE.Base}()},8:function(e,i,t){t("yKTD"),t("xb4v"),t("+1Z2"),t("dJr+"),t("EgA9"),t("Te2b"),t("9+RS"),t("LUI9"),t("l19W"),t("6puH"),t("vKL+"),t("TQ/C"),t("xgks"),t("Lmdu"),t("N62G"),t("mHuR"),t("Iea4"),t("l99J"),t("c2KS"),t("7NwP"),t("/Amp"),t("fhHL"),e.exports=t("++v9")},"9+RS":function(e,i){!function(){"use strict";PF.FileLibrary.GoogleDrivePicker=function(e){PF.FileLibrary.GoogleDrivePicker.API_KEY&&PF.FileLibrary.GoogleDrivePicker.CLIENT_ID||alert("Google API keys not defined"),this.callback=e,this.picker=null,this.onReady()},PF.FileLibrary.GoogleDrivePicker.API_KEY="",PF.FileLibrary.GoogleDrivePicker.CLIENT_ID="",PF.FileLibrary.GoogleDrivePicker.SCOPE="",PF.FileLibrary.GoogleDrivePicker.OAUTH_TOKEN="",PF.FileLibrary.GoogleDrivePicker.isScriptLoaded=!1,PF.FileLibrary.GoogleDrivePicker.isClientScriptLoaded=!1,PF.FileLibrary.GoogleDrivePicker.isAuthLoaded=!1,PF.FileLibrary.GoogleDrivePicker.prototype.oAuthToken="",PF.FileLibrary.GoogleDrivePicker.init=function(){PF.FileLibrary.GoogleDrivePicker.isScriptLoaded||mkE({tag:"script",attr:{type:"text/javascript",src:"https://apis.google.com/js/api.js?onload=onGoogleDriverScriptsLoaded"}}).append(document.body),PF.FileLibrary.GoogleDrivePicker.isClientScriptLoaded||mkE({tag:"script",attr:{type:"",src:"https://apis.google.com/js/client.js?onload=onGoogleDriverClientScriptsLoaded"}}).append(document.body)},PF.FileLibrary.GoogleDrivePicker.isReady=function(){return PF.FileLibrary.GoogleDrivePicker.isScriptLoaded&&PF.FileLibrary.GoogleDrivePicker.isClientScriptLoaded&&PF.FileLibrary.GoogleDrivePicker.isAuthLoaded},PF.FileLibrary.GoogleDrivePicker.scriptLoaded=function(){PF.FileLibrary.GoogleDrivePicker.isScriptLoaded&&PF.FileLibrary.GoogleDrivePicker.isClientScriptLoaded&&(gapi.load("picker"),gapi.load("drive"),gapi.auth.init((function(){PF.FileLibrary.GoogleDrivePicker.isAuthLoaded=!0})))},PF.FileLibrary.GoogleDrivePicker.prototype.onReady=function(){PF.FileLibrary.GoogleDrivePicker.OAUTH_TOKEN?this.showPicker():window.gapi.auth.authorize({client_id:PF.FileLibrary.GoogleDrivePicker.CLIENT_ID,scope:[PF.FileLibrary.GoogleDrivePicker.SCOPE]},$.proxy(this.handleAuthResult,this))},PF.FileLibrary.GoogleDrivePicker.prototype.handleAuthResult=function(e){e&&!e.error&&(PF.FileLibrary.GoogleDrivePicker.OAUTH_TOKEN=e.access_token,this.showPicker())},PF.FileLibrary.GoogleDrivePicker.prototype.showPicker=function(){if(this.picker)this.picker.setVisible(!0);else{var e=new google.picker.DocsView;e.setIncludeFolders(!0),e.setOwnedByMe(!0),this.picker=(new google.picker.PickerBuilder).addView(e).setOAuthToken(PF.FileLibrary.GoogleDrivePicker.OAUTH_TOKEN).setDeveloperKey(PF.FileLibrary.GoogleDrivePicker.API_KEY).setOrigin(window.location.protocol+"//"+window.location.host).setCallback($.proxy(this.pickerCallback,this)).enableFeature(google.picker.Feature.MULTISELECT_ENABLED).build(),this.picker.setVisible(!0),$(".picker-dialog-bg, .picker-dialog").css("z-index",2e3)}},PF.FileLibrary.GoogleDrivePicker.prototype.pickerCallback=function(e){if(e[google.picker.Response.ACTION]==google.picker.Action.PICKED){var i=e[google.picker.Response.DOCUMENTS];for(var t in i)this.onFilePicked(i[t][google.picker.Document.ID],i[t][google.picker.Document.NAME])}},PF.FileLibrary.GoogleDrivePicker.prototype.onFilePicked=function(e,i){var t=new PF.FileLibrary.GoogleDrivePicker.Callback;t.googleFileId=e,t.googleFilename=i,t.oAuthToken=PF.FileLibrary.GoogleDrivePicker.OAUTH_TOKEN,this.callback(t)},PF.FileLibrary.GoogleDrivePicker.Callback=function(){},PF.FileLibrary.GoogleDrivePicker.Callback.prototype.googleFileId=null,PF.FileLibrary.GoogleDrivePicker.Callback.prototype.googleFilename=null,PF.FileLibrary.GoogleDrivePicker.Callback.prototype.oAuthToken=null}(),window&&(window.onGoogleDriverClientScriptsLoaded=function(){PF.FileLibrary.GoogleDrivePicker.isClientScriptLoaded=!0,PF.FileLibrary.GoogleDrivePicker.scriptLoaded()},window.onGoogleDriverScriptsLoaded=function(){PF.FileLibrary.GoogleDrivePicker.isScriptLoaded=!0,PF.FileLibrary.GoogleDrivePicker.scriptLoaded()})},EgA9:function(e,i){!function(){"use strict";PF.FileLibrary.Tabs=Class({_libraryTabs:new PF.Components.Tabs("primary"),_libraryTabContents:{},_hideSampleTab:!1,__construct:function(e,i){i&&(this._hideSampleTab=!0),this._initLibraryTabContents(),this._initLibraryTabs(),this.node=tag("div",e?"margin-bottom-20":""),e&&this._libraryTabs.append(this.node)},_initLibraryTabs:function(){var e;(e=new PF.Components.Tabs.Item).caption=dlang("library","My files"),e.customId=PF.FileLibrary.Tabs.TAB_MY_FILES,e.onclick=this.setActiveLibraryTab.bind(this,PF.FileLibrary.Tabs.TAB_MY_FILES),this._libraryTabs.add(e),this._hideSampleTab||((e=new PF.Components.Tabs.Item).caption=tag("span","",dlang("dashboard","Sample files")),e.customId=PF.FileLibrary.Tabs.TAB_SAMPLE_FILES,e.onclick=this.setActiveLibraryTab.bind(this,PF.FileLibrary.Tabs.TAB_SAMPLE_FILES),this._libraryTabs.add(e))},_initLibraryTabContents:function(){this._libraryTabContents[PF.FileLibrary.Tabs.TAB_MY_FILES]=mkE({tag:"div"}),this._hideSampleTab||(this._libraryTabContents[PF.FileLibrary.Tabs.TAB_SAMPLE_FILES]=mkE({tag:"div"}))},renderLibraryTabContents:function(e){for(var i in this._libraryTabContents)this._libraryTabContents[i].append(e)},buildTabContent:function(e,i){for(var t in i)i[t].append(this._libraryTabContents[e])},setActiveLibraryTab:function(e){for(var i in this._libraryTabContents)i===e?(mkE.removeClassName(this._libraryTabContents[i],"hidden"),$(this._libraryTabContents[i]).find(".details").matchHeight()):mkE.addClassName(this._libraryTabContents[i],"hidden");this._libraryTabs.markTabAsSelectedById(e)}},mkE.Base),PF.FileLibrary.Tabs.TAB_MY_FILES="myFiles",PF.FileLibrary.Tabs.TAB_SAMPLE_FILES="sampleFiles"}()},Iea4:function(e,i){!function(){"use strict";PF.FileLibrary.FileList.Item.DesignServicesTooltip=function(e){this.node=mkE({tag:"div"});var i,t=e.employee.name;i=t?mkE({tag:"span",className:"designerName",text:t+" / ",style:{fontWeight:"bold"}}):mkE({});var a=mkE({tag:"div",els:[{tag:"img",className:"designer-image",src:e.employee.imageUrl},{tag:"div",className:"designerName pf-mt-12 pf-h5",text:t},{tag:"div",className:"pf-ui-body",text:dlang("library","Printful design services")},{tag:"div",className:"pf-mt-4 pf-mb-7 pf-link pf-ui-body",text:e.employee.email}]}),r=mkE({tag:"span",id:"infoImg",onclick:function(e){e.stopPropagation()},className:"info-sign",attr:{"data-content":a.innerHTML,"data-placement":"top","data-trigger":"focus hover"}});$(r).popover({html:!0,container:".line-one",delay:{hide:100}}),mkE({tag:"div",els:[{tag:"li",className:"line-one",id:"line-one",els:[{tag:"span",className:"attr-title",text:dlang("library","Made by:")+" "},i,{tag:"span",text:dlang("library","Printful design services"),style:{wordBreak:"break-word",verticalAlign:"bottom"}},r]}]}).append(this.node)},PF.FileLibrary.FileList.Item.DesignServicesTooltip.prototype=new mkE.Base}()},LUI9:function(e,i){!function(){"use strict";PF.FileLibrary.GoogleDrivePicker.Button=function(e){this.onFilePickedCallback=e,this.node=mkE({tag:"a",className:"btn btn-default btn-block",els:[this.nodeImage=mkE({tag:"img",src:"/static/lightbox/img/loading.gif",attr:{width:16,height:16}})],attr:{title:dlang("library","Upload files from Google Drive").replace(/ /g,"&nbsp;")},prop:{onclick:$.proxy((function(){PF.FileLibrary.CopyrightWarning.showPopup($.proxy(this.onClick,this))}),this),style:{paddingLeft:0,paddingRight:0}}}),$(this.node).tooltip({html:!0}),PF.FileLibrary.GoogleDrivePicker.init(),this.prepare()},PF.FileLibrary.GoogleDrivePicker.Button.prototype=new mkE.Base,PF.FileLibrary.GoogleDrivePicker.Button.prototype.prepare=function(){this.isReady()?this.nodeImage.src="/static/images/layout/google-drive.png":setTimeout($.proxy(this.prepare,this),100)},PF.FileLibrary.GoogleDrivePicker.Button.prototype.isReady=function(){return PF.FileLibrary.GoogleDrivePicker.isReady()},PF.FileLibrary.GoogleDrivePicker.Button.prototype.onClick=function(){ga("send",{hitType:"event",eventCategory:"FileLibrary",eventAction:"Google Drive file upload"}),this.isReady()&&(this._googleDriverPicker?this._googleDriverPicker.showPicker():this._googleDriverPicker=new PF.FileLibrary.GoogleDrivePicker(this.onFilePickedCallback))}}()},Lmdu:function(e,i){!function(){"use strict";PF.FileLibrary.FileList.Par=Class({storeId:null,search:"",onPickCallback:null,onCheckedCallback:null,perPage:null,onlySampleFiles:!1,includeSwatches:!1,productId:null,syncProductId:null,withInstructions:!0,isModal:!1})}()},N62G:function(e,i){!function(){"use strict";PF.FileLibrary.FileList.Item=Class({_isChecked:!1,_item:null,_par:null,__construct:function(e){this._par=e,this._item=e.fileItem,this._isTouch=PF.Utils.isTouch(),this.node=tag("div","col-12 col-sm-6 col-md-4 col-lg-3 "+(this._par.isModal?"":"col-xl-2")+" pf-mb-16 pf-mb-md-24 pf-mb-lg-32",[this._nodeInstructions=tag("div"),this.nodeItemHolder=tag("div","item-holder",[this.linkHolderElem=tag("a","pf-link-block",[this.nodeItem=tag("div","item"),this.nodeItemDetails=tag("div","details-holder")])])]),this._render()},_render:function(){var e=this._item;mkE.clearNode(this.nodeItem),mkE.clearNode(this.nodeItemDetails),this._showCheckedState(),mkE({tag:"img",className:"item-image",src:encodeURI(e.urlThumb)}).append(this.nodeItem),e.isCopyrighted&&mkE({tag:"div",className:"copyrighted",text:dclang("library","File is copyrighted","Violates acceptable use")}).append(this.nodeItem);var i="";if(e.isSelectable(!0)&&this._par.onPicked){var t=this._par.onPicked.bind(this,this._item);i=mkE({tag:"a",className:"btn btn-default choose",text:clang("Choose [a file]","Choose"),onclick:function(e){t(),e.stopPropagation()}.bind(this)}),this._isTouch||(this.linkHolderElem.onclick=function(e){t(),e.stopPropagation()}.bind(this))}else e.isActive()&&(i=mkE({tag:"a",className:"btn btn-default choose",text:lang("Preview"),onclick:function(e){e.stopPropagation(),this._par.onPreview()}.bind(this)}),this._isTouch||(this.linkHolderElem.onclick=function(e){e.stopPropagation(),this._par.onPreview()}.bind(this)));if(mkE({tag:"div",className:"overlay",els:[i]}).append(this.nodeItem),mkE({tag:"div",className:"actions",els:this._getActionNodes()}).append(this.nodeItemHolder),this._detailsBlock=mkE({tag:"div",className:"details",els:[{tag:"div",text:e.filename,className:"details-filename",attr:{title:e.filename}},this.nodeAttributes=mkE({tag:"ul",className:"attributes list-unstyled"}),this.designerServices=mkE({tag:"ul",className:"attributes list-unstyled"})]}).append(this.nodeItemDetails),this._item.employee&&new PF.FileLibrary.FileList.Item.DesignServicesTooltip(this._item).append(this.designerServices),e.isDigitized&&!e.isSample){this.digitizationTypes=mkE({tag:"div",className:"digitization-attributes",els:[{tag:"div",className:"digitization-title",text:dclang("library","Digitization types","Digitization paid for:")}]});var a=e.digitizedItems.getPaidTypeList();for(var r in a)mkE({tag:"div",className:"digitization-attr digitization-attr-"+a[r],text:this._getDigitizationBadgeTitle(a[r])}).append(this.digitizationTypes);this.digitizationTypes.append(this._detailsBlock)}this._getAttributes().forEach(function(e){tag("li",null,[e.title?tag("div","attr-title",e.title+": "):"",tag("div","attr-value "+(e.textClass||""),e.text)]).append(this.nodeAttributes)}.bind(this))},getGroupText:function(e){switch(e){case PF.FileLibrary.FileList.Item.PRINTFILE:return dlang("products","Printfile");case PF.FileLibrary.FileList.Item.MOCKUP:return dlang("products","Mockup");case PF.FileLibrary.FileList.Item.LABEL:return dlang("products","Label");case PF.FileLibrary.FileList.Item.EMBROIDERY:return dlang("products","Embroidery");case PF.FileLibrary.FileList.Item.GENERATED:return dlang("products","Generated");default:return e}},getDetailNode:function(){return this._detailsBlock},showInstruction:function(){this._nodeInstructions=tag("div","list__instruction pf-mb-8 pf-text-red pf-ui-caption pf-bold text-center",[tag("img",{src:"/static/generator/arrow.svg"}),dlang("library","Click on the file to continue!")]).prepend(this._nodeInstructions)},_getDigitizationBadgeTitle:function(e){return PF.Items.DigitizedItem.DIGITIZATION_TYPE_TITLES[e]},_getAttributes:function(){var e=this._item,i=e.getSizeReadable();e.inchDimensions&&(i+=" / "+e.inchDimensions);var t=[{title:lang("Type"),text:this.getGroupText(e.group)}];return i&&t.push({title:lang("Size"),text:i}),e.dimensions&&t.push({title:lang("Resolution"),text:e.dimensions}),e.fileId&&t.push({title:lang("File"),text:e.fileId}),e.isCorrupted()&&t.push({text:dlang("generator","Files must be one page long"),textClass:"pf-text-red pf-d-flex float-none"}),t},_getActionNodes:function(){var e=!1,i=this._item;i.isDownloadable()&&(e=mkE({tag:"a",className:"icon download",href:i.urlDownload,data:this._getTouchDataAttributes(lang("Download"))}));var t=!1;i.isRemovable()&&(t=mkE({tag:"a",className:"icon remove",data:this._getTouchDataAttributes(lang("Remove")),onclick:this._delete}));var a="";i.canPreview()&&(a=mkE({tag:"a",className:"icon preview",data:this._getTouchDataAttributes(lang("Preview")),onclick:this._par.onPreview})),this._nodeCheckboxSelect="",this._par.onChecked&&(this._nodeCheckboxSelect=mkE({tag:"input",className:"item__checkbox",type:"checkbox",data:this._getTouchDataAttributes(lang("Select file")),prop:{onchange:this._onCheckboxChange,checked:this._isChecked}}));var r=[this._nodeCheckboxSelect,a,e,t];for(var o in r)r[o]&&$(r[o]).tooltip();return r},_getTouchDataAttributes:function(e){return{toggle:this._isTouch?"":"tooltip",placement:"top",container:"body",trigger:this._isTouch?"click":"hover","original-title":this._isTouch?"":e}},_delete:function(){var e=new PF.Modal.Par;e.title=lang("Are you sure?"),e.modalDialogClass="modal-md file-delete-modal";var i=tag("div","",[tag("p","pf-m-0 pf-text-muted pf-ui-subheading",[dlang("library","Really delete this image from your library?")]),tag("p","pf-m-0 pf-text-muted pf-ui-subheading",[dlang("library","This cannot be undone!")])]),t=tag("div","text-left",[tag("a",{className:"pf-btn pf-btn-primary pf-mr-12",text:lang("Delete file"),onclick:this._onDelete.bind(this)}),tag("a",{className:"pf-btn pf-btn-secondary",text:lang("Cancel"),onclick:this._onCancel.bind(this)})]);this.modal=new PF.Modal(e),this.modal.setContent(i),this.modal.setFooterContent(t),this.modal.show()},_onDelete:function(){(new PF.Repositories.LibraryRepository).deleteFile(this._item,this._onCancel)},_onCancel:function(){this.modal.hide()},_onCheckboxChange:function(){this._isChecked=this._nodeCheckboxSelect.checked,this._par.onChecked(this._item,this._isChecked),this._showCheckedState()},_showCheckedState:function(){this._isChecked?mkE.addClassName(this.nodeItemHolder,"item--checked"):mkE.removeClassName(this.nodeItemHolder,"item--checked")},isChecked:function(){return this._isChecked},setChecked:function(e){this._isChecked=e,this._nodeCheckboxSelect.checked=e,this._showCheckedState()},getFileItem:function(){return this._item},setFileItem:function(e){this._item=e,this._render()},remove:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&mkE.destroyNodeComponents(this.node),this._nodeInstructions&&this._nodeInstructions.remove(),$(this.node).fadeOut(this.node.remove.bind(this))}},mkE.Base),PF.FileLibrary.FileList.Item.PRINTFILE="PRINTFILE",PF.FileLibrary.FileList.Item.MOCKUP="MOCKUP",PF.FileLibrary.FileList.Item.LABEL="LABEL",PF.FileLibrary.FileList.Item.EMBROIDERY="EMBROIDERY",PF.FileLibrary.FileList.Item.GENERATED="GENERATED"}()},"TQ/C":function(e,i){!function(){"use strict";PF.FileLibrary.InsideLabelWarning=function(e){this.node=mkE({tag:"div",className:"inside-label-warning",els:[{tag:"div",className:"inside-label-image",els:[{tag:"img",className:"popup-image",src:"/static/images/label-inside/inside-label.svg"}]},{tag:"p",className:"margin-vertical-20",innerHTML:dlang("library",'By law, all inside labels require information on <span class="proxima-bold">size, country or origin</span> and <span class="proxima-bold">material information</span>')},{tag:"p",className:"alert alert-warning",innerHTML:dlang("library",'Check out the <a class="proxima-bold" target="_blank" href="/files/pdf/inside_label_guide.pdf">inside label guidelines</a> for each tear-away label shirt.')},{tag:"label",className:"normal-label",els:[this.nodeCheckbox=mkE({tag:"input",type:"checkbox"})," ",dlang("library","Ok, got it! Don't show this again.")]},{tag:"div",className:"popup-footer-delim"},this.nodeAccept=mkE({tag:"a",className:"btn btn-danger",text:dlang("library","Ok, got it"),onclick:$.proxy((function(){ga("send",{hitType:"event",eventCategory:"FileLibrary",eventAction:"Accept inside label warning"}),this.nodeCheckbox.checked&&((new PF.Repositories.LibraryRepository).confirmInsideLabel(),this.rememberShown()),e()}),this)})]})},PF.FileLibrary.InsideLabelWarning.prototype=new mkE.Base,PF.FileLibrary.InsideLabelWarning.prototype.storageKey="InsideLabelWarningSeen",PF.FileLibrary.InsideLabelWarning.prototype.shouldShow=function(){return localStorage&&"seen"!==localStorage.getItem(this.storageKey)},PF.FileLibrary.InsideLabelWarning.prototype.rememberShown=function(){try{localStorage.setItem(this.storageKey,"seen")}catch(e){alert(dlang("library",'Your web browser does not support storing settings locally. In Safari, the most common cause of this is using "Private Browsing Mode". Some settings may not save or some features may not work properly for you.'))}},PF.FileLibrary.InsideLabelWarning.showPopup=function(e){var i,t=new PF.FileLibrary.InsideLabelWarning((function(){i.remove()}));if(t.shouldShow()){ga("send",{hitType:"event",eventCategory:"FileLibrary",eventAction:"See inside label warning"});var a=new PF.Modal.Par;a.modalDialogClass="inside_label-warning-popup",a.title=dlang("library","Before you continue..."),a.onClose=e,(i=new PF.Modal(a)).setContent(t.node),i.show()}else e()}}()},Te2b:function(e,i){!function(){"use strict";PF.FileLibrary.DropBoxPicker=function(e){this.onFilePickedCallback=e,this.node=mkE({tag:"a",className:"btn btn-default btn-block",els:[this.nodeImage=mkE({tag:"img",src:"/static/lightbox/img/loading.gif",attr:{width:16,height:16}})],attr:{title:dlang("library","Upload files from DropBox").replace(/ /g,"&nbsp;")},prop:{onclick:$.proxy((function(){PF.FileLibrary.CopyrightWarning.showPopup($.proxy(this.onClick,this))}),this),style:{paddingLeft:0,paddingRight:0}}}),$(this.node).tooltip({html:!0}),this.prepare()},PF.FileLibrary.DropBoxPicker.prototype=new mkE.Base,PF.FileLibrary.DropBoxPicker.APP_KEY="",PF.FileLibrary.DropBoxPicker.isScriptLoaded=!1,PF.FileLibrary.DropBoxPicker.waitingRetries=0,PF.FileLibrary.DropBoxPicker.prototype.prepare=function(){if(!PF.FileLibrary.DropBoxPicker.APP_KEY)return PF.FileLibrary.DropBoxPicker.waitingRetries+=1,PF.FileLibrary.DropBoxPicker.waitingRetries>50?void(this.nodeImage.src="/static/images/plugins/uzmanibu-ikona@2x.png"):void setTimeout($.proxy(this.prepare,this),100);PF.FileLibrary.DropBoxPicker.isScriptLoaded||(PF.FileLibrary.DropBoxPicker.isScriptLoaded=!0,mkE({tag:"script",id:"dropboxjs",attr:{type:"text/javascript",src:"https://www.dropbox.com/static/api/2/dropins.js","data-app-key":PF.FileLibrary.DropBoxPicker.APP_KEY}}).append(document.body)),this.nodeImage.src="/static/images/layout/dropbox.png"},PF.FileLibrary.DropBoxPicker.prototype.onClick=function(){ga("send",{hitType:"event",eventCategory:"FileLibrary",eventAction:"DropBox file upload"}),Dropbox.choose({linkType:"direct",multiselect:!0,success:$.proxy(this.onDropBoxPicked,this)})},PF.FileLibrary.DropBoxPicker.prototype.onDropBoxPicked=function(e){for(var i in e)this.onFilePickedCallback(e[i].link,e[i].name)}}()},c2KS:function(e,i){!function(){"use strict";PF.FileLibrary.Preview=function(e,i,t,a,r){this._onPickedCallback=t,this.minimalistic=!!a,this._popupBackgroundColor=r,this.repository=new PF.Repositories.LibraryRepository;var o=new PF.Modal.Par;(o.nodeClass="library-preview",o.useScrollableModal=!0,this.minimalistic||(o.modalDialogClass="modal-lg"),o.onClose=$.proxy(this._onModalClose,this),this._minPageLoaded=e.page,this._maxPageLoaded=e.page,this.modal=new PF.Modal(o),this.modal._nodeBody.id="libraryPreviewModal",this.keyupEventNamespace=".preview"+(new Date).getTime(),this._isSingleFile=e.fileIds&&1===e.fileIds.length,this.init(),this.modal.show(),this._searchPar=e,this._activeFileItem=i,this._loadList(),PF.Events.on(PF.Repositories.LibraryRepository.EVENT_FILE_DELETED,this._onFileDeleted,this),PF.Utils.isTouch())&&new Hammer(this.imageNode).on("swipeleft swiperight",function(e){this.onSwipe(e.type)}.bind(this))},PF.FileLibrary.Preview.prototype.modal=null,PF.FileLibrary.Preview.prototype._minPageLoaded=null,PF.FileLibrary.Preview.prototype._maxPageLoaded=null,PF.FileLibrary.Preview.prototype._totalPages=null,PF.FileLibrary.Preview.prototype._isSingleFile=null,PF.FileLibrary.Preview.prototype._onFileDeleted=function(e){var i=this.getNextFile();i||(i=this.getPreviousFile()),this._fileItems=this._fileItems.filter((function(i){return i.fileId!=e.fileId})),i?this._loadFile(i):this.modal.remove()},PF.FileLibrary.Preview.prototype._loadList=function(){this._searchPar.onlySampleFiles?this.repository.getSampleFiles(this._searchPar,this._loadListRe.bind(this)):this.repository.getFiles(this._searchPar,this._loadListRe.bind(this))},PF.FileLibrary.Preview.prototype._loadListRe=function(e){if(this._fileItems=e.items,this._totalPages=e.pages,!this._activeFileItem)for(var i in this._fileItems){this._activeFileItem=this._fileItems[i];break}this._loadFile(this._activeFileItem)},PF.FileLibrary.Preview.prototype.init=function(){if(this.minimalistic){var e=this._popupBackgroundColor?" library-preview__content--minimalistic-mockup":"";this.previewNode=tag("div","row library-preview__content library-preview__content--minimalistic"+e,[tag("div","modal-header",[tag("button",{className:"close pf-m-0",attr:{"data-dismiss":"modal"}},[tag("i","pf-i pf-i-close pf-i-24"),tag("span","sr-only",lang("Close"))]),tag("h4","pf-m-0",lang("Preview"))]),tag("div","col-md-12 library-preview__image-row",[tag("div","row",[tag("div","col-xs-12 text-center",[this.imageNode=tag("img","preview-image")])])])])}else this.previewNode=tag("div","row library-preview__content",[tag("div","col-md-4 order-2 library-preview__detail-row",[tag("div","pf-p-12",[tag("div","row",[tag("div","col-md-12 text-right",[tag("button",{className:"close pf-m-0",attr:{"data-dismiss":"modal"}},[tag("i","pf-i pf-i-close pf-i-36"),tag("i","sr-only",lang("Close"))])])]),tag("div","row",[tag("div","col-md-12",[this.nameNode=tag("h4","word-wrap-break"),this.sizeNode=tag("p","text-muted pf-m-0 pf-mb-4"),this.dateNode=tag("p","text-muted pf-m-0 pf-mb-24"),this.errorMessageNode=tag("p","pf-text-red"),this.designServicesNode=tag("div"),this.menuNode=tag("div")])])])]),tag("div","col-md-8 order-1 library-preview__image-row clearfix",[tag("div","row library-preview__image-wrapper pf-mx-0 pf-align-items-center",[tag("div","row library-preview__image pf-mx-0 pf-p-16 pf-py-xs-32 text-center",[tag("div","col-1 pf-my-auto pf-d-none pf-d-xs-block text-right"+(this._isSingleFile?" hidden":""),[tag("a",{className:"preview-navigate-left black-gray cgray padding-10 round hover-cwhite",onclick:this.onNavigateLeft.bind(this)},[tag("i","glyphicon glyphicon-chevron-left")])]),tag("div","col-12 col-xs-10 pf-px-4 preview-image__wrap pf-my-auto",[this.imageNode=tag("img","preview-image pf-px-0 pf-px-xs-16")]),tag("div","col-1 pf-my-auto pf-d-none pf-d-xs-block text-left"+(this._isSingleFile?" hidden":""),[tag("a",{className:"preview-navigate-right black-gray cgray pf-p-12 round hover-cwhite",onclick:this.onNavigateRight.bind(this)},[tag("i","glyphicon glyphicon-chevron-right")])])]),this.previewThumbRowNode=tag("div","row pf-d-none pf-d-xs-block text-center pf-pb-32 pf-m-0 library-preview__thumbs"+(this._isSingleFile?" hidden":"")),tag("div","pf-d-block pf-d-xs-none pf-mb-24",[tag("div","row pf-mx-0",[tag("div","col-2 pf-my-auto text-right"+(this._isSingleFile?" hidden":""),[tag("a",{className:"preview-navigate-left black-gray cgray padding-10 round hover-cwhite",onclick:this.onNavigateLeft.bind(this)},[tag("i","glyphicon glyphicon-chevron-left")])]),this.previewThumbRowNodeMobile=tag("div","col-8 text-center pf-m-0 library-preview__thumbs"+(this._isSingleFile?" hidden":"")),tag("div","col-2 pf-my-auto text-left"+(this._isSingleFile?" hidden":""),[tag("a",{className:"preview-navigate-right black-gray cgray pf-p-12 round hover-cwhite",onclick:this.onNavigateRight.bind(this)},[tag("i","glyphicon glyphicon-chevron-right")])])])])])])]);this.previewNode.append(this.modal._nodeBody),$(this.modal._nodeContent).html($(this.modal._nodeBody)),this.initKeyboardEvents()},PF.FileLibrary.Preview.prototype.initKeyboardEvents=function(){$(document).on("keyup"+this.keyupEventNamespace,$.proxy((function(e){this._isPageLoadingCurrently||(37==e.keyCode&&this.onNavigateLeft(),39==e.keyCode&&this.onNavigateRight())}),this))},PF.FileLibrary.Preview.prototype.onNavigateLeft=function(){var e=this.getPreviousFile();e&&this._loadFile(e)},PF.FileLibrary.Preview.prototype.onNavigateRight=function(){var e=this.getNextFile();e&&this._loadFile(e)},PF.FileLibrary.Preview.prototype.onSwipe=function(e){"swipeleft"==e?this.onNavigateRight():"swiperight"==e&&this.onNavigateLeft()},PF.FileLibrary.Preview.prototype.getPreviousFile=function(){var e=this._getActiveIndex()-1;return this._fileItems[e]?this._fileItems[e]:null},PF.FileLibrary.Preview.prototype._getActiveIndex=function(){for(var e in this._fileItems)if(this._fileItems[e].fileId==this._activeFileItem.fileId)return parseInt(e,10);return 0},PF.FileLibrary.Preview.prototype.getNextFile=function(){var e=this._getActiveIndex()+1;return this._fileItems[e]?this._fileItems[e]:null},PF.FileLibrary.Preview.prototype._loadFile=function(e){e=this.repository.getCachedFile(e.fileId),this.imageNode.src=e.getUrlPreviewOrLoading(),this._activeFileItem=e,this.minimalistic?this.modal.setTitle(lang("Preview")):(this.sizeNode.textContent=e.getSizeReadable()+" / "+e.inchDimensionsWithFallback,this.dateNode.textContent=moment.unix(e.createdAt).format("MMM D, h:ma"),this.errorMessageNode.textContent=e.isCorrupted()?dlang("generator","Files must be one page long"):"",mkE.clearNode(this.designServicesNode),e.employee&&new PF.FileLibrary.Preview.DesignServices(e).append(this.designServicesNode),mkE.clearNode(this.menuNode),mkE.clearNode(this.nameNode),new PF.FileLibrary.Preview.Name(e).append(this.nameNode),new PF.FileLibrary.Preview.Menu(e,this._onPickedCallback?$.proxy(this._onFilePicked,this,e):null,this.minimalistic).append(this.menuNode),mkE.clearNode(this.previewThumbRowNodeMobile),mkE.clearNode(this.previewThumbRowNode),new PF.FileLibrary.Preview.ThumbList(this._getThumbnailList(2),e,$.proxy(this._loadFile,this)).append(this.previewThumbRowNodeMobile),new PF.FileLibrary.Preview.ThumbList(this._getThumbnailList(6),e,$.proxy(this._loadFile,this)).append(this.previewThumbRowNode)),this._checkAndPreloadIsNeeded();var i=function(e){e&&((new Image).src=e.getUrlPreviewOrLoading())};i(this.getNextFile()),i(this.getPreviousFile())},PF.FileLibrary.Preview.prototype._onFilePicked=function(e){this._onPickedCallback(e),this.modal.remove()},PF.FileLibrary.Preview.prototype._onModalClose=function(){this.modal.remove(),this.modal=null,$(document).unbind(this.keyupEventNamespace),PF.Events.off(PF.Repositories.LibraryRepository.EVENT_FILE_DELETED,this._onFileDeleted)},PF.FileLibrary.Preview.prototype._getThumbnailList=function(e){var i=this._getActiveIndex(),t=e,a=this._fileItems.length;if(a<=t)return this._fileItems.slice();if(0==i||i-t<0)return this._fileItems.slice(0,t);if(i+t>a)return this._fileItems.slice(a-t,a);var r=Math.ceil(t/2);return this._fileItems.slice(i-r,i+r)},PF.FileLibrary.Preview.prototype._preloadNextPage=function(){this._minPageLoaded>=this._totalPages||(this._maxPageLoaded+=1,this._preloadPage(this._maxPageLoaded))},PF.FileLibrary.Preview.prototype._preloadPreviousPage=function(){this._minPageLoaded<=1||(this._minPageLoaded-=1,this._preloadPage(this._minPageLoaded))},PF.FileLibrary.Preview.prototype._preloadPage=function(e){PF.LoadingOverlay.show(this.previewNode),this._searchPar.page=e,this._isPageLoadingCurrently=!0,this._searchPar.onlySampleFiles?this.repository.getSampleFiles(this._searchPar,this._pageLoaded.bind(this)):this.repository.getFiles(this._searchPar,this._pageLoaded.bind(this))},PF.FileLibrary.Preview.prototype._checkAndPreloadIsNeeded=function(){var e=this._getActiveIndex();e<5&&this._preloadPreviousPage(),e>this._fileItems.length-5&&this._preloadNextPage()},PF.FileLibrary.Preview.prototype._pageLoaded=function(e){PF.LoadingOverlay.hide(this.previewNode),this._totalPages=e.pages,this._isPageLoadingCurrently=!1;var i,t=this._fileItems;if(this._fileItems=[],e.page==this._minPageLoaded)for(i in e.items)this._fileItems.push(e.items[i]);for(i in t)this._fileItems.push(t[i]);if(e.page==this._maxPageLoaded)for(i in e.items)this._fileItems.push(e.items[i])},PF.FileLibrary.Preview.viewList=function(e){var i=new PF.Repositories.LibraryRepository.SearchPar;for(var t in i.page=1,i.perPage=10,i.fileIds=[],e){var a=e[t];a===PF.Items.FileItem.ID_TEMP_GENERATOR_FILE||i.fileIds.indexOf(a)>-1||i.fileIds.push(a)}new PF.FileLibrary.Preview(i)}}()},"dJr+":function(e,i){!function(){"use strict";PF.FileLibrary.Par=Class({storeId:null,allowStoreChange:!0,includeSwatches:!1,productId:null,technique:null,productType:null,showSearch:!0,showTabSelector:!0,search:"",fileGroup:"",perPage:24,onPickCallback:null,onPickMultipleCallback:null,uploadUrl:null,uploadCallbackUrl:"library/upload-callback",uploadDataUrl:"library/retrieve-upload-data",uploadButtonClasses:null,loadFileList:!0,withDropZone:!0,onDoneCallback:null,withInstructions:!0,activeTab:null,isModal:!1,hideSampleFiles:!1,sampleBannerImage:"",__construct:function(){var e=Math.round(5*Math.random())+1;this.sampleBannerImage="/static/images/library/quotes-design-services-"+e+"_image.png"}})}()},fhHL:function(e,i){!function(){"use strict";PF.FileLibrary.Preview.Name=Class({__construct:function(e){this._fileItem=e,this.node=mkE({tag:"div",className:"file-name"}),this._renderEditable()},_renderEditable:function(){mkE.clearNode(this.node);var e=mkE({tag:"a",className:"icon-edit edit-icons",style:{color:"#a7a7a7"},onclick:this._renderEditing,title:lang("Edit file name")});$(e).tooltip({html:!0}),mkE({tag:"div",els:[this._fileItem.filename+" ",e]}).append(this.node)},_renderEditing:function(){mkE.clearNode(this.node),this.textarea=mkE({tag:"textarea",text:this._fileItem.filename,prop:{onkeydown:this._onEditKeyDown,onkeyup:this._onEditKeyUp,onblur:this._approveEditedName},style:{height:"39px"}}).append(this.node),PF.Utils.textareaAutoHeight(this.textarea),this.textarea.select()},_onEditKeyUp:function(e){e.stopPropagation(),27==e.keyCode&&(this.textarea.onblur=null,this._renderEditable())},_onEditKeyDown:function(e){e.stopPropagation(),13==e.keyCode&&(e.preventDefault(),this.textarea.onblur=null,this._approveEditedName())},_approveEditedName:function(){var e=$.trim(this.textarea.value);e&&(new PF.Repositories.LibraryRepository).renameFile(this._fileItem,e,this._onFileRenamed)},_onFileRenamed:function(e){this._fileItem=e,this._renderEditable()}},mkE.Base)}()},l19W:function(e,i){!function(){"use strict";PF.FileLibrary.CopyrightWarning=function(e){this.node=mkE({tag:"div",className:"copyright-warning",els:[{tag:"div",className:"list-header",text:dlang("library","By uploading or saving a design you agree that:")},{tag:"ul",els:[{tag:"li",els:[{tag:"span",innerHTML:dlang("library",'All content complies with our <a href="{termsUrl}" class="pf-link" target="_blank">Terms of Service</a> and <a href="{guidelinesUrl}" class="pf-link" target="_blank">Acceptable Content Guidelines</a>.').replace("{termsUrl}",langUrl("/terms")).replace("{guidelinesUrl}",langUrl("/content-guidelines"))}]},{tag:"li",text:dlang("library","You hold full rights to commercially reproduce this content.")},{tag:"li",text:dlang("library","Your content does not express hate towards any person or group.")},{tag:"li",text:dlang("library","Your content does not depict illegal activities.")},{tag:"li",text:dlang("library","You understand that we act under your instructions and are not obligated in any way to check or confirm the legal use of reproducing any content.")},{tag:"li",text:dlang("library","You indemnify and defend Printful for any claims made as a result of alleged infringements.")},{tag:"li",text:dlang("library","All content is subject to review and may be removed at any time without prior notice.")}]},{tag:"label",els:[this.nodeCheckbox=mkE({tag:"input",type:"checkbox",className:"margin-right-5",prop:{onchange:this.onChange.bind(this)}})," ",dlang("library","I understand and accept these conditions.")]},this.nodeAccept=mkE({tag:"a",className:"btn btn-danger disabled margin-top-10",text:dlang("library","I accept"),onclick:$.proxy((function(){ga("send",{hitType:"event",eventCategory:"FileLibrary",eventAction:"Accept copyright warning"}),(new PF.Repositories.LibraryRepository).confirmCopyrights(),this.rememberShown(),e()}),this)})]})},PF.FileLibrary.CopyrightWarning.prototype=new mkE.Base,PF.FileLibrary.CopyrightWarning.prototype.storageKey="copyrightWarningSeen3",PF.FileLibrary.CopyrightWarning.prototype.onChange=function(){mkE.removeClassName(this.nodeAccept,"disabled"),this.nodeCheckbox.checked||mkE.addClassName(this.nodeAccept,"disabled")},PF.FileLibrary.CopyrightWarning.prototype.shouldShow=function(){return PF.Customer.isLogged()?!PF.Customer.copyright_seen:localStorage&&"seen"!==localStorage.getItem(this.storageKey)},PF.FileLibrary.CopyrightWarning.prototype.rememberShown=function(){try{PF.Customer.copyright_seen=1,localStorage.setItem(this.storageKey,"seen")}catch(e){alert(dlang("library",'Your web browser does not support storing settings locally. In Safari, the most common cause of this is using "Private Browsing Mode". Some settings may not save or some features may not work properly for you.'))}},PF.FileLibrary.CopyrightWarning.showPopup=function(e){var i,t=new PF.FileLibrary.CopyrightWarning((function(){i.remove(),e()}));if(t.shouldShow()){ga("send",{hitType:"event",eventCategory:"FileLibrary",eventAction:"See copyright warning"});var a=new PF.Modal.Par;a.modalDialogClass="copyright-warning-popup",a.title=dlang("library","Uploading photos and Images"),a.useScrollableModal=!0,(i=new PF.Modal(a)).setContent(t.node),i.show()}else e()}}()},l99J:function(e,i){!function(){"use strict";PF.FileLibrary.ProcessingWatcher={_callbacks:{},_timeoutId:null,_interval:2e3,_getRepository:function(){return new PF.Repositories.LibraryRepository},listen:function(e,i){if((e=this._getRepository().getCachedFile(e.fileId)).isProcessing()){var t=this._callbacks[e.fileId]||[];return t.push(i),this._callbacks[e.fileId]=t,void this._delayedLoop()}i(e)},_delayedLoop:function(){Object.keys(this._callbacks).length&&!this._timeoutId&&(this._timeoutId=setTimeout(this._performCheck.bind(this),this._interval))},_performCheck:function(){this._getRepository().getByIds(Object.keys(this._callbacks),this._performCheckRe.bind(this),!0)},_performCheckRe:function(e){for(var i in e){var t=e[i];if(!t.isProcessing()){var a=this._callbacks[t.fileId]||[];for(var r in delete this._callbacks[t.fileId],a)a[r](t)}}this._timeoutId=null,this._delayedLoop()}}}()},mHuR:function(e,i){!function(){"use strict";PF.FileLibrary.FileList.Item.Par=Class({fileItem:null,onPicked:null,onChecked:null,onPreview:null,isModal:!1})}()},"vKL+":function(e,i){!function(){"use strict";PF.FileLibrary.EmbroideryWarning=function(e){this.guidelineLink=langUrl("/custom/embroidered/hats/yupoong-6245cm-unstructured-classic-dad-cap#guidelines"),this.node=tag("div",null,[tag("div","pf-p-16",[tag("div","alert alert-warning",[tag("p",{className:"pf-mb-0",innerHTML:dlang("library",'<strong>Please format your files according to the information below and on</strong> <a href="{url}" class="text-bold" target="_blank"> our guidelines </a> to make sure we can have them embroidered as quickly as possible.').replace("{url}",this.guidelineLink)}),tag("p","pf-mb-18",[tag("strong",null,dlang("library","If your graphic doesn’t meet our requirements, we can’t guarantee the quality of the end product."))]),tag("div","pf-mb-18",[tag("p","pf-mb-0",[tag("strong",null,dlang("library","Please note:"))]),tag("p",{className:"pf-mb-0",innerHTML:dlang("library","1. Highly <strong>detailed graphics </strong>that ignore our guidelines <strong>may be run stitched </strong> (see #8 below)")}),tag("p",{className:"pf-mb-0",innerHTML:dlang("library","2. Orders made with embroidery files that are otherwise defective <strong>will be put on hold</strong>")})]),tag("p",{className:"pf-mb-0",innerHTML:dlang("library",'To create more accurate designs and visualize the outcome of your product, order our <a href="{url}" class="text-bold" target="_blank">embroidery sample</a>.').replace("{url}",langUrl("/custom/hats-embroidery/231/embroidery-sample?tab=Info"))})]),tag("div","pf-mb-0",[tag("img",{className:"embroidery-image",src:"/static/images/embroidery/embroidery-warning.png"})]),tag("ol","emb-list emb-list-modal",[tag("li","pf-mb-0",[tag("div","emb-title color_dark-red",[tag("span","number","1."),dlang("library","High profile template")])]),tag("li","pf-mb-0",[tag("div","emb-title color_soft-green",[tag("span","number","2."),dlang("library","Low profile template")])]),tag("li","pf-mb-0",[tag("div","emb-title color_medium-blue",[tag("span","number","3."),dlang("library","Side logo template")])]),tag("li","pf-mb-0",[tag("div","emb-title color_soft-blue",[tag("span","number","4."),dlang("library","Flat embroidery")])]),tag("li","pf-mb-0",[tag("div","emb-title color_black",[tag("span","number","5."),dlang("library","3D Puff embroidery")]),tag("div","emb-desc",[dlang("library","A technique where embroidery is raised. Used mostly for big shapes.")])]),tag("li","pf-mb-0",[tag("div","emb-title color_soft-yellow",[tag("span","number","6."),dlang("library","Partial 3D Puff")]),tag("div","emb-desc",[dlang("library","A technique where both Flat embroidery and 3D Puff used in the same graphic.")])]),tag("li","pf-mb-0",[tag("div","emb-title color_soft-brown",[tag("span","number","7."),dlang("library","Satin stitch outline")]),tag("div","emb-desc",[dlang("library","Used to outline an object or to cap a 3D Puff design. It’s a long, straight embroidery stitch that looks like satin.")])]),tag("li","pf-mb-0",[tag("div","emb-title color_soft-grey",[tag("span","number","8."),dclang("library","The running stitch","Run stitch")]),tag("div","emb-desc",[dlang("library","The running stitch is the basic stitch embroidery. The stitch is worked by passing the needle in and out of the fabric going straight forward in a line.")])]),tag("li","pf-mb-0",[tag("div","emb-title color_soft-pink",[tag("span","number","9."),dlang("library","Tatami fill")]),tag("div","emb-desc",[dclang("library","Tatami fill description","Used to fill large areas.")])])]),tag("h4","pf-mt-32",dlang("library","Don’t skip our video tutorial")),this._videoEmbed=tag("div",{className:"video-embed pf-py-12",style:{maxWidth:"600px",marginLeft:"auto",marginRight:"auto"}},[tag("iframe",{src:"https://www.youtube.com/embed/-WIQTaAlMx8",attr:{width:560,height:315,frameborder:0,allowfullscreen:""}})])]),tag("label","pf-p-16 popup-label",[this.nodeCheckbox=tag("input",{type:"checkbox"})," ",dlang("library","I have reviewed the requirements, don’t show this again.")]),tag("div","pf-p-16 border-top",[this.nodeAccept=tag("a",{className:"btn btn-danger",onclick:function(){ga("send",{hitType:"event",eventCategory:"FileLibrary",eventAction:"Accept copyright warning"}),this.nodeCheckbox.checked&&((new PF.Repositories.LibraryRepository).confirmEmbroidery(),this.rememberShown()),e()}.bind(this)},dlang("library","I accept"))])]),$([this._videoEmbed]).fitVids()},PF.FileLibrary.EmbroideryWarning.prototype=new mkE.Base,PF.FileLibrary.EmbroideryWarning.prototype.storageKey="embroideryWarningSeen3",PF.FileLibrary.EmbroideryWarning.prototype.shouldShow=function(){return PF.Customer.isLogged()?!PF.Customer.embroidery_seen:localStorage&&"seen"!==localStorage.getItem(this.storageKey)},PF.FileLibrary.EmbroideryWarning.prototype.rememberShown=function(){try{PF.Customer.embroidery_seen=1,localStorage.setItem(this.storageKey,"seen")}catch(e){alert(dlang("library",'Your web browser does not support storing settings locally. In Safari, the most common cause of this is using "Private Browsing Mode". Some settings may not save or some features may not work properly for you.'))}},PF.FileLibrary.EmbroideryWarning.showPopup=function(e){var i,t=new PF.FileLibrary.EmbroideryWarning((function(){i.remove()}));if(t.shouldShow()){ga("send",{hitType:"event",eventCategory:"FileLibrary",eventAction:"See embroidery warning"});var a=new PF.Modal.Par;a.modalDialogClass="modal-dialog__embroidery-info",a.title=dlang("library","Please double check your embroidery file"),a.onClose=e,(i=new PF.Modal(a)).setContent(t.node),i.show()}else e()}}()},xb4v:function(e,i){!function(){"use strict";PF.FileLibrary=function(e){PF.FileLibrary.instanceCounter+=1,this.libraryRepository=new PF.Repositories.LibraryRepository,this.par=new PF.FileLibrary.Par,mkE.O2O(this.par,e||{}),this._libraryTabs=new PF.FileLibrary.Tabs(this.par.showTabSelector,this.par.hideSampleFiles),this.node=tag("div",{className:"file-library dropzone",data:{content:dlang("library","Drop files here")}}),this._render(),this._init()},PF.FileLibrary.instanceCounter=0,PF.FileLibrary.prototype=new mkE.Base,PF.FileLibrary.prototype._render=function(){mkE.clearNode(this.node);var e=this.par.showSearch?"":" filter--no-search",i=this.par.allowStoreChange?"":" filter--no-stores";this.nodeFilter=tag("div","filter"+e+i),this._renderFilterCells(),this.nodeFileMover=tag("div","file-mover hidden"),this.nodeMyFileList=tag("div"),this.nodeSampleFileList=tag("div"),this._libraryTabs.append(this.node);var t=[this.nodeFilter,this.nodeFileMover,this.nodeMyFileList],a=[this.nodeSampleFileList];if(!this.par.hideSampleFiles&&!localStorage.getItem("showSampleFiles-"+PF.Customer.customerId)){var r=new PF.Components.Alert([tag("div","pf-d-flex pf-flex-column pf-align-items-center pf-flex-md-row relative__block",[tag("img",{className:"img-responsive pf-mx-32 pf-mx-md-32 pf-mx-auto pf-mb-24 pf-mb-md-0",style:{maxHeight:"140px"},src:this.par.sampleBannerImage}),tag("div","text-center text-md-left pf-my-auto pf-mx-16 pf-mx-md-0",[tag("h5",{className:"pf-h3 pf-mb-8",style:{fontSize:"24px"},text:dlang("library","Use sample files made by our in-house designers!")}),tag("p",{className:"text-muted pf-ui-body",innerHTML:dlang("library",'Our talented designers can help you with any design needs you have – <a href="{url}" class="pf-link" target="_blank">get in touch with them</a>').replace("{url}",langUrl("/design-services"))})]),tag("i",{className:"cross__close",onclick:function(){return localStorage.setItem("showSampleFiles-"+PF.Customer.customerId,!0),r.prettyRemove(),ga("send","event","File Library","Sample file notification","Notification closed"),!1}})])],"grey pf-pl-16 pf-pl-md-0 pf-border");mkE.addClassName(r.node,"pf-my-32"),a.unshift(r.node)}this._libraryTabs.buildTabContent(PF.FileLibrary.Tabs.TAB_MY_FILES,t),this.par.hideSampleFiles||this._libraryTabs.buildTabContent(PF.FileLibrary.Tabs.TAB_SAMPLE_FILES,a),this._libraryTabs.renderLibraryTabContents(this.node),this._libraryTabs.setActiveLibraryTab(this.par.activeTab||PF.FileLibrary.Tabs.TAB_MY_FILES)},PF.FileLibrary.prototype._init=function(){this._loadStoreAndFileList(),this.par.hideSampleFiles||this._loadSampleFileList(),this._initUploader(),this.par.withDropZone&&this._initDropZoneEvents()},PF.FileLibrary.prototype._renderFilterCells=function(){this.nodeUploadInput=mkE({tag:"input",type:"file",attr:{name:"file",multiple:"multiple"}}),this.nodeSearch=mkE({tag:"input",type:"text",value:this.par.search,style:{display:"block"},id:"library-search-"+PF.FileLibrary.instanceCounter,prop:{onkeyup:this.onSearchChange.bind(this),onchange:this.onSearchChange.bind(this)}});var e=[];this.par.allowStoreChange&&e.push({tag:"div",className:"filter-store-select",els:[this.nodeStoreSelect=mkE({tag:"select",className:"styled-select",prop:{onchange:this.onStoreSelectChange.bind(this)}})]}),this.par.showSearch&&e.push({tag:"div",className:"filter-search",els:[{tag:"div",style:{minHeight:"39px"},els:[this.nodeSearch]}]});var i="";for(var t in PF.EMBED_STORE||(i={tag:"td",style:{paddingLeft:"10px",width:"50px"},els:[new PF.FileLibrary.GoogleDrivePicker.Button(this.onGoogleDriveFilePicked.bind(this))]}),e.push({tag:"div",className:"filter-upload-methods",els:[{tag:"table",className:"table",els:[{tag:"tr",els:[{tag:"td",els:[{tag:"form",className:"form-inline hidden",attr:{method:"post",action:PF.Config.S3_UPLOAD_URL,enctype:"multipart/form-data"},els:[this.nodeUploadInput]},this.nodeUploadButton=mkE({tag:"a",className:this.par.uploadButtonClasses?this.par.uploadButtonClasses:"btn btn-danger btn-block",text:lang("Upload"),onclick:this.onDefaultUploadClick.bind(this)})]},i,{tag:"td",style:{paddingLeft:"10px",width:"50px"},els:[new PF.FileLibrary.DropBoxPicker(this.onDropBoxFilePicked.bind(this))]}]}]}]}),e.push({tag:"div",className:"clearfix"}),e)mkE(e[t]).append(this.nodeFilter)},PF.FileLibrary.prototype.append=function(e){return this.node.append(e),this.initTagsInput(),this},PF.FileLibrary.prototype.remove=function(){return this.uploader.destroy(),this.node.remove(),$(document).off(this.getEventNamespace()),this},PF.FileLibrary.prototype.getEventNamespace=function(){return".file-library-"+PF.FileLibrary.instanceCounter},PF.FileLibrary.prototype.onDefaultUploadClick=function(e){!0===e?(ga("send",{hitType:"event",eventCategory:"FileLibrary",eventAction:"Default file upload"}),$(this.nodeFilter).find("input[type=file]").click()):PF.FileLibrary.CopyrightWarning.showPopup($.proxy(this.onDefaultUploadClick,this,!0,!1))},PF.FileLibrary.prototype.onGoogleDriveFilePicked=function(e){this.libraryRepository.createFromGoogleDrive(this.par.fileGroup,this.nodeSearch.value,this.par.storeId,e.googleFilename,e.googleFileId,e.oAuthToken,this.fileList.load.bind(this.fileList,1))},PF.FileLibrary.prototype.onDropBoxFilePicked=function(e,i){this.libraryRepository.createFromUrl(this.par.fileGroup,this.nodeSearch.value,this.par.storeId,i,e,$.proxy(this.fileList.load,this.fileList,1))},PF.FileLibrary.prototype._initUploader=function(){var e=new PF.Uploader.Par;e.node=this.nodeUploadInput,e.nodeDropZone=this.node,e.uploadUrl=this.par.uploadUrl,e.uploadDataUrl=this.par.uploadDataUrl,e.uploadCallbackUrl=this.par.uploadCallbackUrl,e.enableTransparencyValidation=!0,e.getUploadExtra=function(){return{storeId:this.par.storeId,group:this.par.fileGroup,tags:this.nodeSearch.value}}.bind(this),e.onDone=function(e){this.fileList&&this.fileList.reloadPage(!0),$(this.nodeUploadButton).text(lang("Upload")),this.par.onDoneCallback&&this.par.onDoneCallback()}.bind(this),e.onProgress=function(e){$(this.nodeUploadButton).text(e+"%")}.bind(this),e.onStart=function(){$(this.nodeUploadButton).text(lang("Starting…")),this.par.showTabSelector&&this._libraryTabs.setActiveLibraryTab(PF.FileLibrary.Tabs.TAB_MY_FILES)}.bind(this),e.onProcessFail=function(e,i){$(this.nodeUploadButton).text(lang("Upload"));var t=new PF.Components.Alert(dlang("generator","Warning: {error}").replace("{error}",i),"danger",!1,!1,!0).append(this.nodeFilter);mkE.addClassName(t.node,"alert-relative"),setTimeout((function(){t.prettyRemove()}),1e4)}.bind(this),e.onFail=function(e){$(this.nodeUploadButton).text(lang("Upload"))}.bind(this),this.uploader=new PF.Uploader(e)},PF.FileLibrary.prototype.initTagsInput=function(){0!=$("#"+this.nodeSearch.id).length?$(this.nodeSearch).tagsInput({width:"auto",height:"39px",defaultText:this.par.productType?"":dlang("library","Search files"),autocomplete:{minLength:0,appendTo:this.node},autocomplete_source:$.proxy((function(e,i){$.ajax({url:"/dashboard/library/autocomplete",dataType:"json",data:{term:e.term,store:this.par.storeId},success:function(e){i(e)}})}),this),onAddTag:$.proxy(this.onSearchChange,this),onRemoveTag:$.proxy(this.onSearchChange,this)}):setTimeout($.proxy(this.initTagsInput,this),200)},PF.FileLibrary.prototype._loadStoreAndFileList=function(){this.par.allowStoreChange?(new PF.Repositories.StoreRepository).getStoresWithPrintFiles(this.storesRe.bind(this)):this.loadFileList(this.par.storeId)},PF.FileLibrary.prototype.storesRe=function(e){if(e.length){var i,t,a,r=[],o=[];for(i in e){var s=e[i];s.isRemoved()?(a||(a=s),o.push(s)):(t||(t=s),r.push(s))}t=t||a,mkE.clearNode(this.nodeStoreSelect);var l=function(e){return{tag:"option",value:e.storeId,text:e.name}};if(r.length){var n=mkE({tag:"optgroup",attr:{label:dlang("library","Active stores")}});for(i in r)mkE(l(r[i])).append(o.length?n:this.nodeStoreSelect);o.length&&n.append(this.nodeStoreSelect)}if(o.length){var d=mkE({tag:"optgroup",attr:{label:dlang("library","Removed stores")}}).append(this.nodeStoreSelect);for(i in o)mkE(l(o[i])).append(d)}this.par.storeId||(this.par.storeId=t.storeId),this.nodeStoreSelect.value=this.par.storeId,this.loadFileList(),this.loadFileMover(e)}else this._requireStoreForLibrary()},PF.FileLibrary.prototype._requireStoreForLibrary=function(){var e=new PF.Components.StorePicker.Par;e.callback=$.proxy(this._onStoreCreatedForLibrary,this),setTimeout((function(){PF.Components.StorePicker.popup(e,dlang("library","Create a store for storing files"))}),100)},PF.FileLibrary.prototype._onStoreCreatedForLibrary=function(){this._loadStoreAndFileList()},PF.FileLibrary.prototype.loadFileList=function(){if(PF.Events.off(PF.Repositories.LibraryRepository.EVENT_FILE_DELETED,this._fileDeleted),PF.Events.on(PF.Repositories.LibraryRepository.EVENT_FILE_DELETED,this._fileDeleted,this),mkE.clearNode(this.nodeMyFileList),this.par.loadFileList){var e=new PF.FileLibrary.FileList.Par;e.storeId=this.par.storeId,e.search=this.par.search,e.onPickCallback=this.par.onPickCallback,e.withInstructions=this.par.withInstructions,e.isModal=this.par.isModal,(this.par.onPickMultipleCallback||this._getCurrentStore().isRemoved())&&(e.onCheckedCallback=this._onFileChecked.bind(this)),e.perPage=this.par.perPage,this.par.includeSwatches&&this.par.productId&&(e.productId=this.par.productId),this.fileList=new PF.FileLibrary.FileList(e),this.fileList.append(this.nodeMyFileList),this._toggleFileMover()}},PF.FileLibrary.prototype._loadSampleFileList=function(){mkE.clearNode(this.nodeSampleFileList);var e=new PF.FileLibrary.FileList.Par;e.perPage=this.par.perPage,e.onlySampleFiles=!0,e.withInstructions=!1,e.onPickCallback=this.par.onPickCallback,e.isModal=this.par.isModal,e.includeSwatches=this.par.includeSwatches,this.par.productId&&(e.productId=this.par.productId),this.par.technique&&(e.technique=this.par.technique),new PF.FileLibrary.FileList(e).append(this.nodeSampleFileList)},PF.FileLibrary.prototype._onFileChecked=function(){var e=this.fileList.getCheckedFileItems();this.par.onPickMultipleCallback&&this.par.onPickMultipleCallback(e),this._fileMover.setFiles(e)},PF.FileLibrary.prototype._fileDeleted=function(e){this.fileList&&this.fileList.removeFileItemFromList(e)},PF.FileLibrary.prototype._toggleFileMover=function(){this._getCurrentStore().isRemoved()?mkE.removeClassName(this.nodeFileMover,"hidden"):mkE.addClassName(this.nodeFileMover,"hidden")},PF.FileLibrary.prototype.loadFileMover=function(e){mkE.clearNode(this.nodeFileMover),this._fileMover=new PF.FileLibrary.FileMover(e,this._onFilesMoved.bind(this)),this._fileMover.append(this.nodeFileMover)},PF.FileLibrary.prototype._onFilesMoved=function(){this.fileList.unCheckAllFileItems(),this._fileMover.setFiles([]),this.par.onPickMultipleCallback&&this.par.onPickMultipleCallback([])},PF.FileLibrary.prototype.onStoreSelectChange=function(){this.par.storeId=this.nodeStoreSelect.value,this.loadFileList()},PF.FileLibrary.prototype._getCurrentStore=function(){return(new PF.Repositories.StoreRepository).getCachedStore(this.par.storeId)},PF.FileLibrary.prototype.onSearchChange=function(){this.par.search=this.nodeSearch.value,this.loadFileList()},PF.FileLibrary.prototype._initDropZoneEvents=function(){$(document).on("dragover"+this.getEventNamespace(),$.proxy((function(e){var i,t=$(this.node),a=PF.FileLibrary._dropZoneTimeout;a?clearTimeout(a):t.addClass("dropzone-hover");var r=!1,o=e.target;do{if($(o).hasClass("dropzone")){r=!0,i=$(o);break}o=o.parentNode}while(null!=o);t.removeClass("dropzone-hover"),r&&i.addClass("dropzone-hover"),PF.FileLibrary._dropZoneTimeout=setTimeout((function(){delete PF.FileLibrary._dropZoneTimeout,t.removeClass("dropzone-hover"),i&&i.removeClass("dropzone-hover")}),250)}),this)),$(document).on("drop"+this.getEventNamespace()+" dragover"+this.getEventNamespace(),(function(e){e.preventDefault()}))},PF.FileLibrary.popup=function(e){var i=null;if(e.onPickCallback){var t=e.onPickCallback;e.onPickCallback=function(e){i.remove(),t(e)}}e.isModal=!0;var a=new PF.FileLibrary(e),r=new PF.Modal.Par;return r.title=PF.Customer.customerId?dlang("library","Store's file library"):dlang("library","File library"),r.nodeClass="file-library-modal",r.modalDialogClass="modal-lg",r.useScrollableModal=!0,(i=new PF.Modal(r)).setContent(a),i.show(),i}}()},xgks:function(e,i){!function(){"use strict";PF.FileLibrary.FileList=Class({_listItems:[],_checkedFileIds:[],_par:null,__construct:function(e){this._par=e,this._repository=new PF.Repositories.LibraryRepository,this.node=mkE({tag:"div",className:"",els:[this._nodeUpperPaging=mkE({tag:"div"}),this._nodeItems=mkE({tag:"div",className:"row list"}),this._nodeDownPaging=mkE({tag:"div"})]}),this._load(1)},_load:function(e){(this._page!=e||this._par.syncProductId)&&PF.LoadingOverlay.show(this._nodeItems,{minHeight:226}),this._page=e,this._par.onlySampleFiles?this._repository.getSampleFiles(this._gatherSearchParameters(),this._loadRe):this._par.syncProductId?(new PF.Repositories.GeneratorRepository).getTaskMockupFiles(this._par.syncProductId,this._loadRe):this._repository.getFiles(this._gatherSearchParameters(),this._loadRe)},_gatherSearchParameters:function(){var e=new PF.Repositories.LibraryRepository.SearchPar;return e.storeId=this._par.storeId,e.search=this._par.search,e.includeSwatches=this._par.includeSwatches,e.onlySampleFiles=this._par.onlySampleFiles,e.page=this._page,e.perPage=this._par.perPage,this._par.productId&&(e.productId=this._par.productId),this._par.technique&&(e.technique=this._par.technique),e},reloadPage:function(e){this._load(e?1:this._page)},_loadRe:function(e){PF.LoadingOverlay.hide(this._nodeItems),this._renderList(e),this._renderPaging(e,this._nodeUpperPaging),this._renderPaging(e,this._nodeDownPaging),this._checkAndReloadIfProcessing(e)},_checkAndReloadIfProcessing:function(e){var i=!1;for(var t in e.items)if(e.items[t].isProcessing()){i=!0;break}if(!i&&this._callbackOnFileItemCompleted&&(PF.Pusher.unbindStore(this._par.storeId,"library","completed",this._callbackOnFileItemCompleted),delete this._callbackOnFileItemCompleted),i){var a=3e3,r=!PF.Customer.customerId;this._callbackOnFileItemCompleted||r||(this._callbackOnFileItemCompleted=this._onFileItemCompleted,PF.Pusher.subscribeStore(this._par.storeId,PF.Pusher.CHANNEL_LIBRARY,"completed",this._callbackOnFileItemCompleted),a=1e4),this._reloadProcessingFallback(a)}},_reloadProcessingFallback:function(e){this._reloadTimeoutId&&clearTimeout(this._reloadTimeoutId),this._reloadTimeoutId=setTimeout(this._reloadProcessingFallbackRe.bind(this,this._page),e)},_reloadProcessingFallbackRe:function(e){if(this._page==e)for(var i in this._listItems)if(this._listItems[i].getFileItem().isProcessing())return void this.reloadPage()},_onFileItemCompleted:function(e){var i=PF.Items.FileItem.fromArray(e);for(var t in this._repository.cacheFile(i),this._listItems){var a=this._listItems[t];if(a.getFileItem().fileId==i.fileId)return void a.setFileItem(i)}},_renderList:function(e){if(mkE.clearNode(this._nodeItems),e.total<=0){var i=[];if(this._par.search)i.push(tag("div","col-xs-12",[tag("span",{innerHTML:dlang("library",'No print files found for "<b>{searchText}</b>"').replace("{searchText}",this._par.search)}),tag("a",{className:"btn-block clearfix text-center margin-top-5 pf-link",onclick:this._searchInAllFiles,text:dlang("library","Remove all filters and search again")})]));else{var t=tag("div","col-xs-12",[tag("div","pf-mb-96 pf-d-none pf-d-sm-block",[tag("img",{src:"/static/images/custom-products/file-library.svg",prop:{style:"width: 30%"}})]),tag("div","pf-mb-48 pf-d-block pf-d-sm-none",[tag("img",{src:"/static/images/custom-products/file-library.svg",prop:{style:"width: 50%"}})]),tag("p","pf-m-0",[PF.Customer.isAnonymous()?dlang("library","No print files have been added yet."):dclang("library","No print files have been added yet for this store","No print files yet for this store.")," "+dlang("library",'Why not press the "Upload" or drag and drop files here to upload your first one?')])]);i.push(t)}var a="",r=!1;if((new Url).path.indexOf("b2c")>-1&&(r=!0),!r&&!PF.Customer.customerId){var o=new Url;(o=o.path+"?"+o.query.toString()).indexOf("b2c")>-1&&(o=langUrl("/dashboard/default/index"));var s=langUrl("/auth/login")+"?returnUrl="+o,l=langUrl("/auth/register")+"?returnUrl="+o,n=dlang("library",'<a href="{link1}" class="pf-link">Sign in</a> to access your file library. If you don\'t have an account yet, <a href="{link2}"  class="pf-link">sign up</a> here.').replace("{link1}",s).replace("{link2}",l);a=tag("div",{className:"col-xs-12 margin-top-10",innerHTML:n})}mkE({tag:"div",className:"margin-vertical-30 text-center",els:[i,a]}).append(this._nodeItems)}else{this._listItems=[];var d=[];for(var c in e.items){var p=e.items[c],h=new PF.FileLibrary.FileList.Item.Par;h.fileItem=p,h.onPicked=this._par.onPickCallback,h.onPreview=this._showPreviewPopup.bind(this,p),h.isModal=this._par.isModal,this._par.onCheckedCallback&&(h.onChecked=this._onCheckedStateChanged.bind(this));var g=new PF.FileLibrary.FileList.Item(h);1===e.total&&this._par.withInstructions&&g.showInstruction(),this._checkedFileIds.indexOf(p.fileId)>-1&&g.setChecked(!0),this._listItems.push(g),g.append(this._nodeItems),d.push(g.getDetailNode())}$(d).matchHeight(),mkE({tag:"div",className:"clearfix"}).append(this._nodeItems)}},_showPreviewPopup:function(e){new PF.FileLibrary.Preview(this._gatherSearchParameters(),e,this._par.onPickCallback?this._par.onPickCallback.bind(null):null)},_renderPaging:function(e,i){mkE.clearNode(i);var t=new PF.Components.Paging.Par;t.page=e.page,t.pages=e.pages,t.callback=this._load,new PF.Components.Paging(t).append(i)},_searchInAllFiles:function(){this._par.search="",this._load(1),ga("send",{hitType:"event",eventCategory:"FileLibrary",eventAction:"Remove filters and search again"})},getCheckedFileItems:function(){var e=[];for(var i in this._checkedFileIds)e.push(this._repository.getCachedFile(this._checkedFileIds[i]));return e},unCheckAllFileItems:function(){this._checkedFileIds=[],this.reloadPage()},_onCheckedStateChanged:function(e,i){if(i)this._checkedFileIds.push(e.fileId);else{var t=this._checkedFileIds.indexOf(e.fileId);this._checkedFileIds.splice(t,1)}this._par.onCheckedCallback&&this._par.onCheckedCallback()},removeFileItemFromList:function(e){for(var i in this._listItems)if(this._listItems[i].getFileItem().fileId==e.fileId)return void this._listItems[i].remove()},load:function(e){this._load(e)}},mkE.Base)}()},yKTD:function(e,i){!function(){"use strict";PF.Library={callback:null,sampleOrder:!1,show:function(e,i,t,a){PF.Library.callback=i;var r=e==PF.Repositories.StoreRepository.ANONYMOUS_STORE_ID,o=(new Url).query.ref==PF.OrderBegin.B2C_FLOW_KEY||(new Url).path.indexOf("/b2c/order/start")>-1,s=new PF.FileLibrary.Par;r&&(s.showSearch=!o,s.allowStoreChange=!1),s.storeId=e,s.fileGroup=t,s.includeSwatches=!!PF.Library.sampleOrder,s.onPickCallback=i,a&&(s.productId=a.id);var l=PF.FileLibrary;r?l.popup(s):null!==a?PF.FileLibrary.FileTags.getFileTagName(t,a.tagGroup,(function(e){e&&(s.search="tag: "+e),l.popup(s)})):l.popup(s)},remove:function(e,i){var t=new PF.Repositories.LibraryRepository;t.deleteFile(t.getCachedFile(e),i)},click:function(e){this.callback&&this.callback(e)}}}()}},[[8,0]]]);